<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>微前端解决方案-无界篇</title>
      <link href="/2023/01/30/%E5%BE%AE%E5%89%8D%E7%AB%AF%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88-%E6%97%A0%E7%95%8C%E7%AF%87/"/>
      <url>/2023/01/30/%E5%BE%AE%E5%89%8D%E7%AB%AF%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88-%E6%97%A0%E7%95%8C%E7%AF%87/</url>
      
        <content type="html"><![CDATA[<h2 id="附录"><a href="#附录" class="headerlink" title="附录"></a>附录</h2><ul><li><a href="https://zhuanlan.zhihu.com/p/551206945" target="_blank" rel="noopener">将微前端做到极致-无界微前端方案</a></li><li><a href="http://www.yaotu.net/biancheng/167649.html" target="_blank" rel="noopener">微前端总结</a></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> 微前端 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>微前端解决方案-qiankun篇</title>
      <link href="/2022/11/15/%E5%BE%AE%E5%89%8D%E7%AB%AF%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88-qiankun%E7%AF%87/"/>
      <url>/2022/11/15/%E5%BE%AE%E5%89%8D%E7%AB%AF%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88-qiankun%E7%AF%87/</url>
      
        <content type="html"><![CDATA[<h2 id="微前端"><a href="#微前端" class="headerlink" title="微前端"></a>微前端</h2><blockquote><p>The term Micro Frontends first came up in ThoughtWorks Technology Radar at the end of 2016. It extends the concepts of micro services to the frontend world. The current trend is to build a feature-rich and powerful browser application, aka single page app, which sits on top of a micro service architecture. Over time the frontend layer, often developed by a separate team, grows and gets more difficult to maintain. That’s what we call a Frontend Monolith<br>The idea behind Micro Frontends is to think about a website or web app as a composition of features which are owned by independent teams. Each team has a distinct area of business or mission it cares about and specialises in. A team is cross functional and develops its features end-to-end, from database to user interface.<br>However, this idea is not new. It has a lot in common with the Self-contained Systems concept. In the past approaches like this went by the name of Frontend Integration for Verticalised Systems. But Micro Frontends is clearly a more friendly and less bulky term.</p></blockquote><h2 id="qiankun"><a href="#qiankun" class="headerlink" title="qiankun"></a>qiankun</h2><p>qiankun 是一个基于 <a href="https://gitcode.net/mirrors/canopytax/single-spa?utm_source=csdn_github_accelerator" target="_blank" rel="noopener">single-span</a> 的 <a href="https://micro-frontends.org/" target="_blank" rel="noopener">微前端</a>实现库，旨在帮助大家能更简单、无痛的构建一个生产可用微前端架构系统。</p><h2 id="快速上手"><a href="#快速上手" class="headerlink" title="快速上手"></a>快速上手</h2><h3 id="主应用"><a href="#主应用" class="headerlink" title="主应用"></a>主应用</h3><ul><li><p>安装qiankun</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn add qiankun # 或者 npm i qiankun -S</span><br></pre></td></tr></table></figure></li><li><p>主应用中注册微应用</p><ul><li><p>微应用跟路由关联，当 url 发生变化，会自动触发 qiankun 的匹配逻辑</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">import &#123; registerMicroApps, start &#125; from &#39;qiankun&#39;;</span><br><span class="line"></span><br><span class="line">registerMicroApps([</span><br><span class="line">  &#123;</span><br><span class="line">    name: &#39;react app&#39;, &#x2F;&#x2F; app name registered</span><br><span class="line">    entry: &#39;&#x2F;&#x2F;localhost:7100&#39;,</span><br><span class="line">    container: &#39;#yourContainer&#39;,</span><br><span class="line">    activeRule: &#39;&#x2F;yourActiveRule&#39;,</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    name: &#39;vue app&#39;,</span><br><span class="line">    entry: &#123; scripts: [&#39;&#x2F;&#x2F;localhost:7100&#x2F;main.js&#39;] &#125;,</span><br><span class="line">    container: &#39;#yourContainer2&#39;,</span><br><span class="line">    activeRule: &#39;&#x2F;yourActiveRule2&#39;,</span><br><span class="line">  &#125;,</span><br><span class="line">]);</span><br><span class="line"></span><br><span class="line">start();</span><br></pre></td></tr></table></figure></li><li><p>微应用不跟路由关联，手动加载微应用</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">import &#123; loadMicroApp &#125; from &#39;qiankun&#39;;</span><br><span class="line"></span><br><span class="line">loadMicroApp(&#123;</span><br><span class="line">  name: &#39;app&#39;,</span><br><span class="line">  entry: &#39;&#x2F;&#x2F;localhost:7100&#39;,</span><br><span class="line">  container: &#39;#yourContainer&#39;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li></ul></li><li><p>微应用（不需要安装其他依赖，直接接入主应用）</p><ul><li><p>导出生命周期钩子（微应用需要在自己的入口 js (通常就是你配置的 webpack 的 entry js) 导出 bootstrap、mount、unmount 三个生命周期钩子，以供主应用在适当的时机调用）</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;**</span><br><span class="line">* bootstrap 只会在微应用初始化的时候调用一次，下次微应用重新进入时会直接调用 mount 钩子，不会再重复触发 bootstrap。</span><br><span class="line">* 通常我们可以在这里做一些全局变量的初始化，比如不会在 unmount 阶段被销毁的应用级别的缓存等。</span><br><span class="line">*&#x2F;</span><br><span class="line">export async function bootstrap() &#123;</span><br><span class="line">  console.log(&#39;react app bootstraped&#39;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;**</span><br><span class="line">* 应用每次进入都会调用 mount 方法，通常我们在这里触发应用的渲染方法</span><br><span class="line">*&#x2F;</span><br><span class="line">export async function mount(props) &#123;</span><br><span class="line">  ReactDOM.render(&lt;App &#x2F;&gt;, props.container ? props.container.querySelector(&#39;#root&#39;) : document.getElementById(&#39;root&#39;));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;**</span><br><span class="line">* 应用每次 切出&#x2F;卸载 会调用的方法，通常在这里我们会卸载微应用的应用实例</span><br><span class="line">*&#x2F;</span><br><span class="line">export async function unmount(props) &#123;</span><br><span class="line">  ReactDOM.unmountComponentAtNode(</span><br><span class="line">    props.container ? props.container.querySelector(&#39;#root&#39;) : document.getElementById(&#39;root&#39;),</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;**</span><br><span class="line">* 可选生命周期钩子，仅使用 loadMicroApp 方式加载微应用时生效</span><br><span class="line">*&#x2F;</span><br><span class="line">export async function update(props) &#123;</span><br><span class="line">  console.log(&#39;update props&#39;, props);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>配置微应用的打包工具（为了让主应用能正确识别微应用暴露出来的一些信息）</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; webpack 配置</span><br><span class="line">const packageName &#x3D; require(&#39;.&#x2F;package.json&#39;).name;</span><br><span class="line"></span><br><span class="line">module.exports &#x3D; &#123;</span><br><span class="line">  output: &#123;</span><br><span class="line">    library: &#96;$&#123;packageName&#125;-[name]&#96;,</span><br><span class="line">    libraryTarget: &#39;umd&#39;,</span><br><span class="line">    jsonpFunction: &#96;webpackJsonp_$&#123;packageName&#125;&#96;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li></ul></li></ul><h2 id="参考文档"><a href="#参考文档" class="headerlink" title="参考文档"></a>参考文档</h2><ul><li><a href="https://qiankun.umijs.org/zh/guide/getting-started" target="_blank" rel="noopener">qiankun</a></li><li><a href="https://micro-frontends.org/" target="_blank" rel="noopener">微前端</a></li><li><a href="https://www.cnblogs.com/goloving/p/15611909.html" target="_blank" rel="noopener">qiankun常见问题合集</a></li><li><a href="https://v3.umijs.org/zh-CN/plugins/plugin-qiankun" target="_blank" rel="noopener">umijs-qiankun</a></li><li><a href="https://www.jianshu.com/p/4d0d33bef664" target="_blank" rel="noopener">umi-antpro</a></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> 微前端 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>运行和控制 Nginx</title>
      <link href="/2022/11/15/%E8%BF%90%E8%A1%8C%E5%92%8C%E6%8E%A7%E5%88%B6-Nginx/"/>
      <url>/2022/11/15/%E8%BF%90%E8%A1%8C%E5%92%8C%E6%8E%A7%E5%88%B6-Nginx/</url>
      
        <content type="html"><![CDATA[<h3 id="Nginx-启动，停止，重启命令"><a href="#Nginx-启动，停止，重启命令" class="headerlink" title="Nginx 启动，停止，重启命令"></a>Nginx 启动，停止，重启命令</h3><p>环境： win10</p><ul><li><p>Nginx 启动：</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> nginx_addr // Nginx文件地址</span><br><span class="line"><span class="built_in">start</span> nginx // 启动 nginx</span><br><span class="line"><span class="keyword">exit</span>       // 退出 <span class="built_in">cmd</span></span><br></pre></td></tr></table></figure></li><li><p>Nginx 从容停止：</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tasklist /fi "imagename eq nginx.exe" //该命令是查看所有nginx.exe 进程</span><br><span class="line"><span class="built_in">taskkill</span> /fi "imagename eq nginx.exe" /f // 该命令作用是结束这些进程</span><br></pre></td></tr></table></figure></li><li><p>Nginx 重启：</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nginx -s reload</span><br></pre></td></tr></table></figure></li></ul><h3 id="Nginx-其他命令"><a href="#Nginx-其他命令" class="headerlink" title="Nginx 其他命令"></a>Nginx 其他命令</h3><ul><li><p>Nginx 测试配置文件。(nginx 将检查配置文件的语法的正确性，并尝试打开配置文件中所引用到的文件)</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nginx -t</span><br></pre></td></tr></table></figure></li><li><p>Nginx 查看 Nginx 版本</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nginx -v</span><br></pre></td></tr></table></figure></li></ul><hr>]]></content>
      
      
      
        <tags>
            
            <tag> Nginx </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux 常用命令</title>
      <link href="/2021/06/23/Linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/"/>
      <url>/2021/06/23/Linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/</url>
      
        <content type="html"><![CDATA[<h2 id="关机-amp-amp-重启"><a href="#关机-amp-amp-重启" class="headerlink" title="关机 &amp;&amp; 重启"></a>关机 &amp;&amp; 重启</h2><ul><li><p>关机</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">shutdown -h how #立即关机</span><br><span class="line">shutdown -h 5   #5分钟后关机</span><br><span class="line">poweroff        #立即关机</span><br></pre></td></tr></table></figure></li><li><p>重启</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">shutdown -r now #立即重启</span><br><span class="line">shutdown -r 5   #5分钟后重启</span><br><span class="line">reboot          #立即重启</span><br></pre></td></tr></table></figure></li></ul><h2 id="帮助命令"><a href="#帮助命令" class="headerlink" title="帮助命令"></a>帮助命令</h2><ul><li>help 命令<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">shutdown --help:</span><br><span class="line">ifconfig --help: #查看网卡信息</span><br></pre></td></tr></table></figure></li><li>man 命令（命令说明书）<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">man shutdown</span><br></pre></td></tr></table></figure>注意：man shutdown 打开命令说明书之后，使用按键 q 退出</li></ul><h2 id="目录操作命令"><a href="#目录操作命令" class="headerlink" title="目录操作命令"></a>目录操作命令</h2><h3 id="目录切换-cd"><a href="#目录切换-cd" class="headerlink" title="目录切换 cd"></a>目录切换 cd</h3><ul><li>命令：cd 目录<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">cd &#x2F;      #切换到根目录</span><br><span class="line">cd &#x2F;usr   #切换到根目录下的usr目录</span><br><span class="line">cd ..&#x2F;    #切换到上一级目录 或者 cd..</span><br><span class="line">cd ~      #切换到 home 目录</span><br><span class="line">cd -      #切换到上次访问的目录</span><br></pre></td></tr></table></figure></li></ul><h3 id="目录查看-ls-al"><a href="#目录查看-ls-al" class="headerlink" title="目录查看 ls[-al]"></a>目录查看 ls<span>[-al]</span></h3><ul><li>命令：cd 目录<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ls            #查看当前目录下的所有目录和文件</span><br><span class="line">ls -a         #查看当前目录下的所有目录和文件（包括隐藏的文件）</span><br><span class="line">ls -l 或 ll   #列表查看当前目录下的所有目录和文件（列表查看显示更多信息）</span><br><span class="line">ls &#x2F;dir       #查看指定目录下的所有目录和文件 如：ls&#x2F;usr</span><br></pre></td></tr></table></figure></li></ul><h2 id="目录操作【增，删，改，查】"><a href="#目录操作【增，删，改，查】" class="headerlink" title="目录操作【增，删，改，查】"></a>目录操作【增，删，改，查】</h2><h3 id="创建目录【增】-mkdir"><a href="#创建目录【增】-mkdir" class="headerlink" title="创建目录【增】 mkdir"></a>创建目录【增】 mkdir</h3><ul><li>命令：mkdir<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkdir aaa        #在当前目录下创建一个名为 aaa 的目录</span><br><span class="line">mkdir &#x2F;usr&#x2F;aaa   #在指定目录下创建一个名为 aaa 的目录</span><br></pre></td></tr></table></figure></li></ul><h3 id="删除目录或文件【删】-rm"><a href="#删除目录或文件【删】-rm" class="headerlink" title="删除目录或文件【删】 rm"></a>删除目录或文件【删】 rm</h3><ul><li>命令：rm <span>[-rf]</span> 目录<ul><li>删除文件：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">rm 文件    #删除当前目录下的文件</span><br><span class="line">rm -f 文件 #删除当前目录的文件（不询问）</span><br></pre></td></tr></table></figure></li><li>删除目录：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">rm -f aaa  #递归删除当前目录下的 aaa 目录</span><br><span class="line">rm -rf aaa #递归删除当前目录下的 aaa 目录（不询问）</span><br></pre></td></tr></table></figure></li><li>全部删除<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">rm -rf*   #将当前目录下的所有目录和文件全部删除</span><br><span class="line">rm -rf &#x2F;* #将根目录下的所有文件按全部删除（俗称删库跑路的操作）</span><br></pre></td></tr></table></figure>注意：rm 不仅可以删除目录，也可以删除其他文件或压缩包</li></ul></li></ul><h3 id="目录修改【改】-mv-和-cp"><a href="#目录修改【改】-mv-和-cp" class="headerlink" title="目录修改【改】 mv 和 cp"></a>目录修改【改】 mv 和 cp</h3><ul><li><p>重命名目录</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mv now new #将目录 now 改为 new</span><br></pre></td></tr></table></figure></li><li><p>剪切目录</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">  mv &#x2F;usr&#x2F;tmp&#x2F;aaa &#x2F;usr #将 aaa 文件剪切到 &#x2F;usr 下面变成 &#x2F;usr&#x2F;aaa</span><br><span class="line">  &#96;&#96;</span><br><span class="line"></span><br><span class="line">- 拷贝目录</span><br><span class="line">  &#96;&#96;&#96;linux</span><br><span class="line">  cp -r &#x2F;usr&#x2F;tmp&#x2F;aaa &#x2F;usr #将 aaa 文件复制到 &#x2F;usr 下面变成 &#x2F;usr&#x2F;aaa</span><br></pre></td></tr></table></figure></li></ul><h3 id="搜索目录【查】-find"><a href="#搜索目录【查】-find" class="headerlink" title="搜索目录【查】 find"></a>搜索目录【查】 find</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find &#x2F;usr&#x2F;tmp -name &#39;a*&#39; #查找&#x2F;usr&#x2F;tmp目录下的所有以a开头的目录或文件</span><br></pre></td></tr></table></figure><h2 id="文件操作命令"><a href="#文件操作命令" class="headerlink" title="文件操作命令"></a>文件操作命令</h2><h3 id="文件操作【增，删，改，查】"><a href="#文件操作【增，删，改，查】" class="headerlink" title="文件操作【增，删，改，查】"></a>文件操作【增，删，改，查】</h3><ul><li><p>新建文件【增】 touch</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">touch name.txt #在当前目录创建一个名为 name.txt 的文件</span><br></pre></td></tr></table></figure></li><li><p>删除文件【删】 rm</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rm -rf name.txt #删除 name.txt 文件</span><br></pre></td></tr></table></figure></li><li><p>修改文件【改】 vi 或 vim<br>【vi 编辑器的 3 种模式】<br>vi 基本上可以分为 3 种状态，分别是命令模式(command mode)、插入模式(insert mode)和底行模式(last line mode)</p><ul><li><p>命令行模式(command mode)<br>控制屏幕光标的移动，字符，字或行的删除，查找，移动复制某区段及进入 insert mode 下，或者到 last line mode。<br>命令行模式(command code)下的常用命令：</p><ul><li>控制光标移动：↑，↓，j</li><li>删除当前行：dd</li><li>查找：/字符</li><li>进入编辑模式：i o a</li><li>进入底行模式：:</li></ul></li><li><p>编辑模式(insert mode)<br>只有在 insert mode 下，才可以做文字输入，按「ESC」键可回到命令行模式</p><ul><li>ESC 退出编辑模式到命令行模式</li></ul></li><li><p>底行模式(last line mode)<br>将文件保存或退出 vi，也可以设置编辑环境，如寻找字符串、列出行号等<br>底行模式(last line mdoe)下常用命令：</p><ul><li>退出编辑：:q</li><li>强制退出：:q!</li><li>保存并退出：:wq</li></ul></li></ul></li><li><p>打开文件</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi name.txt #打开当前目录下的 name.txt 文件</span><br></pre></td></tr></table></figure></li><li><p>编辑文件</p><ul><li>i：在光标所在字符前开始插入</li><li>a：在光标所在字符后开始插入</li><li>o：在光标所在行的下面另起一新行插入</li></ul></li><li><p>保存或取消编辑</p><ul><li>保存文件<ul><li>ESC 进入命令行模式</li><li>: 进入底行模式</li><li>wq 保存并退出编辑</li></ul></li><li>取消编辑<ul><li>ESC 进入命令行模式</li><li>: 进入底行模式</li><li>q! 插销本次修改并退出编辑</li></ul></li></ul></li></ul><h3 id="文件的查看【查】"><a href="#文件的查看【查】" class="headerlink" title="文件的查看【查】"></a>文件的查看【查】</h3><ul><li>cat：看最后一屏<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat sudo.conf #cat 查看&#x2F;stc&#x2F;sudo.conf 文件，只能显示最后一屏</span><br></pre></td></tr></table></figure></li><li>more：百分比显示<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">more sudo.conf #more 查看&#x2F;stc&#x2F;sudo.conf 文件，可以显示</span><br></pre></td></tr></table></figure></li><li>less：翻页查看<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">less sudo.conf</span><br></pre></td></tr></table></figure></li><li>tail：指定行数或动态查看<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tail -10 sudo.conf #查看 &#x2F;etc&#x2F;sudo.conf 文件的后 10 行，Ctrl+C 结束</span><br></pre></td></tr></table></figure></li></ul><h3 id="权限修改"><a href="#权限修改" class="headerlink" title="权限修改"></a>权限修改</h3><p>rwx：r 表示可读，w 表示可写，x 代表该文件可执行， rwx 任意位置变成 - 则代表不可读或不可写或不可执行</p><h2 id="压缩文件操作"><a href="#压缩文件操作" class="headerlink" title="压缩文件操作"></a>压缩文件操作</h2><h3 id="打包和压缩"><a href="#打包和压缩" class="headerlink" title="打包和压缩"></a>打包和压缩</h3><ul><li>windows 的压缩文件的扩展名： .zip/.rar</li><li>linux 的打包文件：aa.tar</li><li>linux 的压缩文件：bb.gz</li><li>linux 打包并压缩文件：cc.tar.gz</li></ul><p>Linux 中的打包文件一般是以 .tar 结尾的，压缩文件一般是 .gz 结尾的，而一般情况下打包压缩是一起进行的，文件后缀名一般是.tar.gz</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">tar -zcvf 打包压缩后的文件名 要打包的文件</span><br><span class="line"># z：调用 gzip 压缩命令进行压缩</span><br><span class="line"># c：打包文件</span><br><span class="line"># v：显示运行过程</span><br><span class="line"># f：指定文件名</span><br></pre></td></tr></table></figure><h3 id="解压"><a href="#解压" class="headerlink" title="解压"></a>解压</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">tar [-zxvf] 压缩文件</span><br><span class="line"># x：解压文件</span><br><span class="line">tar [-zxvf] 压缩文件 -C 指定解压位置</span><br><span class="line"># C：指定解压位置</span><br></pre></td></tr></table></figure><h2 id="查找命令"><a href="#查找命令" class="headerlink" title="查找命令"></a>查找命令</h2><ul><li><p>grep：强大的文本搜索工具</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ps -ef | grep sshd #查找指定 ssh 服务进程</span><br><span class="line">ps -ef | grep sshd | grep -v grep #查找指定服务进程，排除 grep 本身</span><br><span class="line">ps -ef | grep sshd -c #查找指定进程个数</span><br></pre></td></tr></table></figure></li><li><p>find：在目录结构中搜索文件，并对搜索结果执行指定的操作（find 默认搜索当前目录及其字目录，并且不过滤任何结果（也就是返回所有文件），将它们全部显示在屏幕上）</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">find . -name &quot;*.log&quot; -ls          #在当前目录查找以 .log 结尾的文件，并显示详细信息</span><br><span class="line">find &#x2F;root&#x2F; -perm 600             #查找当目录，以 .log 结尾的普通文件</span><br><span class="line">find . -type f  -name &quot;*.log&quot;     #查找当前目录，以 .log 结尾的普通文件</span><br><span class="line">find . -type d | sort             #查找当前所有目录并排序</span><br><span class="line">find . -size +100M                #查找当前目录大于 100M 的文件</span><br></pre></td></tr></table></figure></li><li><p>locate 让使用者可以快速地搜寻某个路径。默认每天自动更新一次，所有使用 locate 命令查不到最新变动过的文件。未来避免这种情况，可以在使用 locate 之前，先使用 updatedb 命令，手动更新数据库。（如果是精简版的 CentOS 系统需要安装 locate: yum -y install mlocate）</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">updatedb</span><br><span class="line">locate &#x2F;ets&#x2F;sh  #搜索 etc 目录下所有以 sh 开头的文件</span><br><span class="line">locate pwd      #查找和 pwd 相关的所有文件</span><br></pre></td></tr></table></figure></li><li><p>whereis 定位可执行文件、源代码文件、帮助文件在文件系统中的位置。这些文件应属于原始代码、二进制文件，或者是帮助文件。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">whereis ls  #将和 ls 文件相关的文件都查找出来</span><br></pre></td></tr></table></figure></li><li><p>which 在 PATH 变量指定的路径中，搜索某个系统命令的位置，并返回第一个搜索结果</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">which pwd   #查找 pwd 命令所在路径</span><br><span class="line">which java  #查找 path 中 java 的路径</span><br></pre></td></tr></table></figure></li></ul><h2 id="su、sudo"><a href="#su、sudo" class="headerlink" title="su、sudo"></a>su、sudo</h2><ul><li><p>su 用于用户之间的切换，但是切换前的用户依然保持登录状态。如果是 root 向普通或虚拟用户切换不需要密码，反之普通用户切换到其他用户都需要密码验证(su 不足：如果某个用户需要 root 权限，则必须要把 root 密码告诉此用户)</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">su test:    #切换到 test 用户，但是路径还是 &#x2F;root 目录</span><br><span class="line">su - test : #切换到 test 用户，路径变成了 &#x2F;home&#x2F;test</span><br><span class="line">su :        #切换到 root 用户，但是路径还是原来的路径</span><br><span class="line">su - :      #切换到 root 用户，并且路径还是 &#x2F;root</span><br></pre></td></tr></table></figure></li><li><p>sudo 为所有想使用 root 权限的普通用户设计的。可以让普通用户具有临时使用 root 权限的权利，只需要输入自己账户的密码即可。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">vi &#x2F;etc&#x2F;sudoer 或 visudo</span><br><span class="line">#案例</span><br><span class="line">#允许 hadoop 用户以 root 身份执行各种应用命令，需要输入 hadoop 用户的密码</span><br><span class="line">hadoop ALL&#x3D;(ALL) ALL</span><br><span class="line">#案例</span><br><span class="line">#只用徐 hadoop 用户以 root 身份执行 ls、cat 命令，并且执行的时候免输入密码</span><br><span class="line">hadoop ALL&#x3D;NOPASSWD: &#x2F;bin&#x2F;ls, &#x2F;bin&#x2F;cat</span><br></pre></td></tr></table></figure></li></ul><h2 id="系统服务"><a href="#系统服务" class="headerlink" title="系统服务"></a>系统服务</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">service iptables status   #查看 iptables 服务的状态</span><br><span class="line">service iptables start    #开启 iptables 服务</span><br><span class="line">service iptables stop     #停止 iptables 服务</span><br><span class="line">service iptables restart  #重启 iptables 服务</span><br><span class="line"></span><br><span class="line">chkconfig iptables off    #关闭 iptables 服务的开机自启动</span><br><span class="line">chkconfig iptables on     #开启 iptables 服务的开机自启动</span><br></pre></td></tr></table></figure><h2 id="网络管理"><a href="#网络管理" class="headerlink" title="网络管理"></a>网络管理</h2><ul><li><p>主机名配置</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@alen ~] # vi &#x2F;etc&#x2F;sysconfig&#x2F;network</span><br><span class="line">NETWORKING&#x3D;yes</span><br><span class="line">HOSTNAME&#x3D;alen</span><br></pre></td></tr></table></figure></li><li><p>IP 地址配置</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@alen ~] # vi &#x2F;etc&#x2F;sysconfig&#x2F;network-scripts&#x2F;ifcfg-eth0</span><br></pre></td></tr></table></figure></li><li><p>域名映射 /etc/hosts 文件用于通过主机名进行访问时做 ip 地址解析</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@alen ~]# vi&#x2F;etc&#x2F;hosts</span><br><span class="line">### 在最后加上</span><br><span class="line">192.168.52.201 aname</span><br><span class="line">192.168.52.202 bname</span><br><span class="line">192.168.52.203 cname</span><br></pre></td></tr></table></figure></li></ul><h2 id="定时任务指令-crontab-配置"><a href="#定时任务指令-crontab-配置" class="headerlink" title="定时任务指令 crontab 配置"></a>定时任务指令 crontab 配置</h2><p>crontab 是 Unix 和 Linux 用于设置定时任务的指令。通过 crontab 命令，可以在固定间隔时间，执行指定的系统指令或 shell 脚本。时间间隔的单位可以是分钟、小时、日、月、周以及以上的任意组合。</p><ul><li><p>安装</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install crontabs</span><br></pre></td></tr></table></figure></li><li><p>操作服务</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">service crond start     #启动服务</span><br><span class="line">service crond stop      #关闭服务</span><br><span class="line">service crond restart   #重启服务</span><br></pre></td></tr></table></figure></li></ul><h3 id="命令格式"><a href="#命令格式" class="headerlink" title="命令格式"></a>命令格式</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">crontab [-u user] file</span><br><span class="line">crontab [-u user] [-e | -l | -r]</span><br></pre></td></tr></table></figure><p><strong>参数说明：</strong></p><ul><li>-u user：用来设定某个用户的 crontab 服务</li><li>file：file 是命令文件的名字，表示将 file 做为 crontab 的任务列表文件并载入 crontab</li><li>-e：编辑某个用户的 crontab 文件内容，如果不指定用户，则表示编辑当前用户的 crontab 文件</li><li>-l：显示某个用户的 crontab 文件内容，如果不指定用户，则表示显示当前用户的 crontab 文件内容</li><li>-r：删除定时任务配置，从 /var/spool/cron 目录中删除某个用户的 crontab 文件，如果不指定用户，则默认删除当前用户的 crontab 文件<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">crontab file [-u user] #用指定的文件代替目前的 crontab</span><br><span class="line">crontab -l [-u user]   #列出用户目前的 crontab</span><br><span class="line">crontab -e [-u user]   #编辑用户目前的 crontab</span><br></pre></td></tr></table></figure></li></ul><h3 id="配置说明、实例"><a href="#配置说明、实例" class="headerlink" title="配置说明、实例"></a>配置说明、实例</h3><p>命令：* * * * * command<br>解释：分 时 日 月 周 命令</p><ul><li>第1列表示分钟，范围1~59，每分钟用 * 或者 */1 表示</li><li>第2列表示小时，范围0~23，（0表示0点）</li><li>第3列表示日期，范围1~31</li><li>第4列表示月份，范围1~12</li><li>第5列表示星期，范围0~6，（0表示星期天）</li><li>第6列表示要运行的命令</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">#先打开定时任务所在的文件</span><br><span class="line">crontab -e</span><br><span class="line">#每分钟执行一次 date 命令</span><br><span class="line">*&#x2F;1 * * * * date &gt;&gt; &#x2F;root&#x2F;date.txt</span><br><span class="line">#每晚的21:30重启 apache</span><br><span class="line">30 21 * * * service httpd restart</span><br><span class="line">#每月1、10、22日的4:45重启 apache</span><br><span class="line">45 4 1,10,22 * * service httpd restart</span><br><span class="line">#每周六、周日的1:10重启 apache</span><br><span class="line">10 1 * * 6,0 service httpd restart</span><br><span class="line">#每天18:00至23:00之间每隔30分钟重启 apacha</span><br><span class="line">0,30 18-23 * * * service httpd restart</span><br><span class="line">#晚上11点到早上7点之间，每隔1小时重启 apacha</span><br><span class="line">* 23-7&#x2F;1 * * * service httpd restart</span><br></pre></td></tr></table></figure><h2 id="其他命令"><a href="#其他命令" class="headerlink" title="其他命令"></a>其他命令</h2><ul><li>查看当前目录：pwd</li><li>查看进程：ps -ef</li><li>结束进程：kill</li></ul><h3 id="网络通信命令"><a href="#网络通信命令" class="headerlink" title="网络通信命令"></a>网络通信命令</h3><ul><li>ifconfig：查看网卡信息</li><li>ping：查看与某台机器的连接情况</li><li>netstat -an：查看当前系统端口</li></ul><h3 id="配置网络"><a href="#配置网络" class="headerlink" title="配置网络"></a>配置网络</h3><ul><li>setup</li></ul><h3 id="重启网络"><a href="#重启网络" class="headerlink" title="重启网络"></a>重启网络</h3><ul><li>service network restart</li></ul><h3 id="切换用户"><a href="#切换用户" class="headerlink" title="切换用户"></a>切换用户</h3><ul><li>su -用户名</li></ul><h3 id="关闭防火墙"><a href="#关闭防火墙" class="headerlink" title="关闭防火墙"></a>关闭防火墙</h3><ul><li>chkconfig iptables off</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">iptables -L;</span><br><span class="line">iptables -F;</span><br><span class="line">service iptables stop</span><br></pre></td></tr></table></figure><h3 id="修改文件权限"><a href="#修改文件权限" class="headerlink" title="修改文件权限"></a>修改文件权限</h3><ul><li>chmod 777</li></ul><h3 id="清屏"><a href="#清屏" class="headerlink" title="清屏"></a>清屏</h3><ul><li>ctrl+l</li></ul><h3 id="vi-模式下快捷键"><a href="#vi-模式下快捷键" class="headerlink" title="vi 模式下快捷键"></a>vi 模式下快捷键</h3><p>esc后：</p><ul><li>保存并退出快捷键：shift+z+z</li><li>光标跳到最后一行快捷键：shift+g</li><li>删除一行：dd</li><li>复制一行内容：y+y</li><li>粘贴复制的内容：p</li></ul><h2 id="未完待续…"><a href="#未完待续…" class="headerlink" title="未完待续…"></a>未完待续…</h2>]]></content>
      
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Dockerfile 的常用命令</title>
      <link href="/2021/06/22/Dockerfile-%E7%9A%84%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/"/>
      <url>/2021/06/22/Dockerfile-%E7%9A%84%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/</url>
      
        <content type="html"><![CDATA[<h2 id="Dockerfile-基础信息"><a href="#Dockerfile-基础信息" class="headerlink" title="Dockerfile 基础信息"></a>Dockerfile 基础信息</h2><h3 id="什么是Docerfile？"><a href="#什么是Docerfile？" class="headerlink" title="什么是Docerfile？"></a>什么是Docerfile？</h3><blockquote><p>Dockerfile 是一个用来构建镜像的文本文件，文本内容包含了一条条构建镜像所需的指令和说明。</p></blockquote><h3 id="Dockerfile-有什么作用？"><a href="#Dockerfile-有什么作用？" class="headerlink" title="Dockerfile 有什么作用？"></a>Dockerfile 有什么作用？</h3><p>制作镜像模板，运行 Dockfile，定义 docker 容器或容器中的应用程序以及服务</p><h3 id="Dockerfile-的基础结构"><a href="#Dockerfile-的基础结构" class="headerlink" title="Dockerfile 的基础结构"></a>Dockerfile 的基础结构</h3><ul><li><span>#</span> 开头的表示注释行，说明 dockerfile 中的指令</li><li>维护者的信息</li><li>镜像操作执行</li><li>容器操作指令</li><li>基础镜像信息</li></ul><h3 id="Dockerfile-常见命令"><a href="#Dockerfile-常见命令" class="headerlink" title="Dockerfile 常见命令"></a>Dockerfile 常见命令</h3><ul><li>FROM: 指定创建镜像的基础镜像</li><li>MAINTAINER: Dockerfile作者信息，一般写的是联系方式</li><li>RUN: 运行 Linux 系统的命令使用</li><li>CMD: 指定容器启动执行的命令；启动容器中的服务</li><li>LABEL: 指定生成镜像的源数据标签</li><li>EXPONSE: 指定镜像容器监听端口号；发布服务使用</li><li>ENV: 使用环境变量</li><li>ADD: 对压缩文件进行解压缩；将数据移动到指定目录</li><li>COPY: 复制宿主机数据到镜像内部使用</li><li>WORKDIR: 切换镜像容器中的指定目录中</li><li>VOLUME: 挂载数据卷到镜像容器中</li><li>USER: 指定运行容器的用户</li><li>ARG: 指定镜像的版本号信息</li><li>ONBUILD: 创建镜像，作为其他镜像的基础镜像运行操作指令</li><li>ENTRYPOINT: 指定运行容器启动过程执行命令，覆盖 CMD 参数</li></ul><h3 id="通俗解释常用指令的意义"><a href="#通俗解释常用指令的意义" class="headerlink" title="通俗解释常用指令的意义"></a>通俗解释常用指令的意义</h3><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/Dockerfile.png" alt="Dockerfile 常用指令"></p><hr>]]></content>
      
      
      
        <tags>
            
            <tag> 构建发版 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vue.config.js 的常规用法</title>
      <link href="/2021/03/29/vue-config-js-%E7%9A%84%E5%B8%B8%E8%A7%84%E7%94%A8%E6%B3%95/"/>
      <url>/2021/03/29/vue-config-js-%E7%9A%84%E5%B8%B8%E8%A7%84%E7%94%A8%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<h2 id="vue-config-js"><a href="#vue-config-js" class="headerlink" title="vue.config.js"></a>vue.config.js</h2><p><strong>vue.config.js 在项目中做反向代理时，常见的语法和使用说明</strong></p><blockquote><p>vue.config.js 是一个可选的配置文件，如果项目的 (和 package.json 同级的) 根目录中存在这个文件，那么它会被 @vue/cli-service 自动加载。你也可以使用 package.json 中的 vue 字段，但是注意这种写法需要你严格遵照 JSON 的格式来写。</p></blockquote><h2 id="栗子"><a href="#栗子" class="headerlink" title="栗子"></a>栗子</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  lintOnSave: <span class="literal">false</span>,</span><br><span class="line">  publicPath: <span class="string">'/'</span>,</span><br><span class="line">  devServer: &#123;</span><br><span class="line">    port: <span class="number">8085</span>,</span><br><span class="line">    host: <span class="string">"0.0.0.0"</span>,</span><br><span class="line">    proxy: &#123;</span><br><span class="line">      <span class="string">"api"</span>: &#123;</span><br><span class="line">        target: <span class="string">''</span>,</span><br><span class="line">        pathRewrite: &#123;&#125;,</span><br><span class="line">        changeOrigin: <span class="literal">true</span></span><br><span class="line">      &#125;,</span><br><span class="line">      </span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  configureWebpack: <span class="function"><span class="params">config</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (process.env.VUE_APP_ENV === <span class="string">"sentry"</span>) &#123;</span><br><span class="line">      config.devtool = <span class="string">"source-map"</span>;</span><br><span class="line">      config.plugins.push(,</span><br><span class="line">        <span class="keyword">new</span> SentryWebpackPlugin(&#123;</span><br><span class="line">          release: process.env.VUE_APP_REALEASE_VERSION,</span><br><span class="line">          include: <span class="string">"./dist"</span>,</span><br><span class="line">          ignoreFile: <span class="string">".gitignore"</span>,</span><br><span class="line">          debug: <span class="literal">true</span></span><br><span class="line">        &#125;)</span><br><span class="line">      );</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 判断是否cdn模式</span></span><br><span class="line">    <span class="keyword">if</span> (process.env.VUE_APP_PUBLIC_PATH === <span class="string">"http://cdn.jsh.com/"</span>) &#123;</span><br><span class="line">      <span class="comment">// 上传oss</span></span><br><span class="line">      config.plugins.push(</span><br><span class="line">        <span class="keyword">new</span> WebpackAliyunOss(&#123;</span><br><span class="line">          <span class="keyword">from</span>: [<span class="string">"dist/**"</span>, <span class="string">"!dist/**/index.html"</span>],</span><br><span class="line">          dist: process.env.VUE_APP_OSS_DIST,</span><br><span class="line">          region: ossConfig.region,</span><br><span class="line">          accessKeyId: ossConfig.accessKeyId,</span><br><span class="line">          accessKeySecret: ossConfig.accessKeySecret,</span><br><span class="line">          bucket: ossConfig.bucket,</span><br><span class="line">          verbose: <span class="literal">true</span>,</span><br><span class="line">          timeout: <span class="number">30000</span>,</span><br><span class="line">          test: <span class="literal">false</span></span><br><span class="line">        &#125;)</span><br><span class="line">      );</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// config.externals = externals;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  productionSourceMap: process.env.VUE_APP_ENV === <span class="string">"sentry"</span>,</span><br><span class="line">  filenameHashing: <span class="literal">false</span>,</span><br><span class="line">  chainWebpack: <span class="function"><span class="params">config</span> =&gt;</span> &#123;</span><br><span class="line">    config.module.rules.delete(<span class="string">"svg"</span>); <span class="comment">//重点:删除默认配置中处理svg,</span></span><br><span class="line">    <span class="keyword">const</span> svgRule = config.module.rule(<span class="string">"svg"</span>);</span><br><span class="line">    <span class="comment">// 清除已有的所有 loader。</span></span><br><span class="line">    <span class="comment">// 如果你不这样做，接下来的 loader 会附加在该规则现有的 loader 之后。</span></span><br><span class="line">    svgRule.uses.clear();</span><br><span class="line">    svgRule</span><br><span class="line">      .test(<span class="regexp">/\.svg$/</span>)</span><br><span class="line">      .include.add(path.resolve(__dirname, <span class="string">"./src/icons"</span>))</span><br><span class="line">      .end()</span><br><span class="line">      .use(<span class="string">"svg-sprite-loader"</span>)</span><br><span class="line">      .loader(<span class="string">"svg-sprite-loader"</span>)</span><br><span class="line">      .options(&#123;</span><br><span class="line">        symbolId: <span class="string">"icon-[name]"</span></span><br><span class="line">      &#125;);</span><br><span class="line">    <span class="keyword">const</span> fileRule = config.module.rule(<span class="string">"file"</span>);</span><br><span class="line">    fileRule.uses.clear();</span><br><span class="line">    fileRule</span><br><span class="line">      .test(<span class="regexp">/\.svg$/</span>)</span><br><span class="line">      .exclude.add(path.resolve(__dirname, <span class="string">"./src/icons"</span>))</span><br><span class="line">      .end()</span><br><span class="line">      .use(<span class="string">"file-loader"</span>)</span><br><span class="line">      .loader(<span class="string">"file-loader"</span>);</span><br><span class="line">    <span class="keyword">if</span> (process.env.use_analyzer) &#123;</span><br><span class="line">      <span class="comment">// 分析</span></span><br><span class="line">      config</span><br><span class="line">        .plugin(<span class="string">"webpack-bundle-analyzer"</span>)</span><br><span class="line">        .use(<span class="built_in">require</span>(<span class="string">"webpack-bundle-analyzer"</span>).BundleAnalyzerPlugin);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="comment">// css相关配置</span></span><br><span class="line">css: &#123;</span><br><span class="line">  <span class="comment">// 启用 CSS modules</span></span><br><span class="line">  modules: <span class="literal">false</span>,</span><br><span class="line">  <span class="comment">// 是否使用css分离插件</span></span><br><span class="line">  extract: <span class="literal">true</span>,</span><br><span class="line">  <span class="comment">// 开启 CSS source maps?</span></span><br><span class="line">  sourceMap: <span class="literal">false</span>,</span><br><span class="line">  <span class="comment">// css预设器配置项</span></span><br><span class="line">  loaderOptions: &#123;</span><br><span class="line">    css: &#123;&#125;,</span><br><span class="line">    postcss: &#123;</span><br><span class="line">      plugins: [</span><br><span class="line">        <span class="comment">//remUnit这个配置项的数值是多少呢？？？ 通常我们是根据设计图来定这个值，原因很简单，便于开发。</span></span><br><span class="line">        <span class="comment">//假如设计图给的宽度是750，我们通常就会把remUnit设置为75，这样我们写样式时，可以直接按照设计图标注的宽高来1:1还原开发。</span></span><br><span class="line">        <span class="built_in">require</span>(<span class="string">'postcss-px2rem'</span>)(&#123;</span><br><span class="line">          remUnit: <span class="number">144</span></span><br><span class="line">        &#125;)</span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="外层结构"><a href="#外层结构" class="headerlink" title="外层结构"></a>外层结构</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;&#125;</span><br></pre></td></tr></table></figure><blockquote><p>module.exports通过对象批量暴露</p></blockquote><h2 id="内部语法结构"><a href="#内部语法结构" class="headerlink" title="内部语法结构"></a>内部语法结构</h2><ul><li>lintOnSave：设置是否在开发环境下，每次保存代码时都启用 eslint 验证</li></ul><blockquote><p>false: 关闭每次保存都检测<br>ture: 开启每次保存都进行检测，效果与 warning 一样<br>‘error’: 开启每次保存都进行检测，lint 错误将显示在浏览器页面上，且编译失败<br>‘default’: 同 ‘error’<br>‘warning’: 开启每次保存都进行检测，lint 错误将显示到控制台上，且编译不会失败</p></blockquote><ul><li>publicPath: ‘/‘</li></ul><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/publicpath.png" alt="publicPath 官方解释"></p><p><strong>结论：</strong>如果 publicPath 的值配置成 ‘/other’, 只需要在相应的服务器路径中新建 other 文件夹，然后将打包后的文件放进去。</p><ul><li>devServer: 配置 webpack-dev-server 行为</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 开发服务器架设在哪个路径上</span></span><br><span class="line"></span><br><span class="line">publicPath: <span class="string">'/'</span>, </span><br><span class="line"></span><br><span class="line"><span class="comment">// 运行 vue-cli-service build 时生成的生产环境构建文件的目录</span></span><br><span class="line"></span><br><span class="line">outputDir: <span class="string">'dist'</span>, </span><br><span class="line"></span><br><span class="line"><span class="comment">// 放置生成的静态资源(js、css、img、 fonts)的目录</span></span><br><span class="line"></span><br><span class="line">assetsDir: <span class="string">'static'</span>, </span><br><span class="line"></span><br><span class="line"><span class="comment">// 是否开启eslint保存检测，有效值：ture | false | 'error'，设置为 true 时，eslint-loader 会将 lint 错误输出为编译警告。默认情况下，警告仅仅会被输出到命令行，且不会使得编译失败，希望让 lint 错误在开发时直接显示在浏览器中，可以使用 lintOnSave: 'error'。这会强制 eslint-loader 将 lint 错误输出为编译错误。</span></span><br><span class="line"></span><br><span class="line">lintOnSave: process.env.NODE_ENV === <span class="string">'development'</span>, </span><br><span class="line"></span><br><span class="line"> <span class="comment">// 如果你不需要生产环境的 source map，可以将其设置为 false 以加速生产环境构建</span></span><br><span class="line"></span><br><span class="line">productionSourceMap: <span class="literal">false</span>,</span><br><span class="line"></span><br><span class="line"><span class="comment">// webpack-dev-server 相关配置，对 webpack-dev-server 的选项都支持</span></span><br><span class="line"></span><br><span class="line">devServer: &#123;</span><br><span class="line">  port: <span class="number">8085</span>, <span class="comment">// 端口号配置</span></span><br><span class="line">  host: <span class="string">"0.0.0.0"</span>, </span><br><span class="line">  proxy: &#123; <span class="comment">// 设置代理</span></span><br><span class="line">    <span class="string">"api"</span>: &#123;</span><br><span class="line">      target: <span class="string">''</span>, <span class="comment">// 接口的域名</span></span><br><span class="line">      secure: <span class="literal">false</span>, <span class="comment">//如果是http接口，需要配置该参数</span></span><br><span class="line">      changeOrigin: <span class="literal">true</span>, <span class="comment">// 设置跨域， if changeOrigin 设置为 true, 一意味着 host 设置为 target</span></span><br><span class="line">      pathRewrite: &#123; <span class="comment">// 路径改写规则</span></span><br><span class="line">        <span class="string">'^/api'</span>: <span class="string">'/api'</span> <span class="comment">// 以 /api 为开头的改写为 /api</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;, </span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><p>configureWebpack</p></li><li><p>chainWebpack</p></li><li><p>css</p></li></ul><h2 id="附录"><a href="#附录" class="headerlink" title="附录"></a>附录</h2><ul><li><a href="https://www.jianshu.com/p/b358a91bdf2d" target="_blank" rel="noopener">vue.config.js 配置</a></li><li><a href="https://blog.csdn.net/qq_39037897/article/details/114290907" target="_blank" rel="noopener">vue3.0配置文件vue.config.js</a></li><li><a href="https://blog.csdn.net/qq_39313596/article/details/83544745" target="_blank" rel="noopener">vue3.x修改端口号配置vue.config.js</a></li><li><a href="https://www.cnblogs.com/theblogs/p/10890362.html" target="_blank" rel="noopener">vue.config.js 常用配置</a></li></ul><hr>]]></content>
      
      
      
        <tags>
            
            <tag> Vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>href 与 src 的区别</title>
      <link href="/2021/03/12/href%20%E4%B8%8E%20src%20%E7%9A%84%E5%8C%BA%E5%88%AB/"/>
      <url>/2021/03/12/href%20%E4%B8%8E%20src%20%E7%9A%84%E5%8C%BA%E5%88%AB/</url>
      
        <content type="html"><![CDATA[<h2 id="href-与-src-的区别"><a href="#href-与-src-的区别" class="headerlink" title="href 与 src 的区别"></a>href 与 src 的区别</h2><p>在前端项目开发中，难免会遇到有的地方使用 href 获取地址，有的需要src 获取资源。表面上看，两者的功能似乎类似。但是学习后发现两者的区别还是蛮大的，在此记录一下，做个笔记。</p><h3 id="有关于-href"><a href="#有关于-href" class="headerlink" title="有关于 href"></a>有关于 href</h3><ul><li><p><strong>href: Hypertext Reference的缩写，超文本引用</strong></p><blockquote><p>href 绑定的地址指向一些网络资源，建立和当前元素或者说是本文档的链接关系。<strong>在加载它的时候，不会停止对当前文档的处理，浏览器会继续往下走。</strong>常用在a、link等标签。</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;a href=<span class="string">"https://www.baidu.com"</span>&gt;&lt;<span class="regexp">/a&gt;</span></span><br><span class="line"><span class="regexp">&lt;link type="text/</span>css<span class="string">" rel="</span>stylesheet<span class="string">" href="</span>main.css<span class="string">"&gt;</span></span><br><span class="line"><span class="string">/*  优点：当浏览器加载到 link 标签时，会识别这是 CSS 文档，并行下载该 CSS 文档，但并不会停止对当前页面后续内容的加载。这也是不建议使用 @import 加载 CSS 的原因。*/</span></span><br></pre></td></tr></table></figure></li></ul><h3 id="有关于-src"><a href="#有关于-src" class="headerlink" title="有关于 src"></a>有关于 src</h3><ul><li><strong>src: source 的缩写，将外部资源下载并应用到当前文件</strong></li></ul><blockquote><p>在请求 src 资源时，会将其指向的资源下载并应用到文档内，例如 js 脚本, img 图片和 frame 等元素。<strong>当浏览器解析到该元时，会暂停其他资源的下载和处理，直到将所指向资源嵌入到当前标签内。这也是为什么将 JS　脚本放在底部而不是头部。</strong></p></blockquote><h3 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h3><p>简言之，href 是引用，表示关联。而 src 是引入，表示下载资源应用于当前位置。</p><hr>]]></content>
      
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Git History 的简单使用</title>
      <link href="/2021/03/10/Git-History-%E7%9A%84%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8/"/>
      <url>/2021/03/10/Git-History-%E7%9A%84%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8/</url>
      
        <content type="html"><![CDATA[<h2 id="Git-History-下载"><a href="#Git-History-下载" class="headerlink" title="Git History 下载"></a>Git History 下载</h2><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/githistory00.png" alt="Git History 下载"></p><h2 id="Git-History-简单使用"><a href="#Git-History-简单使用" class="headerlink" title="Git History 简单使用"></a>Git History 简单使用</h2><ul><li>多人协作代码仓库管理问题<br>在日常工作开发中，经常会碰到代码分支上merge 导致版本混乱的问题，在这里不做过多描述。这篇文章先主要讲解一下，当我们不通过 merge 方法直接合并分支，而是将自己部分 commit 修改的部分文件上传到公用分支的方法</li></ul><h2 id="Git-History-图文解析"><a href="#Git-History-图文解析" class="headerlink" title="Git History 图文解析"></a>Git History 图文解析</h2><ul><li>签出到要提交 commit 的分支<ul><li>git checkout branch_name</li><li>如下图，签出到要进行的分支</li></ul></li></ul><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/githistory01.png" alt="签出到要合并的分支上"></p><ul><li>查看自己分支上的 commit 记录<ul><li>点击图标到 git history 页面</li><li>选择自己的分支</li><li>选择自己 authors</li><li>查看 commit 列表</li><li>点击 commit 查看自己具体修改的文件</li><li>点击 more 去提交自己分支 commit 到目标分支上</li></ul></li></ul><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/githistory02.png" alt="查看自己分子上的commit"></p><ul><li>提交自己分支的 commit 到目标分支<ul><li>点击 more</li><li>选择 cherry pick this commit into current branch(当前分支即之前签出的目标分支)</li><li>点击确定，等待合并完成，若有冲突解决冲突即可</li></ul></li></ul><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/githistory03.png" alt="提交 commit 到目标分支"></p><hr>]]></content>
      
      
      
        <tags>
            
            <tag> Git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>git 之本地无法获取远程新建分支</title>
      <link href="/2021/03/05/git-%E4%B9%8B%E6%9C%AC%E5%9C%B0%E6%97%A0%E6%B3%95%E8%8E%B7%E5%8F%96%E8%BF%9C%E7%A8%8B%E6%96%B0%E5%BB%BA%E5%88%86%E6%94%AF/"/>
      <url>/2021/03/05/git-%E4%B9%8B%E6%9C%AC%E5%9C%B0%E6%97%A0%E6%B3%95%E8%8E%B7%E5%8F%96%E8%BF%9C%E7%A8%8B%E6%96%B0%E5%BB%BA%E5%88%86%E6%94%AF/</url>
      
        <content type="html"><![CDATA[<h2 id="git-远程新建分支，本地获取不到"><a href="#git-远程新建分支，本地获取不到" class="headerlink" title="git 远程新建分支，本地获取不到"></a>git 远程新建分支，本地获取不到</h2><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git remote # 列出所有远程主机</span><br><span class="line">git remote update origin --prune # 更新远程主机 origin 整理分支</span><br><span class="line">git branch -r # 列出远程分支</span><br><span class="line">git branch -vv # 查看本地分支和远程分支的对应关系</span><br><span class="line">git checkout -b branch_name origin/branch_name # 新建本地分支 dev 与远程 dev 分支相关联</span><br></pre></td></tr></table></figure><h2 id="git-查看本地分支跟远程分支"><a href="#git-查看本地分支跟远程分支" class="headerlink" title="git 查看本地分支跟远程分支"></a>git 查看本地分支跟远程分支</h2><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git branch # 查看本地分支</span><br><span class="line">git branch -a # 查看远程分支（<span class="keyword">if</span> 你开了颜色支持，远程分支会用红色表示出来）</span><br></pre></td></tr></table></figure><h2 id="git-删除本地分支跟远程分支"><a href="#git-删除本地分支跟远程分支" class="headerlink" title="git 删除本地分支跟远程分支"></a>git 删除本地分支跟远程分支</h2><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git branch -d branch_name # 删除本地分支</span><br><span class="line">git branch -r -d origin/branch_name # 删除远程分支</span><br></pre></td></tr></table></figure><h2 id="切换本地分支"><a href="#切换本地分支" class="headerlink" title="切换本地分支"></a>切换本地分支</h2><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout branch_name # 切换分支</span><br></pre></td></tr></table></figure><h2 id="依据远程分支创建本地分支"><a href="#依据远程分支创建本地分支" class="headerlink" title="依据远程分支创建本地分支"></a>依据远程分支创建本地分支</h2><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout --track origin/branch_name</span><br></pre></td></tr></table></figure><hr>]]></content>
      
      
      
        <tags>
            
            <tag> Git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue 项目内容之 全局引入</title>
      <link href="/2021/02/02/Vue-%E9%A1%B9%E7%9B%AE%E5%86%85%E5%AE%B9%E4%B9%8B-%E5%85%A8%E5%B1%80%E5%BC%95%E5%85%A5/"/>
      <url>/2021/02/02/Vue-%E9%A1%B9%E7%9B%AE%E5%86%85%E5%AE%B9%E4%B9%8B-%E5%85%A8%E5%B1%80%E5%BC%95%E5%85%A5/</url>
      
        <content type="html"><![CDATA[<h2 id="main-js"><a href="#main-js" class="headerlink" title="main.js"></a>main.js</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">'./App.vue'</span></span><br><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">'./router'</span></span><br><span class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">'./store'</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'./plugins/element.js'</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'./public/index.css'</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'./assets/icons/iconfont.css'</span></span><br><span class="line"></span><br><span class="line">Vue.config.productionTip = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  router,</span><br><span class="line">  store,</span><br><span class="line">  render: <span class="function"><span class="params">h</span> =&gt;</span> h(App)</span><br><span class="line">&#125;).$mount(<span class="string">'#app'</span>)</span><br></pre></td></tr></table></figure><h2 id="router-index-js"><a href="#router-index-js" class="headerlink" title="./router index.js"></a>./router index.js</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></span><br><span class="line"><span class="keyword">import</span> VueRouter <span class="keyword">from</span> <span class="string">'vue-router'</span></span><br><span class="line"><span class="keyword">import</span> routers <span class="keyword">from</span> <span class="string">'./modules/router'</span></span><br><span class="line"></span><br><span class="line">Vue.use(VueRouter)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> VueRouter(&#123;</span><br><span class="line">  mode: <span class="string">'history'</span>,</span><br><span class="line">  <span class="comment">// base: process.env.BASE_URL,</span></span><br><span class="line">  routes: routers</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router</span><br></pre></td></tr></table></figure><h2 id="plugins-element-js"><a href="#plugins-element-js" class="headerlink" title="./plugins/element.js"></a>./plugins/element.js</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">'./App.vue'</span></span><br><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">'./router'</span></span><br><span class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">'./store'</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'./plugins/element.js'</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'./public/index.css'</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'./assets/icons/iconfont.css'</span></span><br><span class="line"></span><br><span class="line">Vue.config.productionTip = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  router,</span><br><span class="line">  store,</span><br><span class="line">  render: <span class="function"><span class="params">h</span> =&gt;</span> h(App)</span><br><span class="line">&#125;).$mount(<span class="string">'#app'</span>)</span><br></pre></td></tr></table></figure><h2 id="store"><a href="#store" class="headerlink" title="./store"></a>./store</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></span><br><span class="line"><span class="keyword">import</span> Vuex <span class="keyword">from</span> <span class="string">'vuex'</span></span><br><span class="line"></span><br><span class="line">Vue.use(Vuex)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> Vuex.Store(&#123;</span><br><span class="line">  state: &#123;</span><br><span class="line">    activeIndex: <span class="string">'1'</span>,</span><br><span class="line">    disabled: <span class="literal">true</span>,</span><br><span class="line">    showHomeFlag: <span class="number">0</span>,</span><br><span class="line">    userName: <span class="string">''</span></span><br><span class="line">  &#125;,</span><br><span class="line">  mutations: &#123;</span><br><span class="line">    changeActive (state, value) &#123;</span><br><span class="line">      state.activeIndex = value</span><br><span class="line">    &#125;,</span><br><span class="line">    changeDisabled (state, value) &#123;</span><br><span class="line">      state.disabled = value</span><br><span class="line">    &#125;,</span><br><span class="line">    changeShowHomeFlag (state, value) &#123;</span><br><span class="line">      state.showHomeFlag = value</span><br><span class="line">    &#125;,</span><br><span class="line">    changeUserName (state, value) &#123;</span><br><span class="line">      state.userName = value</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  actions: &#123;</span><br><span class="line">  &#125;,</span><br><span class="line">  modules: &#123;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="App-vue"><a href="#App-vue" class="headerlink" title="./App.vue"></a>./App.vue</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">router-view</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="actionscript">  name: <span class="string">'App'</span></span></span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">lang</span>=<span class="string">"less"</span> <span class="attr">scoped</span>&gt;</span></span><br><span class="line"><span class="css"><span class="selector-id">#app</span> &#123;</span></span><br><span class="line">  font-family: Avenir, Helvetica, Arial, sans-serif;</span><br><span class="line">  -webkit-font-smoothing: antialiased;</span><br><span class="line">  -moz-osx-font-smoothing: grayscale;</span><br><span class="line"><span class="css">  <span class="selector-tag">color</span>: <span class="selector-id">#2c3e50</span>;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>Vue 项目引入： element 框架, VueRouter, vuex等。。</p><hr>]]></content>
      
      
      
        <tags>
            
            <tag> Vue 项目搭建 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vue 2.0 项目搭建（0 -&gt; 1）</title>
      <link href="/2021/01/31/vue-2-0-%E9%A1%B9%E7%9B%AE%E6%90%AD%E5%BB%BA/"/>
      <url>/2021/01/31/vue-2-0-%E9%A1%B9%E7%9B%AE%E6%90%AD%E5%BB%BA/</url>
      
        <content type="html"><![CDATA[<h2 id="安装前准备"><a href="#安装前准备" class="headerlink" title="安装前准备"></a>安装前准备</h2><h3 id="Nodejs"><a href="#Nodejs" class="headerlink" title="Nodejs"></a>Nodejs</h3><blockquote><p>下载地址：<a href="https://nodejs.org/zh-cn/download/" target="_blank" rel="noopener">https://nodejs.org/zh-cn/download/</a></p></blockquote><ul><li>PS：建议选择<span style="color:red">LTS(最新稳定版本)</span>下载。</li></ul><h3 id="vue-cli"><a href="#vue-cli" class="headerlink" title="vue-cli"></a>vue-cli</h3><blockquote><p>下载最新版本的 脚手架</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g @vue/cli</span><br></pre></td></tr></table></figure><h2 id="搭建项目"><a href="#搭建项目" class="headerlink" title="搭建项目"></a>搭建项目</h2><h3 id="新建项目-my-project"><a href="#新建项目-my-project" class="headerlink" title="新建项目(my-project)"></a>新建项目(my-project)</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vue create my-project</span><br></pre></td></tr></table></figure><h3 id="初始化项目"><a href="#初始化项目" class="headerlink" title="初始化项目"></a>初始化项目</h3><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/vue%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE.png" alt="项目预设"></p><blockquote><p>Babel：使用babel，便于将我们源代码进行转码（把es6=&gt;es5）<br>TypeScript：使用TypeScript进行源码编写，使用ts可以编写强类型js，对我们的开发有很大的好处<br>Progressive Web App(PWA)：使用渐进式网页应用（PWA）<br>Router：使用vue-router<br>Vuex：使用vuex状态管理器<br>CSS Pre-processors：使用CSS预处理器，比如：less，sass等<br>Linter/Formatter：使用代码风格检查和格式化<br>Unit Testing：使用单元测试<br>E2E Testing：使用E2E测试, end to end（端到端）是黑盒测试的一种<br>Use class-style component syntax? (Y/n)：是否使用Class（类）风格装饰器, 即通过export default class Home extends Vue{} 创建Vue实例<br>Use Babel alongside TypeScript (required for modern mode, auto-detected polyfills, transpiling JSX)? (Y/n)：使用Babel做转义, 与TypeScript一起用于自动检测<br>Use history mode for router?：路由模式, 是否选择history模式，启用history模式，项目build之后，可能会出现打开页面空白的情况哦<br>Pick a CSS pre-processor?：选择一种css 预处理器, 在这里我选择less<br>Pick a linter / formatter config?：选择一种代码格式化检测工具</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">TSLint: ts格式检验工具</span><br><span class="line">ESLint with error prevention only: ESLint 只会进行错误提醒</span><br><span class="line">ESLint + Airbnb config: ESLint Airbnb标准</span><br><span class="line">ESLint + Standard config: ESLint Standard 标准</span><br><span class="line">ESLint + Prettier: ESLint（代码质量检测）+ Prettier（代码格式化工具）</span><br></pre></td></tr></table></figure><blockquote><p>Pick additional lint features?：代码检查方式: 保存时检查 or 提交时检查<br>Pick a unit testing solution?：选择一种单元测试的方案，目前Vue官方推荐也是jest, 相比而言, 配置简单容易上手, 建议选择Jest啦<br>Where do you prefer placing config for Babel, PostCSS, ESLint, etc.?：Babel, PostCSS, ESLin等配置文件怎么存放, 是放到单独的配置文件中?还是package.json里? 这里方便配置清晰好看, 我选择每个配置单独文件。<br>Save this as a preset for future projects?：是否需要保存当前配置，在以后的项目中可快速构建? 保存后, 后续创建项目时可以直接选择该配置, 不需单独配置</p></blockquote><p><strong>配置完后，等待依赖安装完成</strong></p><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/vue%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE%E6%88%90%E5%8A%9F.png" alt="Vue 项目搭建成功"></p><h3 id="Vue-初始项目目录"><a href="#Vue-初始项目目录" class="headerlink" title="Vue 初始项目目录"></a>Vue 初始项目目录</h3><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/Vue%20%E9%A1%B9%E7%9B%AE%E5%88%9D%E5%A7%8B%E6%96%87%E4%BB%B6.png" alt="Vue 项目初始文件目录"></p><h3 id="Vue-创建成功"><a href="#Vue-创建成功" class="headerlink" title="Vue 创建成功"></a>Vue 创建成功</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd my-project</span><br><span class="line">npm run serve</span><br></pre></td></tr></table></figure><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/vue%E5%88%9D%E5%A7%8B%E9%A1%B5%E9%9D%A2.png" alt="Vue 创建页面"></p><hr>]]></content>
      
      
      
        <tags>
            
            <tag> Vue 项目搭建 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS post api 下载文件</title>
      <link href="/2020/12/18/JS-post-api-%E4%B8%8B%E8%BD%BD%E6%96%87%E4%BB%B6/"/>
      <url>/2020/12/18/JS-post-api-%E4%B8%8B%E8%BD%BD%E6%96%87%E4%BB%B6/</url>
      
        <content type="html"><![CDATA[<h2 id="实现代码"><a href="#实现代码" class="headerlink" title="实现代码"></a>实现代码</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">exportExcel(param).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> blob = <span class="keyword">new</span> Blob([res.data], &#123; <span class="attr">type</span>: <span class="string">'application/vnd.ms-excel;charset=utf-8'</span> &#125;)</span><br><span class="line">  <span class="keyword">const</span> a = <span class="built_in">document</span>.createElement(<span class="string">'a'</span>)</span><br><span class="line">  a.href = <span class="built_in">window</span>.URL.createObjectURL(blob)</span><br><span class="line">  <span class="built_in">document</span>.body.appendChild(a)</span><br><span class="line">  a.click()</span><br><span class="line">  <span class="built_in">window</span>.URL.revokeObjectURL(a.href)</span><br><span class="line">  <span class="built_in">document</span>.body.removeChild(a)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>通过转化成 blob 类型进行下载</p><hr>]]></content>
      
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>重绘和回流(Repaint &amp;&amp; Reflow)以及如何优化</title>
      <link href="/2020/12/09/%E9%87%8D%E7%BB%98%E5%92%8C%E5%9B%9E%E6%B5%81-Repaint-Reflow-%E4%BB%A5%E5%8F%8A%E5%A6%82%E4%BD%95%E4%BC%98%E5%8C%96/"/>
      <url>/2020/12/09/%E9%87%8D%E7%BB%98%E5%92%8C%E5%9B%9E%E6%B5%81-Repaint-Reflow-%E4%BB%A5%E5%8F%8A%E5%A6%82%E4%BD%95%E4%BC%98%E5%8C%96/</url>
      
        <content type="html"><![CDATA[<h2 id="浏览器渲染机制"><a href="#浏览器渲染机制" class="headerlink" title="浏览器渲染机制"></a>浏览器渲染机制</h2><blockquote><p>浏览器采用流式布局模型(Flow Based Layout)</p></blockquote><p>浏览器会把 HTML 解析成 DOM，把 CSS 解析成 CSSOM，DOM 和 CSSOM 合并就产生了渲染树（Render Tree）。</p><p>有了 RenderTree，我们就知道了所有节点的样式，然后计算他们在页面上的大小和位置，最后把节点绘制到页面上。</p><p>由于浏览器使用流式布局，对 RenderTree 的计算通常只需要遍历一次就可以完成，但 table 及其内部元素除外，他们可能需要多次计算，通常要花 3 倍同等元素的时间，这也是为什么要避免使用 table 布局的原因之一。</p><h2 id="重绘"><a href="#重绘" class="headerlink" title="重绘"></a>重绘</h2><p>由于节点的几何属性发生改变或者是由于样式发生改变而不会影响布局的被称为重绘，例如 outline, visibility,color,background-color 等，重绘的代价是高昂的因为浏览器必须验证 DOM 树上其他元素的可见性。</p><h2 id="回流"><a href="#回流" class="headerlink" title="回流"></a>回流</h2><p>布局或者几何属性需要改变就称为回流。回流是影响浏览器性能的关键因素，因为其变化涉及到了部分页面（or 整个页面）的布局更新。一个元素的回流可能会导致其所有子元素以及 DOM 中紧随其后的节点，祖先节点元素的随后的回流。（回流一定重绘，重绘不一定回流）</p><h2 id="浏览器优化"><a href="#浏览器优化" class="headerlink" title="浏览器优化"></a>浏览器优化</h2><p>现代浏览器大多都是通过队列机制来批量更新布局，浏览器会把修改操作放在队列中，至少一个浏览器刷新(即 16.6ms)才会清空队列，但当你获取布局信息的时候，队列中可能有应下个这些属性或方法返回值的操作，即使没有，浏览器也会强制清空队列，触发回流与重绘来确保返回正确的值。</p><p><strong>主要包括一下属性或方法：</strong></p><ul><li>offsetTop, offsetLeft, offsetWidth, offsetHeight</li><li>scrollTop, scrollLeft, scrollWidth, scrollHeight</li><li>clientTop, clientLeft, clientWidth, clientHeight</li><li>width, height</li><li>getComputedStyle()</li><li>getBoundingClientRect()</li></ul><p>所以我们应该避免频繁使用上述的属性，他们都会强制渲染刷新队列。</p><h2 id="减少重绘与回流"><a href="#减少重绘与回流" class="headerlink" title="减少重绘与回流"></a>减少重绘与回流</h2><p><strong>CSS</strong></p><ol><li>使用 transform 替代 top</li><li>使用 visibility 替换 display:none，因为前者只会引起重绘，后者会引发回流(改变了布局)</li><li>避免使用 table 布局，可能很小的一个改动会造成整个 table 的重新布局。</li><li>尽可能在 DOM 树的最末端改变 class，回流是不可避免的，但可以减少其影响。尽可能在 DOM 树的最末端改变 class，可以限制了回流的范围，使其影响尽可能少的节点。</li><li>避免设置多层内联样式，css 选择符从右往左匹配查找，避免节点层级过多。</li><li>CSS3 硬件加速(GPU 加速)，使用 css3 硬件加速，可以让 transform, opacity, filters这些动花不会引起回流重绘。但是对于动画的其他属性，比如 background-color 这些，还是会引起回流重绘的，不过它还是可以提升这些动画的性能。</li></ol><p><strong>JavaScript</strong></p><ol><li>避免频繁操作样式，最好一次性重写 style 属性，或者是将样式列表定义为 class 并一次性更改 class 属性。</li><li>避免频繁操作 DOM, 创建一个 documentFragment, 在它的上面应用所有 DOM 操作，最后再把它添加到文档中。</li><li>避免频繁读取会引发回流/重绘的属性，如果确实需要多次使用，就用一个变量缓存起来。对具有复杂动画的元素使用绝对定位，使它脱离文档流，否则会引起父元素以及后续元素频繁回流。</li></ol><hr>]]></content>
      
      
      
        <tags>
            
            <tag> Web </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>npm 模块安装机制</title>
      <link href="/2020/12/09/npm-%E6%A8%A1%E5%9D%97%E5%AE%89%E8%A3%85%E6%9C%BA%E5%88%B6/"/>
      <url>/2020/12/09/npm-%E6%A8%A1%E5%9D%97%E5%AE%89%E8%A3%85%E6%9C%BA%E5%88%B6/</url>
      
        <content type="html"><![CDATA[<h2 id="为什么输入-npm-install-之后就可以自动安装对应的模块？"><a href="#为什么输入-npm-install-之后就可以自动安装对应的模块？" class="headerlink" title="为什么输入 npm install 之后就可以自动安装对应的模块？"></a>为什么输入 npm install 之后就可以自动安装对应的模块？</h2><p><strong>npm install 之后</strong></p><ul><li>查询 node_modules 目录中是否已经存在指定模块</li><li>存在，不需要重新安装（done）</li><li>不存在</li><li>npm 向 registery 查询模块压缩包的网址</li><li>下载压缩包，存放在根目录下的 .npm 目录里</li><li>解压压缩包到当前项目的 node_modules 目录</li></ul><hr>]]></content>
      
      
      
        <tags>
            
            <tag> NPM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>http2 的多路复用</title>
      <link href="/2020/12/09/http2-%E7%9A%84%E5%A4%9A%E8%B7%AF%E5%A4%8D%E7%94%A8/"/>
      <url>/2020/12/09/http2-%E7%9A%84%E5%A4%9A%E8%B7%AF%E5%A4%8D%E7%94%A8/</url>
      
        <content type="html"><![CDATA[<h2 id="解析"><a href="#解析" class="headerlink" title="解析"></a>解析</h2><ul><li>HTTP2 采用二进制格式传输，取代了 HTTP1.x 的文本格式，二进制格式解析更高效。</li><li>HTTP2 的多路复用，取代了 HTTP1.x 的序列和阻塞机制，所有的相同域名请求都通过同一个 TCP 连接并发完成</li><li>HTTP1.x 中，并发多个请求需要多个 TCP 连接，浏览器未来控制资源会有 6-8 个 TCP 连接都限制</li><li>HTTP2 中，同域名下所有通信都在单个连接上完成，消除了因多个 TCP 连接而带来的延时和内存消耗。单个连接上可以进行并行交错的请求和响应，之间互不干扰。</li></ul><hr>]]></content>
      
      
      
        <tags>
            
            <tag> Web </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Promise 构造函数是同步执行还是异步执行？then 方法呢？</title>
      <link href="/2020/12/09/Promise-%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E6%98%AF%E5%90%8C%E6%AD%A5%E6%89%A7%E8%A1%8C%E8%BF%98%E6%98%AF%E5%BC%82%E6%AD%A5%E6%89%A7%E8%A1%8C%EF%BC%9Fthen-%E6%96%B9%E6%B3%95%E5%91%A2%EF%BC%9F/"/>
      <url>/2020/12/09/Promise-%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E6%98%AF%E5%90%8C%E6%AD%A5%E6%89%A7%E8%A1%8C%E8%BF%98%E6%98%AF%E5%BC%82%E6%AD%A5%E6%89%A7%E8%A1%8C%EF%BC%9Fthen-%E6%96%B9%E6%B3%95%E5%91%A2%EF%BC%9F/</url>
      
        <content type="html"><![CDATA[<h2 id="解析"><a href="#解析" class="headerlink" title="解析"></a>解析</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> promise = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="number">1</span>)</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="number">2</span>)</span><br><span class="line">&#125;)</span><br><span class="line">promise.then(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="number">3</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">4</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 1234</span></span><br></pre></td></tr></table></figure><p><strong>Promise 是同步执行， then方法是异步执行。</strong></p><hr>]]></content>
      
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS 异步解决方案的发展历程以及优缺点</title>
      <link href="/2020/12/08/JS-%E5%BC%82%E6%AD%A5%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88%E7%9A%84%E5%8F%91%E5%B1%95%E5%8E%86%E7%A8%8B%E4%BB%A5%E5%8F%8A%E4%BC%98%E7%BC%BA%E7%82%B9/"/>
      <url>/2020/12/08/JS-%E5%BC%82%E6%AD%A5%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88%E7%9A%84%E5%8F%91%E5%B1%95%E5%8E%86%E7%A8%8B%E4%BB%A5%E5%8F%8A%E4%BC%98%E7%BC%BA%E7%82%B9/</url>
      
        <content type="html"><![CDATA[<h2 id="JavaScript-异步解决方案的发展历程以及优缺点"><a href="#JavaScript-异步解决方案的发展历程以及优缺点" class="headerlink" title="JavaScript 异步解决方案的发展历程以及优缺点"></a>JavaScript 异步解决方案的发展历程以及优缺点</h2><ol><li>回调函数（callback()）</li></ol><ul><li>优点：解决了同步的问题（只要有一个任务耗时很长，后面的任务都必须排队等着，会拖延整个程序的执行）</li><li>缺点：回调地狱，不能用 try catch 捕捉错误，不能 return</li></ul><ol start="2"><li>Promise</li></ol><ul><li>优点：解决了回调地狱的问题</li><li>缺点：无法取消 Promise, 错误需要通过回调函数来捕捉</li></ul><ol start="3"><li>generator</li></ol><ul><li>特点：可以控制函数的执行，可以配合 co 函数库使用</li></ul><ol start="4"><li>Async/await</li></ol><ul><li>优点：代码清晰，不需要像 Promise 一样写一堆 then 链，处理了回调地狱的问题</li><li>缺点：await 将异步代码改造成同步代码，如果多个异步操作没有依赖性而使用 await 会导致性能降低</li></ul><hr>]]></content>
      
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS 数组扁平化 &amp;&amp; 去重</title>
      <link href="/2020/12/08/JS-%E6%95%B0%E7%BB%84%E6%89%81%E5%B9%B3%E5%8C%96-%E5%8E%BB%E9%87%8D/"/>
      <url>/2020/12/08/JS-%E6%95%B0%E7%BB%84%E6%89%81%E5%B9%B3%E5%8C%96-%E5%8E%BB%E9%87%8D/</url>
      
        <content type="html"><![CDATA[<p>题目：已知如下数组，编写一个程序将数组扁平化并除去其中重复的数据，最终获取一个升序且不重复的数组。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [[<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>],[<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">5</span>],[<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,[<span class="number">11</span>,<span class="number">12</span>,[<span class="number">12</span>,<span class="number">13</span>,[<span class="number">14</span>]]]],<span class="number">10</span>]</span><br></pre></td></tr></table></figure><p>答：</p><ul><li>flat(infinity)扁平化数组</li><li>set 去重</li><li>sort 排序</li><li>Array.from()获取</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.from(<span class="keyword">new</span> <span class="built_in">Set</span>(arr.flat())).sort(<span class="function">(<span class="params">a,b</span>)=&gt;</span>&#123;<span class="keyword">return</span> a-b&#125;)</span><br></pre></td></tr></table></figure><hr>]]></content>
      
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS 事件循环(Event Loop)优先级</title>
      <link href="/2020/12/01/JSeventLoop/"/>
      <url>/2020/12/01/JSeventLoop/</url>
      
        <content type="html"><![CDATA[<h2 id="问题来源"><a href="#问题来源" class="headerlink" title="问题来源"></a>问题来源</h2><p>一个面试题引发的思考（^_^）</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">async1</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'async1 start'</span>);</span><br><span class="line">  <span class="keyword">await</span> async2();</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'async1 end'</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">async2</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'async2'</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'script start'</span>);</span><br><span class="line">setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'setTimeout'</span>);</span><br><span class="line">&#125;)</span><br><span class="line">async1();</span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span> (<span class="params">resolve</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'promise1'</span>);</span><br><span class="line">  resolve();</span><br><span class="line">&#125;).then(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'promise2'</span>);</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'script end'</span>);</span><br></pre></td></tr></table></figure><p><strong>执行结果：</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">script start</span><br><span class="line">async1 start</span><br><span class="line">async2</span><br><span class="line">promise1</span><br><span class="line">script end</span><br><span class="line">async1 end</span><br><span class="line">promise2</span><br><span class="line">setTimeout</span><br></pre></td></tr></table></figure><h2 id="需要的知识点"><a href="#需要的知识点" class="headerlink" title="需要的知识点"></a>需要的知识点</h2><p><strong>首先，需要明确：JavaScript是一个单线程的脚本语言。</strong></p><h3 id="JavaScript-Eventloop-事件循环机制："><a href="#JavaScript-Eventloop-事件循环机制：" class="headerlink" title="JavaScript Eventloop 事件循环机制："></a>JavaScript Eventloop 事件循环机制：</h3><p><strong>JavaScript 的事件分为两种，宏任务(macro-task)和微任务(micro-task)</strong></p><ul><li><strong>宏任务：</strong> 包括整体代码 script, setTimeout, setInterval</li><li><strong>微任务：</strong> Promise.then(非new Promise),process.nextTick(node 中)</li></ul><p><strong>宏任务(<span style="color:red">★</span>表示支持，<span style="color:red">☆</span>表示不支持)</strong></p><table><thead><tr><th>宏任务</th><th>浏览器</th><th>Node</th></tr></thead><tbody><tr><td>I/O</td><td><span style="color:red">★</span></td><td><span style="color:red">★</span></td></tr><tr><td>setTimeout</td><td><span style="color:red">★</span></td><td><span style="color:red">★</span></td></tr><tr><td>setInterval</td><td><span style="color:red">★</span></td><td><span style="color:red">★</span></td></tr><tr><td>setImmediate</td><td><span style="color:red">☆</span></td><td><span style="color:red">★</span></td></tr><tr><td>requestAnimationFrame</td><td><span style="color:red">★</span></td><td><span style="color:red">☆</span></td></tr></tbody></table><p><strong>微任务</strong></p><table><thead><tr><th>微任务</th><th>浏览器</th><th>Node</th></tr></thead><tbody><tr><td>process.nextTick</td><td><span style="color:red">☆</span></td><td><span style="color:red">★</span></td></tr><tr><td>MutationObserver</td><td><span style="color:red">★</span></td><td><span style="color:red">☆</span></td></tr><tr><td>Promise.then catch finally</td><td><span style="color:red">★</span></td><td><span style="color:red">★</span></td></tr></tbody></table><p><strong>栗子</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">setTimeout(<span class="function"><span class="params">_</span> =&gt;</span> <span class="built_in">console</span>.log(<span class="number">4</span>))</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="params">resolve</span> =&gt;</span> &#123;</span><br><span class="line">  resolve()</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="number">1</span>)</span><br><span class="line">&#125;).then(<span class="function"><span class="params">_</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="number">3</span>)</span><br><span class="line">  <span class="built_in">Promise</span>.resolve().then(<span class="function"><span class="params">_</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'before timeout'</span>)</span><br><span class="line">  &#125;).then(<span class="function"><span class="params">_</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">Promise</span>.resolve().then(<span class="function"><span class="params">_</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'also before timeout'</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">2</span>)</span><br><span class="line"><span class="comment">// 打印 1 2 3 4</span></span><br></pre></td></tr></table></figure><h2 id="async-await-函数"><a href="#async-await-函数" class="headerlink" title="async/await 函数"></a>async/await 函数</h2><p><strong>async/await</strong>本质上是<strong>Promise</strong>的一些封装，而<strong>Promise</strong>是属于微服务的一种。所以在使用 <strong>await</strong> 关键字与 <strong>Promise.then</strong>的效果类似</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">setTimeout(<span class="function"><span class="params">_</span> =&gt;</span> <span class="built_in">console</span>.log(<span class="number">4</span>))</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">main</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="number">1</span>)</span><br><span class="line">  <span class="keyword">await</span> <span class="built_in">Promise</span>.resolve()</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="number">3</span>)</span><br><span class="line">&#125;</span><br><span class="line">main()</span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">2</span>)</span><br></pre></td></tr></table></figure><p><strong>async函数在await 之前的代码都是同步执行的，可以理解为 await 之前的代码属于 new Promise 时传入的代码， await 之后的所有代码都是在 Promise.then 中的回调。</strong></p><h2 id="事件循环-Event-Loop-小结"><a href="#事件循环-Event-Loop-小结" class="headerlink" title="事件循环(Event Loop)小结"></a>事件循环(Event Loop)小结</h2><ul><li>加载脚本（同步任务）</li><li>先执行微任务再执行宏任务</li></ul><hr>]]></content>
      
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS 之深度优先遍历和广度优先遍历</title>
      <link href="/2020/11/17/JS-%E4%B9%8B%E6%B7%B1%E5%BA%A6%E4%BC%98%E5%85%88%E9%81%8D%E5%8E%86%E5%92%8C%E5%B9%BF%E5%BA%A6%E4%BC%98%E5%85%88%E9%81%8D%E5%8E%86/"/>
      <url>/2020/11/17/JS-%E4%B9%8B%E6%B7%B1%E5%BA%A6%E4%BC%98%E5%85%88%E9%81%8D%E5%8E%86%E5%92%8C%E5%B9%BF%E5%BA%A6%E4%BC%98%E5%85%88%E9%81%8D%E5%8E%86/</url>
      
        <content type="html"><![CDATA[<h2 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h2><ul><li>深度优先遍历：从某个顶点出发，首先访问这个顶点，然后找出刚访问这个节点的第一个未被访问的邻接点，然后再以此邻接点作为顶点，继续寻找下一个顶点进行访问。重复步骤，直到所有的节点都被访问完为止。</li><li>广度优先遍历：从某个顶点出发，首先访问这个顶点，然后找到刚访问这个顶点的所有未被访问的邻接点，访问完后再访问这些节点中的第一个邻接点的所有节点，重复步骤，直到所有的节点都被访问完为止。</li></ul><h2 id="深度优先遍历"><a href="#深度优先遍历" class="headerlink" title="深度优先遍历"></a>深度优先遍历</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 测试的树</span></span><br><span class="line"><span class="keyword">const</span> node = &#123;</span><br><span class="line">    name: <span class="string">'A'</span>,</span><br><span class="line">    children: [&#123;</span><br><span class="line">        name: <span class="string">'B'</span>,</span><br><span class="line">        children: [&#123;</span><br><span class="line">            name: <span class="string">'C'</span></span><br><span class="line">          &#125;, &#123;</span><br><span class="line">            name: <span class="string">'D'</span></span><br><span class="line">          &#125;]</span><br><span class="line">      &#125;, &#123;</span><br><span class="line">      name: <span class="string">'E'</span>,</span><br><span class="line">      children: [&#123;</span><br><span class="line">          name: <span class="string">'F'</span></span><br><span class="line">        &#125;, &#123;</span><br><span class="line">          name: <span class="string">'G'</span></span><br><span class="line">        &#125;]</span><br><span class="line">    &#125;, &#123;</span><br><span class="line">      name: <span class="string">'L'</span></span><br><span class="line">    &#125;, &#123;</span><br><span class="line">      name: <span class="string">'M'</span></span><br><span class="line">  &#125;]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 深度优先遍历的递归写法</span></span><br><span class="line"><span class="keyword">const</span> nodeList = []</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">deepTraversal</span>(<span class="params">node</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (node) &#123;</span><br><span class="line">  nodeList.push(node.name)</span><br><span class="line">    <span class="keyword">let</span> children = node.children ? node.children : []</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>;i &lt; children.length; i++) &#123;</span><br><span class="line">      deepTraversal(children[i])</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> nodeList.join(<span class="string">','</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(deepTraversal(node))</span><br><span class="line"></span><br><span class="line"><span class="comment">// 深度优先遍历的非递归写法</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">deepTraversal</span>(<span class="params">node</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> nodes = []</span><br><span class="line">  <span class="keyword">if</span> (node) &#123;</span><br><span class="line">    <span class="keyword">let</span> stack = []</span><br><span class="line">    <span class="comment">// 同时存放将来要访问的节点</span></span><br><span class="line">    stack.push(node)</span><br><span class="line">    <span class="keyword">while</span>(stack.length) &#123;</span><br><span class="line">      <span class="keyword">let</span> item = stack.pop()</span><br><span class="line">      <span class="comment">// 正在访问的节点</span></span><br><span class="line">      nodes.push(item.name)</span><br><span class="line">      <span class="keyword">let</span> children = item.children ? item.children : []</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">let</span> i = children.length - <span class="number">1</span>; i&gt;=<span class="number">0</span>; i--) &#123;</span><br><span class="line">        <span class="comment">// 将现在访问的节点的子节点存入 stack，供将来访问</span></span><br><span class="line">        stack.push(children[i])</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> nodes.join(<span class="string">','</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(deepTraversal(node))</span><br></pre></td></tr></table></figure><h2 id="广度优先遍历"><a href="#广度优先遍历" class="headerlink" title="广度优先遍历"></a>广度优先遍历</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 测试的树</span></span><br><span class="line"><span class="keyword">const</span> node = &#123;</span><br><span class="line">    name: <span class="string">'A'</span>,</span><br><span class="line">    children: [&#123;</span><br><span class="line">        name: <span class="string">'B'</span>,</span><br><span class="line">        children: [&#123;</span><br><span class="line">            name: <span class="string">'C'</span></span><br><span class="line">          &#125;, &#123;</span><br><span class="line">            name: <span class="string">'D'</span></span><br><span class="line">          &#125;]</span><br><span class="line">      &#125;, &#123;</span><br><span class="line">      name: <span class="string">'E'</span>,</span><br><span class="line">      children: [&#123;</span><br><span class="line">          name: <span class="string">'F'</span></span><br><span class="line">        &#125;, &#123;</span><br><span class="line">          name: <span class="string">'G'</span></span><br><span class="line">        &#125;]</span><br><span class="line">    &#125;, &#123;</span><br><span class="line">      name: <span class="string">'L'</span></span><br><span class="line">    &#125;, &#123;</span><br><span class="line">      name: <span class="string">'M'</span></span><br><span class="line">  &#125;]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 广度优先遍历递归方法(缺点：Maximum call stack size exceeded)</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* 1. 遍历当前层，并将当前层的节点存入数组</span></span><br><span class="line"><span class="comment">* 2. 获取下一层的节点数据</span></span><br><span class="line"><span class="comment">* 3. 重复，直至到达最底层</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">const</span> nodelist = [];</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">wideTraversal</span> (<span class="params">node</span>) </span>&#123;</span><br><span class="line"><span class="keyword">const</span> tempNode = [];</span><br><span class="line"><span class="keyword">if</span> (node) &#123;</span><br><span class="line"><span class="keyword">if</span> (!nodelist.length) &#123;</span><br><span class="line">nodelist.push(node.name);</span><br><span class="line">      <span class="keyword">if</span>(node.children &amp;&amp; node.children.length) &#123;</span><br><span class="line">        wideTraversal(node.children);</span><br><span class="line">      &#125;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; node.length; i++) &#123;</span><br><span class="line"><span class="keyword">if</span> (node[i].name) &#123;</span><br><span class="line">nodelist.push(node[i].name);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (node[i].children) &#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> j=<span class="number">0</span>;j&lt;node[i].children.length;j++) &#123;</span><br><span class="line">tempNode.push(node[i].children[j]);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">      <span class="keyword">if</span> (tempNode.length) &#123;</span><br><span class="line">        wideTraversal(tempNode);</span><br><span class="line">      &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">  <span class="keyword">return</span> nodelist;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(wideTraversal(node));</span><br><span class="line"><span class="comment">// 广度优先遍历非递归方法</span></span><br><span class="line"><span class="keyword">const</span> nodelist = [];</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">wideTraversal</span>(<span class="params">node</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (node) &#123;</span><br><span class="line">    <span class="keyword">let</span> queue = [];</span><br><span class="line">    queue.unshift(node);</span><br><span class="line">    <span class="keyword">while</span>(queue &amp;&amp; queue.length) &#123;</span><br><span class="line">      <span class="keyword">let</span> item = queue.shift();</span><br><span class="line">      nodelist.push(item.name);</span><br><span class="line">      <span class="keyword">let</span> children = item.children;</span><br><span class="line">      <span class="keyword">if</span> (children) &#123;</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; children.length; i++) &#123;</span><br><span class="line">          queue.push(children[i]);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> nodelist;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(wideTraversal(node))</span><br></pre></td></tr></table></figure><hr>]]></content>
      
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS 之函数防抖和函数节流</title>
      <link href="/2020/11/17/JS-%E4%B9%8B%E5%87%BD%E6%95%B0%E9%98%B2%E6%8A%96%E5%92%8C%E5%87%BD%E6%95%B0%E8%8A%82%E6%B5%81/"/>
      <url>/2020/11/17/JS-%E4%B9%8B%E5%87%BD%E6%95%B0%E9%98%B2%E6%8A%96%E5%92%8C%E5%87%BD%E6%95%B0%E8%8A%82%E6%B5%81/</url>
      
        <content type="html"><![CDATA[<h2 id="防抖"><a href="#防抖" class="headerlink" title="防抖"></a>防抖</h2><ul><li>防抖：触发高频事件后，n 秒后， 函数只执行一次，如果在这 n 秒内高频事件再次被触发，则重新计算时间。</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">debounce</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> timeout = <span class="literal">null</span></span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    clearTimeout(timeout)</span><br><span class="line">    timeout = setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// 然后创建一个新的 setTimeout, 这样就能保证输入字符后的 interval 间隔内如果还有字符输入的话，就重置定时器</span></span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'防抖成功'</span>)</span><br><span class="line">    &#125;, <span class="number">500</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125; </span><br><span class="line"><span class="comment">// 测试栗子</span></span><br><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">'inp'</span>).addEventListener(<span class="string">'input'</span>, debounce())</span><br></pre></td></tr></table></figure><h2 id="节流"><a href="#节流" class="headerlink" title="节流"></a>节流</h2><ul><li>节流：高频时间触发，但在 n 秒内只执行一次，所以节流会稀释函数的执行频率</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">throttle</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> timeout = <span class="literal">null</span></span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 闭包保存标记</span></span><br><span class="line">    <span class="keyword">if</span> (timeout) &#123;</span><br><span class="line">      <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    timeout = setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// 然后创建一个新的 setTimeout, 这样就能保证输入字符后的 interval 间隔内如果还有字符输入的话，就重置定时器</span></span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'节流成功'</span>)</span><br><span class="line">    &#125;, <span class="number">500</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125; </span><br><span class="line"><span class="comment">// 测试栗子</span></span><br><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">'inp'</span>).addEventListener(<span class="string">'input'</span>, throttle())</span><br></pre></td></tr></table></figure><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p><strong>相同点：</strong></p><ul><li>都可以通过 setTimeout 实现</li><li>目的都是降低回调执行频率。节省计算资源。</li></ul><p><strong>不同点：</strong></p><ul><li>防抖：在一段连续操作结束之后，处理回调，通过 <strong>clearTimeour</strong> 和 <strong>setTimeout</strong>实现。</li><li>节流：在一段连续操作中，每一段时间内只执行一次，在频率较高的时间中可以提高性能。</li></ul><p><strong>简而言之：</strong></p><ul><li>防抖关注一定时间内连续触发的事件只执行最后一次</li><li>节流关注一段时间内只执行一次</li></ul><h2 id="常见场景"><a href="#常见场景" class="headerlink" title="常见场景"></a>常见场景</h2><h3 id="防抖（连续事件，只触发一次）"><a href="#防抖（连续事件，只触发一次）" class="headerlink" title="防抖（连续事件，只触发一次）"></a>防抖（连续事件，只触发一次）</h3><ul><li>搜索框搜索输入。只需要用户最后一次输完，再发送请求。</li><li>手机号，邮箱等的验证类。</li><li>窗口大小 Resize。只需窗口调整完成后，计算窗口大小。防止重复渲染。</li></ul><h3 id="节流（需要每隔一段时间回调一次）"><a href="#节流（需要每隔一段时间回调一次）" class="headerlink" title="节流（需要每隔一段时间回调一次）"></a>节流（需要每隔一段时间回调一次）</h3><ul><li>滚动加载，加载更多或者是滚动到底部监听</li><li>谷歌搜索框，搜索联想功能</li><li>高频点击提交，表单重复提交</li></ul><hr>]]></content>
      
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue 的 diff 算法</title>
      <link href="/2020/11/13/Vue-%E7%9A%84-diff-%E7%AE%97%E6%B3%95/"/>
      <url>/2020/11/13/Vue-%E7%9A%84-diff-%E7%AE%97%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<h2 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h2><p>vue2.0加入了virtual dom，有点向react靠拢的意思。vue的diff位于<a href="https://github.com/vuejs/vue/blob/dev/src/core/vdom/patch.js" target="_blank" rel="noopener">patch.js</a>文件中，复杂度为O(n)。diff 算法是一种通过同层的数节点进行比较的高效算法，避免了对树进行逐层搜索遍历，diff 算法在很多场景下都有应用，例如在 Vue 虚拟 dom 渲染成真实 dom 的新旧 VNode 节点比较更新时，就用到了该算法。diff 算法有两个比较显著的特点。</p><ul><li>比较只会在同层级进行，不会跨级比较<br><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/diff00.png" alt="diff同级比较"></li><li>在 diff 比较的过程中循环从两边向中间收拢<br><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/diff01.png" alt="diff执行特点"></li></ul><h2 id="虚拟-dom"><a href="#虚拟-dom" class="headerlink" title="虚拟 dom"></a>虚拟 dom</h2><p>所谓的 virtual dom，也就是虚拟节点。它通过 JS 的 Object 对象模拟 DOM 中的节点，然后再通过特定的 render 方法将其渲染成真正的 DOM 节点 dom diff 则是通过 JS 层面的计算，返回一个 patch 对象，即补丁对象，再通过特定的操作解析 patch 对象，完成页面的重新渲染：</p><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/virtualdom.png" alt="虚拟 dom"></p><h2 id="diff-算法"><a href="#diff-算法" class="headerlink" title="diff 算法"></a>diff 算法</h2><p>本着对 diff 过程的认识和对 Vue 源码的学习，我们通过 Vue 源码的解读和实例分析来理清楚 diff 算法的整个流程，下面把整个 diff 流程拆分成三步来具体分析：</p><h3 id="第一步"><a href="#第一步" class="headerlink" title="第一步"></a>第一步</h3><p>Vue 的虚拟 dom 渲染真实 dom 的过程首先会对新老 VNode 的开始和结束位置进行标记：oldStartIdx, oldEndIdx,newStartIdx,newEndIdx。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> oldStartIdx = <span class="number">0</span> <span class="comment">// 旧节点开始下标</span></span><br><span class="line"><span class="keyword">let</span> newStartIdx = <span class="number">0</span> <span class="comment">// 新节点开始下标</span></span><br><span class="line"><span class="keyword">let</span> oldEndIdx = oldCh.length - <span class="number">1</span> <span class="comment">// 旧节点结束下标</span></span><br><span class="line"><span class="keyword">let</span> oldStartVnode = oldCh[<span class="number">0</span>] <span class="comment">//旧节点开始 vnode</span></span><br><span class="line"><span class="keyword">let</span> oldEndVnode = oldCh[oldEndIdx] <span class="comment">// 旧节点结束 vnode</span></span><br><span class="line"><span class="keyword">let</span> newEndIdx = newCh.length - <span class="number">1</span> <span class="comment">// 新节点结束下标</span></span><br><span class="line"><span class="keyword">let</span> newStartVnode = newCh[<span class="number">0</span>] <span class="comment">// 新节点开始 vnode</span></span><br><span class="line"><span class="keyword">let</span> newEndVnode = newCh[newEndIdx] <span class="comment">// 新节点结束 vnode</span></span><br></pre></td></tr></table></figure><p>经过第一步之后，我们初始的新旧 VNode 节点如下图所示：</p><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/diff01.png" alt="确定新旧 VNode 节点"></p><h3 id="第二步"><a href="#第二步" class="headerlink" title="第二步"></a>第二步</h3><p>标记好节点位置之后，就开始进入到 while 循环处理中，这里是 diff 算法的核心流程，分情况进行了新老节点的比较并移动对应的 VNode 节点。 while 循环的推出条件是知道老节点<strong>或者是</strong>新节点的开始位置大于结束位置。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> (oldStartIdx &lt;= oldEndIdx &amp;&amp; newStartIndx &lt;= newEndIdx) &#123;</span><br><span class="line">  ... <span class="comment">// 处理逻辑</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>接下来具体介绍 while 循环中的处理逻辑，循环过程中首先对新老 VNode 节点的头尾进行比较，寻找相同节点，如果有相同节点满足 sameVnode（可复用的相同节点）则直接进行 pathVnode（该方法进行节点复用处理），并且根据具体情形，移动新老节点的 VNode 索引，以便进行下一次的循环处理，一共有 2*2=4 中情形。下面根据代码展开分析：</p><ul><li>情形一：当新老 VNode 节点的 start 满足 sameVnode 时，直接 pathVnode 即可，同时新老 VNode 节点的开始索引都加1。</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (sameVnode(oldStartVnode, newStartVnode)) &#123;</span><br><span class="line">  patchVnode(oldStartVnode, newStartVnode, insertedVnodeQueue, newCh, newStartIdx)</span><br><span class="line">  oldStartVnode = oldCh[++oldStartIdx]</span><br><span class="line">  newStartVnode = newCh[++newStartIdx]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>情形二：当新老 VNode 节点的 end 满足 sameVnode 时，同样直接 pathVnode 即可，同时新老 VNode 节点的结束索引都减1。</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 承上启下</span></span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (sameVnode(oldEndVnode, newEndVnode)) &#123;</span><br><span class="line">  patchVnode(oldEndVnode, newEndVnode, insertedVnodeQueue, newCh, newEndIdx)</span><br><span class="line">  oldEndVnode = oldCh[--oldEndIdx]</span><br><span class="line">  newEndVnode = newCh[--newEndIdx]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>情形三：当老 VNode 节点的 start 和新 VNode 节点的 end 满足 sameVnode 时，这说明这次数据更新后 oldStartVnode 已经跑到了 oldEndVnode 后面去了。这时候在 pathVnode 后，还需要将当前真实 dom 节点移动到 oldEndVnode 的后面，同时老 VNode 节点开始索引加1，新 Vnode 节点的结束索引减一。</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 承上启下</span></span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (sameVnode(oldStartVnode, newEndVnode)) &#123; <span class="comment">// Vnode moved right</span></span><br><span class="line">  patchVnode(oldStartVnode, newEndVnode, instertedVnodeQueue, newCh, newEndIdx)</span><br><span class="line">  canMove &amp;&amp; nodeOps.instertBefore(parentElm, oldStartVnode.elm, nodeOps.nextSibling(oldEndVnode.elm))</span><br><span class="line">  oldStartVnode = oldCh[++oldStartIdx]</span><br><span class="line">  newEndVnode = newCh[--newEndIdx]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>情形四：当老 VNode 节点的 end 和新 VNode 节点的 start 满足 sameVnode 时，这说明这次数据更新后 oldEndVnode 跑到了 oldStartVnode 的前面去了。这个时候在 patchVnode 后，还需要将当前真实 dom 节点移动到 oldStartVnode 的前面，同时老 VNode 节点结束索引减1，新 VNode 节点的开始索引加1。</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (sameVnode(oldEndVnode, newStartVnode)) &#123; <span class="comment">// Vnode moved right</span></span><br><span class="line">  patchVnode(oldEndVnode, newStartVnode, instertedVnodeQueue, newCh, newStartIdx)</span><br><span class="line">  canMove &amp;&amp; nodeOps.instertBefore(parentElm, oldEndVnode.elm, oldStartVnode.elm))</span><br><span class="line">  oldEndVnode = oldCh[--oldEndIdx]</span><br><span class="line">  newStartVnode = newCh[++newStartIdx]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>如果都不满足以上四种情形，那说明没有相同的节点可以复用。</strong>于是则通过查找事先建立好的以旧的 VNode 为 key 值，对应 index 序列为 value 值的哈希标。从这个哈希表中找到与 newStartVnode 一致 key 的旧的 VNode 节点，如果两者满足 sameVnode 的条件，在进行 patchVnode 的同时会将这个真实 dom 移动到 oldStartVnode 对应的真实 dom 的前面；如果没有找到，则说明当前索引下的新的 VNode 节点在旧的 VNode 队列中不存在，无法进行节点的复用，那么就只能调用 createElm 创建一个新的 dom 节点放到当前 newStartIdx 的位置。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 承上启下</span></span><br><span class="line"><span class="keyword">else</span> &#123;<span class="comment">// 没有找到相同的可以复用的节点，则新建节点处理</span></span><br><span class="line">  <span class="comment">/* 生成一个key与旧VNode的key对应的哈希表（只有第一次进来undefined的时候会生成，也为后面检测重复的key值做铺垫） 比如childre是这样的 [&#123;xx: xx, key: 'key0'&#125;, &#123;xx: xx, key: 'key1'&#125;, &#123;xx: xx, key: 'key2'&#125;] beginIdx = 0 endIdx = 2 结果生成&#123;key0: 0, key1: 1, key2: 2&#125; */</span></span><br><span class="line">  <span class="keyword">if</span> (isUndef(oldKeyToIdx)) oldKeyToIdx = createKeyToOldIdx(oldCh, oldStartIdx, oldEndIdx)</span><br><span class="line">  <span class="comment">/*如果newStartVnode新的VNode节点存在key并且这个key在oldVnode中能找到则返回这个节点的idxInOld（即第几个节点，下标）*/</span></span><br><span class="line">  idxInOld = isDef(newStartVnode.key)</span><br><span class="line">    ? oldKeyToIdx[newStartVnode.key]</span><br><span class="line">    : findIdxInOld(newStartVnode, oldCh, oldStartIdx, oldEndIdx)</span><br><span class="line">  <span class="keyword">if</span> (isUndef(idxInOld)) &#123; <span class="comment">// New element</span></span><br><span class="line">    <span class="comment">/*newStartVnode没有key或者是该key没有在老节点中找到则创建一个新的节点*/</span></span><br><span class="line">    createElm(newStartVnode, insertedVnodeQueue, parentElm, oldStartVnode.elm, <span class="literal">false</span>, newCh, newStartIdx)</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">/*获取同key的老节点*/</span></span><br><span class="line">    vnodeToMove = oldCh[idxInOld]</span><br><span class="line">    <span class="keyword">if</span> (sameVnode(vnodeToMove, newStartVnode)) &#123;</span><br><span class="line">      <span class="comment">/*如果新VNode与得到的有相同key的节点是同一个VNode则进行patchVnode*/</span></span><br><span class="line">      patchVnode(vnodeToMove, newStartVnode, insertedVnodeQueue, newCh, newStartIdx)</span><br><span class="line">      <span class="comment">//因为已经patchVnode进去了，所以将这个老节点赋值undefined</span></span><br><span class="line">      oldCh[idxInOld] = <span class="literal">undefined</span></span><br><span class="line">      <span class="comment">/*当有标识位canMove实可以直接插入oldStartVnode对应的真实Dom节点前面*/</span></span><br><span class="line">      canMove &amp;&amp; nodeOps.insertBefore(parentElm, vnodeToMove.elm, oldStartVnode.elm)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="comment">// same key but different element. treat as new element</span></span><br><span class="line">      <span class="comment">/*当新的VNode与找到的同样key的VNode不是sameVNode的时候（比如说tag不一样或者是有不一样type的input标签），创建一个新的节点*/</span></span><br><span class="line">      createElm(newStartVnode, insertedVnodeQueue, parentElm, oldStartVnode.elm, <span class="literal">false</span>, newCh, newStartIdx)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  newStartVnode = newCh[++newStartIdx]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>再来看我们的实例，第一次循环后，找到了旧节点的末尾和新节点的开头（都是 D）相同，于是直接复用 D 节点作为 diff 后创建的第一个真实节点。同时旧节点的 endIndex 移动到了 C，新节点的 startIndex 移动到了 C。</p><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/diff03.png" alt="diff 第一次循环"></p><p>紧接着开始第二次循环，第二次循环后，同样是旧节点的末尾和新节点的开头（都是 C）相同，同理，diff 后创建了 C 的真实节点插入到第一次创建的 B节点的后面。同时旧节点的 endIndex 移动到了 B，新节点的 startIndex 移动到了 E。</p><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/diff04.png" alt="diff 第二次循环"></p><p>接下来第三次循环中，发现 patchVnode 的 4 种情形都不符合，于斯在旧节点队列中查找当前的新节点 E，结果发现没有找到，这时候只能直接创建新的真实节点 E，插入到第二次创建的 C 节点之后。同时新节点的 startIndex 移动到了 A。旧节点的 startIndex 和 endIndex 都保持不动。</p><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/diff05.png" alt="diff 第三次循环"></p><p>第四次循环中，发现了新旧节点的开头（都是 A）相同，于是 diff 后创建了 A 的真实节点，插入到前一次创建的 E 节点后面。同时旧节点的 startIndex 移动到了 B，新节点的 startINdex 移动到了 B。</p><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/diff06.png" alt="diff 第四次循环"></p><p>第五次循环中，情形同第四次循环一样，因此 diff 后创建了 B 真实节点插入前一次创建的 A 节点后面。同时旧节点的 startIndex 移动到了 C，新节点的 startIndex 移动到了 F。</p><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/diff07.png" alt="diff 第五次循环"></p><p>这时候发现新节点的 startIndex 已经大于 endIndex 了。不再满足循环的条件了。因此结束循环，接下来走后面的逻辑</p><h3 id="第三步"><a href="#第三步" class="headerlink" title="第三步"></a>第三步</h3><p>当 while 循环结束后，根据新老节点的数目不同，做相应的节点添加或者删除。若新节点数目大于老节点则需要把读出来的老节点从真实 dom 中删除。至此整个 diff 过程就已经全部完成了。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (oldStartIdx &gt; oldEndIdx) &#123;</span><br><span class="line">     <span class="comment">/*全部比较完成以后，发现oldStartIdx &gt; oldEndIdx的话，说明老节点已经遍历完了，新节点比老节点多， 所以这时候多出来的新节点需要一个一个创建出来加入到真实Dom中*/</span></span><br><span class="line">     refElm = isUndef(newCh[newEndIdx + <span class="number">1</span>]) ? <span class="literal">null</span> : newCh[newEndIdx + <span class="number">1</span>].elm</span><br><span class="line">     addVnodes(parentElm, refElm, newCh, newStartIdx, newEndIdx, insertedVnodeQueue) <span class="comment">//创建 newStartIdx - newEndIdx 之间的所有节点</span></span><br><span class="line">   &#125; <span class="keyword">else</span> <span class="keyword">if</span> (newStartIdx &gt; newEndIdx) &#123;</span><br><span class="line">     <span class="comment">/*如果全部比较完成以后发现newStartIdx &gt; newEndIdx，则说明新节点已经遍历完了，老节点多于新节点，这个时候需要将多余的老节点从真实Dom中移除*/</span></span><br><span class="line">     removeVnodes(oldCh, oldStartIdx, oldEndIdx) <span class="comment">//移除 oldStartIdx - oldEndIdx 之间的所有节点</span></span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><p>再回过头看我们的实例，新节点的数目大于旧节点，需要创建 newStartIdx 和 newEndIdx 之间的所有节点。在我们的实例中就是节点 F，因此直接创建 F 节点对应的真实节点放到 B 节点后面即可。</p><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/diff08.png" alt="diff 第六次循环"></p><p>至此 diff 算法实现</p>]]></content>
      
      
      
        <tags>
            
            <tag> Vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS 之继承与原型链</title>
      <link href="/2020/11/11/JS-%E4%B9%8B%E5%8E%9F%E5%9E%8B/"/>
      <url>/2020/11/11/JS-%E4%B9%8B%E5%8E%9F%E5%9E%8B/</url>
      
        <content type="html"><![CDATA[<h2 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h2><blockquote><p>当谈到继承时，JavaScript 只有一种结构：对象。<br>每个实例对象（object）都有一个私有属性（称之为 <code>__proto__</code>）指向它的构造函数的原型对象(<code>prototype</code>)。<br>该原型对象也有一个自己的原型对象(<code>__proto__</code>)，层层向上直到一个对象的原型对象为 null。<br>根据定义，null 没有原型，并作为这个<strong>原型链</strong>中的最后一个环节</p></blockquote><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/js%E5%8E%9F%E5%9E%8B.png" alt="js 原型"></p><h2 id="继承，原型，原型链关系理解"><a href="#继承，原型，原型链关系理解" class="headerlink" title="继承，原型，原型链关系理解"></a>继承，原型，原型链关系理解</h2><ul><li><code>__proto__</code></li></ul><blockquote><p>Every JavaScript object has a second JavaScript object (or null ,but this is rare) associated with it. This second object is known as a prototype, and the first object inherits properties from the prototype.</p></blockquote><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/prototype.png" alt="__proto__ 与 prototype"></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = &#123;&#125;;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Foo</span>(<span class="params"></span>) </span>&#123;&#125;;</span><br><span class="line"><span class="keyword">let</span> f1 = <span class="keyword">new</span> Foo();</span><br><span class="line"><span class="built_in">console</span>.log(a.__proto__ === <span class="built_in">Object</span>.prototype);<span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(f1.__proto__ === Foo.prototype); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(Foo.prototype.__proto__ === <span class="built_in">Object</span>.prototype); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(Foo.prototype.__proto__.__proto__, <span class="built_in">Object</span>.prototype.__proto__); <span class="comment">// null, null</span></span><br><span class="line">Foo.prototype.name = <span class="string">'张三'</span>;</span><br><span class="line">Foo.prototype.age = <span class="number">22</span>;</span><br><span class="line"><span class="built_in">console</span>.log(f, f1.name, f1.age, Foo, Foo.name, Foo.age);<span class="comment">// Foo&#123;&#125;, 张三， 22, f()&#123;&#125;, Foo(Foo.name 会打印当前函数名字，是内在属性与原型无关), undefined;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 在构造一个对象的时候，添加的原型越多，赋予给对象的意义越大。</span></span><br></pre></td></tr></table></figure><p><strong>对象 <code>__proto__</code> 属性的值就是它所对应的原型对象</strong></p><ul><li><code>prototype</code></li></ul><p><strong>不是每个对象都有 <code>__proto__</code> 属性来标识自己所继承的原型，只有函数才有 <code>prototype</code> 属性。</strong></p><blockquote><p>当你创建一个函数时， JS 会为这个函数自动添加 <code>prototype</code> 属性，值是一个有 constructor 属性的对象，不是空对象。<br>一旦你把这个函数当作构造函数（constructor）调用（即通过关键字 new 调用），那么 JS 就会帮你创造该构造函数的实例。<br>实例继承构造函数 <code>prtotype</code> 的所有属性和方法（实例通过设置自己的 <code>__proto__</code> 指向承构造函数的 <code>prototye</code> 来实现这种继承）。</p></blockquote><p><strong>几个小知识</strong></p><ul><li>JS 内置函数：Object, Function, Array, RegExp, Date, Boolean, Number, String）</li><li>属性 <code>__proto__</code> 是一个对象，它有两个属性，constructor 和 <code>__proto__</code></li><li>原型对象 <code>prototype</code> 有一个默认的 constructor 属性，用于记录实例是由哪个构造函数创建</li><li>对象的 <code>__proto__</code> 指向自己的构造函数的 <code>prototype</code>，JS 通过 <code>__proto__</code> 和 <code>prototype</code> 的合作实现了原型链，以及对象的继承</li><li>构造函数，通过 <code>prototype</code> 来存储要共享的属性和方法，也可以设置 <code>prototype</code> 指向现存的对象来继承该对象</li></ul><h2 id="MORE"><a href="#MORE" class="headerlink" title="MORE"></a>MORE</h2><p><strong>JS 是单继承的，<code>Object.prototype</code> 是原型链的顶端，所有对象从它继承了 <code>toString</code> 等方法和属性。</strong></p><p>Object 本身是构造函数，继承了 Function.prototype; Funtion 也是对象，继承了 Object.prototype。这里就有一个鸡和蛋的问题：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Object</span> <span class="keyword">instanceof</span> <span class="built_in">Function</span> <span class="comment">// true</span></span><br><span class="line"><span class="built_in">Function</span> <span class="keyword">instanceof</span> <span class="built_in">Object</span> <span class="comment">// true</span></span><br></pre></td></tr></table></figure><p>什么时候下会出现鸡和蛋的问题呢？<span style="color:#1086ff">就是声明一个包含所有集合的集合啊！罗素悖论</span></p><p>ES 标准：</p><blockquote><p>Function本身就是函数，Function.<code>__proto__</code>是标准的内置对象Function.prototype。<br>Function.prototype.<code>__proto__</code>是标准的内置对象Object.prototype。<br>Function.prototype和Function.<code>__proto__</code>都指向Function.prototype，这就是鸡和蛋的问题怎么出现的。<br>Object.prototype.<code>__proto__</code> === null，说明原型链到Object.prototype终止。</p></blockquote><h2 id="附录"><a href="#附录" class="headerlink" title="附录"></a>附录</h2><ul><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Inheritance_and_the_prototype_chain" target="_blank" rel="noopener">MDN 继承与原型链</a></li><li><a href="https://github.com/creeperyang/blog/issues/9" target="_blank" rel="noopener">原文：从<code>__proto__</code>和prototype来深入理解JS对象和原型链</a></li><li><a href="https://juejin.im/post/6844903989088092174" target="_blank" rel="noopener">原文：轻松理解 JS 原型链</a></li></ul><hr>]]></content>
      
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS 获取本地文件</title>
      <link href="/2020/11/07/JS-%E8%8E%B7%E5%8F%96%E6%9C%AC%E5%9C%B0%E6%96%87%E4%BB%B6/"/>
      <url>/2020/11/07/JS-%E8%8E%B7%E5%8F%96%E6%9C%AC%E5%9C%B0%E6%96%87%E4%BB%B6/</url>
      
        <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>在上一篇博客 (<a href="https://workstudy.top/2020/11/05/vue-element-upload-%E5%AE%9E%E7%8E%B0%E4%B8%8A%E4%BC%A0-excel/">vue + element upload 实现上传 excel</a>) 中实现了上传 excel 文件。而在这篇文章中将详细讲述一下，如何获取本地文件，并通过 formdata 将其上传到服务器</p><h2 id="JS-文件上传-lt-input-type-quot-file-quot-gt"><a href="#JS-文件上传-lt-input-type-quot-file-quot-gt" class="headerlink" title="JS 文件上传&lt;input type=&quot;file&quot;&gt;"></a>JS 文件上传<code>&lt;input type=&quot;file&quot;&gt;</code></h2><blockquote><p>使用 type=”file” 的 <code>&lt;input&gt;</code> 元素使得用户可以选择一个或多个元素以提交表单的方式上传到服务器上，或者通过 Javascript 的 File API 对文件进行操作。</p></blockquote><p><code>&lt;input type=&quot;file&quot;&gt;</code> 中有一个属性 accept, 这个属性用来界定接收的文件类型</p><p><strong>常见的属性值：</strong></p><ul><li>audio/* 接收所有的声音文件</li><li>video/* 接收所有的视频文件</li><li>image/* 接收所有的图像文件</li></ul><p><code>&lt;input type=&quot;file&quot; accept=&quot;image/gif, image/jpeg&quot; /&gt;</code>多属性一起使用，需要在中间加 “,” 分隔。/后面可以界定文件后缀。</p><p><span style="color:red">注意请不要将该属性作为唯一的验证工具，应该在服务器上对文件上传进行验证。</span></p><p><code>&lt;input type=&quot;file&quot;&gt;</code> 中有一个属性值 multiple, 当添加 multiple=”multiple” 属性就可以实现上传多个文件效果</p><h2 id="lt-input-type-quot-file-quot-gt-事件"><a href="#lt-input-type-quot-file-quot-gt-事件" class="headerlink" title="&lt;input type=&quot;file&quot;&gt; 事件"></a><code>&lt;input type=&quot;file&quot;&gt;</code> 事件</h2><ul><li>input: 每当元素的 value 发生改变，input 事件都会被触发。</li><li>change: 仅当 value 被提交时触发，如按回车键，从一个 options 列表中选择一个值，文件上传完等。</li></ul><p><strong>change 方法获取文件内容</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;input type=<span class="string">"file"</span> onchange=<span class="string">"changeMethod(this)"</span>&gt;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">changeMethod</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> file = e.files[<span class="number">0</span>]</span><br><span class="line">  <span class="built_in">console</span>.log(file, e.files)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>api 上传文件的类型 multipart/form-data，所以只需要将 file 设置成 formdata 就可以了。</p><hr>]]></content>
      
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vue + element upload 实现上传 excel</title>
      <link href="/2020/11/05/vue-element-upload-%E5%AE%9E%E7%8E%B0%E4%B8%8A%E4%BC%A0-excel/"/>
      <url>/2020/11/05/vue-element-upload-%E5%AE%9E%E7%8E%B0%E4%B8%8A%E4%BC%A0-excel/</url>
      
        <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>在开发中，会碰到上传 excel 的情况，记录一下 vue+element upload 实现过程</p><h2 id="实现效果"><a href="#实现效果" class="headerlink" title="实现效果"></a>实现效果</h2><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/excel%E4%B8%8A%E4%BC%A0.png" alt="下载 excel 模板并上传"></p><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"margin-top: 10px;"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">v-model</span>=<span class="string">"uploadFileName"</span> <span class="attr">style</span>=<span class="string">"width: 280px;"</span>&gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-upload</span></span></span><br><span class="line"><span class="tag">    <span class="attr">ref</span>=<span class="string">"upload"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">class</span>=<span class="string">"upload-demo"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">accept</span>=<span class="string">".xlsx"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">action</span>=<span class="string">""</span></span></span><br><span class="line"><span class="tag">    <span class="attr">:auto-upload</span>=<span class="string">"false"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">:show-file-list</span>=<span class="string">"false"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">:on-change</span>=<span class="string">"fileChange"</span></span></span><br><span class="line"><span class="tag">  &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">"primary"</span>&gt;</span></span><br><span class="line">      选取文件</span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">el-upload</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">"success"</span> @<span class="attr">click</span>=<span class="string">"uploadFile"</span>&gt;</span></span><br><span class="line">    上传到服务器</span><br><span class="line">  <span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line">fileChange(file, fileList) &#123;</span><br><span class="line">  <span class="keyword">this</span>.$refs.upload.clearFiles()</span><br><span class="line">  <span class="keyword">this</span>.fileList = []</span><br><span class="line">  <span class="keyword">this</span>.uploadFileName = file.raw.name</span><br><span class="line">  <span class="keyword">this</span>.fileList.push(file.raw)</span><br><span class="line">&#125;,</span><br><span class="line">uploadFile() &#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">this</span>.fileList.length === <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="keyword">this</span>.$message.warning(<span class="string">'请先选择文件'</span>)</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> extension = <span class="keyword">this</span>.uploadFileName.substring(<span class="keyword">this</span>.uploadFileName.lastIndexOf(<span class="string">'.'</span>) + <span class="number">1</span>)</span><br><span class="line">    <span class="keyword">if</span> (extension !== <span class="string">'xlsx'</span>) &#123;</span><br><span class="line">      <span class="keyword">this</span>.$message.warning(<span class="string">'只能上传后缀是.xlsx的文件'</span>)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> form = <span class="keyword">new</span> FormData()</span><br><span class="line">      form.append(<span class="string">'excel'</span>, <span class="keyword">this</span>.fileList[<span class="number">0</span>])</span><br><span class="line">      uploadSNexcel(form).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (res.code) &#123;</span><br><span class="line">          <span class="keyword">this</span>.$message.success(res.msg)</span><br><span class="line">          <span class="keyword">this</span>.uploadFileName = <span class="string">''</span></span><br><span class="line">          <span class="keyword">this</span>.search()</span><br><span class="line">          <span class="keyword">this</span>.showNewContent()</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          <span class="keyword">this</span>.$message.error(res.msg)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// api 内容</span></span><br><span class="line"><span class="comment">/************************************************</span></span><br><span class="line"><span class="comment">*export const uploadSNexcel = (form) =&gt; &#123;</span></span><br><span class="line"><span class="comment">*  return request(&#123;</span></span><br><span class="line"><span class="comment">*    url: '/jshjy/suning/price/excel',</span></span><br><span class="line"><span class="comment">*    method: 'post',</span></span><br><span class="line"><span class="comment">*    headers: &#123;</span></span><br><span class="line"><span class="comment">*      'Content-type': 'multipart/form-data'</span></span><br><span class="line"><span class="comment">*    &#125;,</span></span><br><span class="line"><span class="comment">*    data: form</span></span><br><span class="line"><span class="comment">*  &#125;)</span></span><br><span class="line"><span class="comment">*&#125;</span></span><br><span class="line"><span class="comment">***************************************************/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 导出 excel 模板</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**********************************************************************</span></span><br><span class="line"><span class="comment">*exportExcel() &#123;</span></span><br><span class="line"><span class="comment">*  // 导出文件模板</span></span><br><span class="line"><span class="comment">*  const aLink = document.createElement('a')</span></span><br><span class="line"><span class="comment">*  aLink.style.display = 'none' //</span></span><br><span class="line"><span class="comment">*  aLink.href = 下载 excel 模板的路径</span></span><br><span class="line"><span class="comment">*  // console.log(aLink.href)</span></span><br><span class="line"><span class="comment">*  aLink.setAttribute('download', 'XXX模板' + '.xlsx')</span></span><br><span class="line"><span class="comment">*  document.body.appendChild(aLink)</span></span><br><span class="line"><span class="comment">*  aLink.click()</span></span><br><span class="line"><span class="comment">*  document.body.removeChild(aLink)</span></span><br><span class="line"><span class="comment">*&#125;</span></span><br><span class="line"><span class="comment">**********************************************************************/</span></span><br></pre></td></tr></table></figure><hr>]]></content>
      
      
      
        <tags>
            
            <tag> Vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS  之 typeof, instanceof &amp;&amp; obj.constructor</title>
      <link href="/2020/10/30/JS-%E4%B9%8B-typeof-instanceof-obj-constructor/"/>
      <url>/2020/10/30/JS-%E4%B9%8B-typeof-instanceof-obj-constructor/</url>
      
        <content type="html"><![CDATA[<h2 id="typeof-用以获取一个变量或者是表达式的类型"><a href="#typeof-用以获取一个变量或者是表达式的类型" class="headerlink" title="typeof 用以获取一个变量或者是表达式的类型"></a>typeof 用以获取一个变量或者是表达式的类型</h2><p>可分辨内容为： number, boolean, string, function, object(array, null, date 都只能判断成 object), undefined</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 测试 typeof 用法</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> <span class="number">123</span>); <span class="comment">// number</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> <span class="literal">true</span>); <span class="comment">// boolean</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> <span class="string">'123'</span>); <span class="comment">// string</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;); <span class="comment">// function</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> &#123;&#125;); <span class="comment">// object</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> []); <span class="comment">// object</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> <span class="keyword">new</span> <span class="built_in">Date</span>()); <span class="comment">// object</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> <span class="literal">null</span>); <span class="comment">// object</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> <span class="literal">undefined</span>); <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure><h2 id="instanceof-用于判断一个变量是否是某个对象的实例"><a href="#instanceof-用于判断一个变量是否是某个对象的实例" class="headerlink" title="instanceof 用于判断一个变量是否是某个对象的实例"></a>instanceof 用于判断一个变量是否是某个对象的实例</h2><blockquote><p>操作符 instanceof 测试构造函数的 prototype 属性是否出现在对象的 prototype 链的任何位置。返回值是布尔值。</p></blockquote><p>可分辨内容为 object, array, date, function, instanceof 判断的前提是对象。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(&#123;&#125; <span class="keyword">instanceof</span> <span class="built_in">Object</span>); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125; <span class="keyword">instanceof</span> <span class="built_in">Function</span>); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log([] <span class="keyword">instanceof</span> <span class="built_in">Array</span>); <span class="comment">// true</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.x = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">this</span>.y = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(test <span class="keyword">instanceof</span> <span class="built_in">Object</span>); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(test <span class="keyword">instanceof</span> <span class="built_in">Function</span>); <span class="comment">// true</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS 实现一个深拷贝</title>
      <link href="/2020/10/27/JS-%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%E6%B7%B1%E6%8B%B7%E8%B4%9D/"/>
      <url>/2020/10/27/JS-%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%E6%B7%B1%E6%8B%B7%E8%B4%9D/</url>
      
        <content type="html"><![CDATA[<p><a href="https://juejin.im/post/6844903584023183368" target="_blank" rel="noopener">原文</a></p><h2 id="一个满足-80-情况的简单解决方案"><a href="#一个满足-80-情况的简单解决方案" class="headerlink" title="一个满足 80% 情况的简单解决方案"></a>一个满足 80% 情况的简单解决方案</h2><ul><li>序列化/反序列化 方法</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// JSON.stringify(); 将对象序列化成 JSON 字符串</span></span><br><span class="line"><span class="comment">// JSON.parse();将 JSON 字符串反序列化成对象</span></span><br><span class="line"><span class="keyword">const</span> newObj = <span class="built_in">JSON</span>.parse(<span class="built_in">JSON</span>.stringify(oldObj));</span><br></pre></td></tr></table></figure><h2 id="20-的异常情况"><a href="#20-的异常情况" class="headerlink" title="20% 的异常情况"></a>20% 的异常情况</h2><ul><li>无法实现对函数，RegExp 等特殊对象的克隆</li><li>会抛弃对象的 constructor, 所有的构造函数会指向 Object</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 构造函数</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">person</span>(<span class="params">pname</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.name = pname;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> Messi = <span class="keyword">new</span> person(<span class="string">'Messi'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 函数</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">say</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'hi'</span>);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> oldObj = &#123;</span><br><span class="line">  a: say,</span><br><span class="line">  b: <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">1</span>),</span><br><span class="line">  c: <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">'ab+c'</span>, <span class="string">'i'</span>),</span><br><span class="line">  d: Messi</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> newObj = <span class="built_in">JSON</span>.parse(<span class="built_in">JSON</span>.stringify(oldObj));</span><br><span class="line"></span><br><span class="line"><span class="comment">// 无法复制函数</span></span><br><span class="line"><span class="built_in">console</span>.log(newObj.a, oldObj.a); <span class="comment">// undefined [Function: say]</span></span><br><span class="line"><span class="comment">// 稀疏数组复制错误</span></span><br><span class="line"><span class="built_in">console</span>.log(newObj.b[<span class="number">0</span>], oldObj.b[<span class="number">0</span>]); <span class="comment">// null undefined</span></span><br><span class="line"><span class="comment">// 无法复制正则对象</span></span><br><span class="line"><span class="built_in">console</span>.log(newObj.c, oldObj.c); <span class="comment">// &#123;&#125; /ab+c/i</span></span><br><span class="line"><span class="comment">// 构造函数指向错误</span></span><br><span class="line"><span class="built_in">console</span>.log(newObj.d.constructor, oldObj.d.constructor); <span class="comment">// [Function: Object] [Function: person]</span></span><br></pre></td></tr></table></figure><ul><li>对象有循环引用，会报错</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> oldObj = &#123;&#125;;</span><br><span class="line"></span><br><span class="line">oldObj.a = oldObj;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> newObj = <span class="built_in">JSON</span>.parse(<span class="built_in">JSON</span>.stringify(oldObj));</span><br><span class="line"><span class="built_in">console</span>.log(newObj.a, oldObj.a); <span class="comment">// TypeError: Converting circular structure to JSON</span></span><br></pre></td></tr></table></figure><h2 id="深拷贝的实现"><a href="#深拷贝的实现" class="headerlink" title="深拷贝的实现"></a>深拷贝的实现</h2><p>根据实验可知，由于 JS　灵活的特性，使得深度复制一个对象显得极为复杂，在此列一下面对不同的对象进行的深拷贝操作 (obj)</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// obj 是一个时间对象</span></span><br><span class="line"><span class="keyword">if</span> (obj <span class="keyword">instanceof</span> <span class="built_in">Date</span>) <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Date</span>(obj.valueof());</span><br><span class="line"><span class="comment">// obj 是一个函数</span></span><br><span class="line"><span class="keyword">if</span> (obj <span class="keyword">instanceof</span> <span class="built_in">Function</span>) <span class="keyword">return</span> <span class="built_in">JSON</span>.parse(<span class="built_in">JSON</span>.toString(obj));</span><br></pre></td></tr></table></figure><hr>]]></content>
      
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>module.exports 与 exports, export 与 export default 之间的关系和区别</title>
      <link href="/2020/10/21/module-exports-%E4%B8%8E-exports-export-%E4%B8%8E-export-default-%E4%B9%8B%E9%97%B4%E7%9A%84%E5%85%B3%E7%B3%BB%E5%92%8C%E5%8C%BA%E5%88%AB/"/>
      <url>/2020/10/21/module-exports-%E4%B8%8E-exports-export-%E4%B8%8E-export-default-%E4%B9%8B%E9%97%B4%E7%9A%84%E5%85%B3%E7%B3%BB%E5%92%8C%E5%8C%BA%E5%88%AB/</url>
      
        <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p><strong>一个很重要的知识点： CommonJS 模块规范和 ES6 模块规范是不同的概念</strong></p><h2 id="CommonJS-模块规范"><a href="#CommonJS-模块规范" class="headerlink" title="CommonJS 模块规范"></a>CommonJS 模块规范</h2><p><strong>Node 应用由模块组成， 采用 CommonJS 模块规范。</strong></p><p>根据这个规范，每一个文件就是一个模块，有自己的作用域。在一个文件里面定义的变量，函数，类都是私有的，对其他文件不可见。</p><blockquote><p>CommonJS定义的模块分为: 模块标识(module)、模块定义(exports) 、模块引用(require)</p></blockquote><p><strong>换言之</strong><br>CommonJS 规范规定，每个模块内部， module 变量代表当前模块。这个变量是一个对象，它的 exports 属性（即 module.exports）是对外的接口。加载某个模块，其实是加载该模块的 module.exports 属性。</p><ol><li><p>module.exports 导出变量</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> testX = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">let</span> testY = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'this is just an example of test'</span>)</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">module</span>.exports.x = testX;</span><br><span class="line"><span class="built_in">module</span>.exports.y = testY;</span><br><span class="line"><span class="comment">// 如果要对数值，数组，函数直接引出，不加键值，则只有一种方法</span></span><br><span class="line"><span class="built_in">module</span>.export = <span class="number">123</span>;</span><br><span class="line"><span class="comment">// exports = 123; 虽然可以执行，但是module.exports 依旧是 &#123;&#125;, 无法导出，exports 只能通过给 &#123;&#125; 添加键值对的方法导出。</span></span><br></pre></td></tr></table></figure><p>上述代码，通过 module.exports 输出变量 x 和函数 y。</p></li><li><p>require 方法用于加载模块</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> example = <span class="built_in">require</span>(<span class="string">'./test.js'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(example.x); <span class="comment">// 0</span></span><br><span class="line">example.y(); <span class="comment">// this is just an example of test</span></span><br><span class="line"><span class="built_in">console</span>.log(example.testX); <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure><p>上述代码，通过 require 引用模块，但是只能获取到模块导出的变量，无法获取到未导出的变量。</p></li><li><p>exports 与 module.exports 区别联系<br><strong>优先使用 module.exports</strong></p><p>为了方便， Node 为每个模块提供了一个 exports 变量，指向 module.exports。<br>类似于, 在每个 js 文件前加了这样一行代码。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> exports = <span class="built_in">module</span>.exports;</span><br></pre></td></tr></table></figure><p>所以，我们可以直接在 exports 对象上添加方法，表示对外输出的接口，就像是在 module.exports 上添加一样。</p><p><strong>PS：因为 Node 模块是通过 module.exports 导出的，如果直接将 exports 变量指向一个值，就切断了 exports 与 module.exports 的联系，导致意外发生。</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// a.js</span></span><br><span class="line">exports = <span class="function"><span class="keyword">function</span> <span class="title">a</span> (<span class="params"></span>) </span>&#123;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// b.js</span></span><br><span class="line">exports.x = <span class="function"><span class="keyword">function</span> <span class="title">b</span> (<span class="params"></span>) </span>&#123;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// c.js</span></span><br><span class="line"><span class="keyword">const</span> a = <span class="built_in">require</span>(<span class="string">'./a.js'</span>); <span class="comment">// a 是一个空对象</span></span><br><span class="line"><span class="keyword">const</span> b = <span class="built_in">require</span>(<span class="string">'./b.js'</span>); <span class="comment">// b 是 &#123; x: [Function: b] &#125;</span></span><br></pre></td></tr></table></figure><p><a href="https://blog.tableflip.io/the-difference-between-module-exports-and-exports/" target="_blank" rel="noopener">原理</a></p></li></ol><h2 id="ES6-模块规范"><a href="#ES6-模块规范" class="headerlink" title="ES6 模块规范"></a>ES6 模块规范</h2><blockquote><p>ES6 使用 export 和 import 来导出导入模块。</p></blockquote><ol><li><p>export 导出</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">var</span> a = <span class="number">0</span>;</span><br><span class="line"><span class="comment">// 2</span></span><br><span class="line"><span class="keyword">var</span> b = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">export</span> &#123; b &#125;;</span><br><span class="line"><span class="comment">// 3</span></span><br><span class="line"><span class="keyword">var</span> c = <span class="number">2</span>;</span><br><span class="line"><span class="keyword">export</span> &#123; c <span class="keyword">as</span> cName &#125;;</span><br><span class="line"><span class="comment">// 4</span></span><br><span class="line"><span class="keyword">const</span>  m = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> m;</span><br><span class="line"><span class="comment">// export default m = 10; 这种不可以</span></span><br></pre></td></tr></table></figure></li><li><p>import</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//导出了 export 方法 </span></span><br><span class="line"><span class="keyword">import</span> &#123; a, b &#125; <span class="keyword">from</span> <span class="string">'./testEs6Export'</span>;</span><br><span class="line"><span class="comment">//导出了 export default</span></span><br><span class="line"><span class="keyword">import</span> m <span class="keyword">from</span> <span class="string">'./testEs6Export'</span>;</span><br><span class="line"><span class="comment">//as 集合成对象导出</span></span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> testModule <span class="keyword">from</span> <span class="string">'./testEs6Export'</span>;</span><br></pre></td></tr></table></figure></li><li><p>export 和 export default 的联系与区别</p><ul><li>export与export default均可用于导出常量、函数、文件、模块等</li><li>在一个文件或模块中，export、import可以有多个，export default仅有一个</li><li>通过export方式导出，在导入时要加{ }，export default则不需要</li><li>export能直接导出变量表达式，export default不行。</li></ul></li></ol><h2 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h2><blockquote><p>require: node 和 es6 都支持的引入<br>export / import : 只有es6 支持的导出引入<br>module.exports / exports: 只有 node 支持的导出</p></blockquote><h2 id="附录"><a href="#附录" class="headerlink" title="附录"></a>附录</h2><ul><li><a href="http://javascript.ruanyifeng.com/nodejs/module.html" target="_blank" rel="noopener">CommonJS规范</a></li><li><a href="http://es6.ruanyifeng.com/#docs/module" target="_blank" rel="noopener">ES6 Module 的语法</a></li></ul><hr>]]></content>
      
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS 测试框架 Mocha</title>
      <link href="/2020/10/19/JS-%E6%B5%8B%E8%AF%95%E6%A1%86%E6%9E%B6Mocha/"/>
      <url>/2020/10/19/JS-%E6%B5%8B%E8%AF%95%E6%A1%86%E6%9E%B6Mocha/</url>
      
        <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><ul><li>Mocha 诞生于 2011 年，是目前最流行的 JavaScript 测试框架之一。</li><li>在浏览器和 Node 环境下都可以使用。</li><li>测试框架还有 Jasmine, Karma, Tape</li></ul><h2 id="Mocha-工程结构"><a href="#Mocha-工程结构" class="headerlink" title="Mocha 工程结构"></a>Mocha 工程结构</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">test&#x2F;</span><br><span class="line">|</span><br><span class="line">+- .vscode&#x2F;</span><br><span class="line">|  |</span><br><span class="line">|  +- launch.json &lt;-- VSCode 配置文件</span><br><span class="line">|</span><br><span class="line">+- hello.js &lt;-- 待测试js文件</span><br><span class="line">|</span><br><span class="line">+- test&#x2F; &lt;-- 存放所有test</span><br><span class="line">｜ ｜</span><br><span class="line">|  +- hello-test.js &lt;-- 测试文件</span><br><span class="line">|</span><br><span class="line">+- package.json &lt;-- 项目描述文件</span><br><span class="line">|</span><br><span class="line">+- node_modules&#x2F; &lt;-- npm安装的所有依赖包</span><br></pre></td></tr></table></figure><h2 id="Mocha-安装"><a href="#Mocha-安装" class="headerlink" title="Mocha 安装"></a>Mocha 安装</h2><p><strong>在 package.json 中添加依赖 Mocha, 需要注意的是要将 Mocha 添加到 “devDependencies” 中，而不是 “dependencies”</strong></p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// package.json</span></span><br><span class="line"><span class="comment">// 如果一个模块在运行时并不需要，仅仅在开发时才需要，就可以放到 devDependencies 中。这样，正式打包发布时， devDependencies 的包不会被包含进来。</span></span><br><span class="line">&#123;</span><br><span class="line">  ...</span><br><span class="line">  "dependencies": &#123;&#125;,</span><br><span class="line">  "devDependencies": &#123;</span><br><span class="line">    "mocha": "3.1.2"</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Mocha-测试"><a href="#Mocha-测试" class="headerlink" title="Mocha 测试"></a>Mocha 测试</h2><p><strong>Mocha 会默认执行 test 目录下的所有测试，所有不要去改变默认目录</strong></p><h2 id="附录"><a href="#附录" class="headerlink" title="附录"></a>附录</h2><ul><li><a href="http://www.ruanyifeng.com/blog/2015/12/a-mocha-tutorial-of-examples.html" target="_blank" rel="noopener">测试框架 Mocha 实例教程</a></li><li><a href="https://www.liaoxuefeng.com/wiki/1022910821149312/1101756368943712" target="_blank" rel="noopener">Mocha 测试</a></li></ul><hr>]]></content>
      
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ES6 之 export 与 import</title>
      <link href="/2020/10/16/ES6-%E4%B9%8B-export-%E4%B8%8E-import/"/>
      <url>/2020/10/16/ES6-%E4%B9%8B-export-%E4%B8%8E-import/</url>
      
        <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><blockquote><p>ES6 中的 <strong>一个模块是一个包含了 JS 代码的文件</strong>，在一个模块中，其所有的变量都是对其他模块不可见的，除非我们导出它们。<br><strong>模块化规范：</strong> 即为 JavaScript 提供一种模块编写、模块依赖和</p></blockquote><ul><li>ES6 的模块自动开启严格模式，即使你没有写 ‘use strict’</li><li>可以在模块中使用 import 和 export</li></ul><h2 id="模块导出-export"><a href="#模块导出-export" class="headerlink" title="模块导出 export"></a>模块导出 export</h2><blockquote><p>export 可以导出所有的最外层函数, 类以及var, let 或 const 声明的变量。ES6 模块只支持静态的导入和导出，所以只能在函数的最外层作用域使用 import 和 export，不可以在条件语句中使用也不可以在函数作用域内使用，所有导出的标识符一定要在源码中明确的导出他们的名称。</p></blockquote><h3 id="名字导出-name-export"><a href="#名字导出-name-export" class="headerlink" title="名字导出 (name export)"></a>名字导出 (name export)</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">test</span> (<span class="params">x, y</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="built_in">Number</span>(x) &amp;&amp; <span class="built_in">Number</span>(y)) &#123;</span><br><span class="line">    <span class="keyword">return</span> x + y;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    alert (<span class="string">'输入格式有误！'</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 导出重命名</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> &#123;</span><br><span class="line">  test <span class="keyword">as</span> testA,</span><br><span class="line">  test <span class="keyword">as</span> testB</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>可以在 function, class, var, let 或 const 前加 export</strong></p><h3 id="默认导出-default-export"><a href="#默认导出-default-export" class="headerlink" title="默认导出 (default export)"></a>默认导出 (default export)</h3><p><strong>一个模块只能有一个默认导出</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> test (x, y) &#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="built_in">Number</span>(x) &amp;&amp; <span class="built_in">Number</span>(y)) &#123;</span><br><span class="line">    <span class="keyword">return</span> x + y;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    alert (<span class="string">'输入格式有误！'</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="模块导入-import"><a href="#模块导入-import" class="headerlink" title="模块导入 import"></a>模块导入 import</h2><ul><li>导入普通的命名 import</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; test &#125; <span class="keyword">from</span> <span class="string">'test'</span>;</span><br></pre></td></tr></table></figure><ul><li>导入重名 import</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; test <span class="keyword">as</span> testA &#125; <span class="keyword">from</span> <span class="string">'test'</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; test <span class="keyword">as</span> testB &#125; <span class="keyword">from</span> <span class="string">'testB'</span>;</span><br></pre></td></tr></table></figure><ul><li>导入 default</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="keyword">default</span> <span class="keyword">as</span> test &#125; <span class="keyword">from</span> <span class="string">'test'</span>;</span><br><span class="line"><span class="keyword">import</span> test <span class="keyword">from</span> <span class="string">'test'</span>;</span><br></pre></td></tr></table></figure><h2 id="附录"><a href="#附录" class="headerlink" title="附录"></a>附录</h2><ul><li><a href="https://segmentfault.com/a/1190000003410285?utm_source=debugrun&utm_medium=referral" target="_blank" rel="noopener">ES6 的模块系统</a></li><li><a href="https://hacks.mozilla.org/2015/08/es6-in-depth-modules/" target="_blank" rel="noopener">ES6 In Depth: Modules</a></li></ul><hr>]]></content>
      
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Axure RP 9 正式版密钥分享</title>
      <link href="/2020/10/10/Axure-RP-9-%E6%AD%A3%E5%BC%8F%E7%89%88%E5%AF%86%E9%92%A5%E5%88%86%E4%BA%AB/"/>
      <url>/2020/10/10/Axure-RP-9-%E6%AD%A3%E5%BC%8F%E7%89%88%E5%AF%86%E9%92%A5%E5%88%86%E4%BA%AB/</url>
      
        <content type="html"><![CDATA[<div style="color:#1ec695;font-weight:700;border-bottom:1px dashed #858585;margin-bottom:15px">温馨提示：资源来自互联网，请支持正版。</div><div style="border:1px solid #858585"><div style="border-bottom:1px solid #858585;padding:15px"><span>被授权人（License）: AX9001</span><br><span>授权码（Key）：iy9uUKbS7pEZwE5hbHTGigOcu48TdY4JXWbJYHxXLuvAzRL8qmry9J2mS5wXO7y3</span></div><div style="border-bottom:1px solid #858585;padding:15px"><span>被授权人（License）: AX9003</span><br><span>授权码（Key）：sOujdwe3jIWrmoe9S13mb42hKJWcRBe6L+CZwNsC4OluYXGVPFd+KiQjpdM56fpG</span></div><div style="padding:15px"><span>被授权人（License）: AX9003</span><br><span>授权码（Key）：NT/mS+29Kgtw46K0kQBgE3X5qzPwKhSLSM20lhdVQ2bH593Quez3lphi8AAgA1Ax</span></div></div><hr>]]></content>
      
      
      
        <tags>
            
            <tag> 白嫖库 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CSS 之 overflow</title>
      <link href="/2020/09/24/CSS-%E4%B9%8B-overflow/"/>
      <url>/2020/09/24/CSS-%E4%B9%8B-overflow/</url>
      
        <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>当一个元素固定大小，但是其内容元素放不下时，可以利用 overflow 属性来控制</p><h2 id="overflow-用法"><a href="#overflow-用法" class="headerlink" title="overflow 用法"></a>overflow 用法</h2><ul><li>值： visible | hidden | scroll | auto | inherit</li><li>默认值：visible</li><li>应用于：块级元素，替换元素，表单元格</li><li>继承性：无</li></ul><h2 id="overflow-x-overflow-y-的用法"><a href="#overflow-x-overflow-y-的用法" class="headerlink" title="overflow-x | overflow-y 的用法"></a>overflow-x | overflow-y 的用法</h2><blockquote><p>overflow-x和overflow-y的属性原本是IE浏览器独自拓展的属性，后来被CSS3采用，并标准化。overflow-x主要用来定义对水平方向内容溢出的剪切，而overflow-y主要用来定义对垂直方向内容溢出的剪切。<br>如果 overflow-x 和 overflow-y 的值相同，相当于 overflow<br>如果overflow-x和overflow-y值不同，且其中一个值显式设置为visible或未设置默认为visible，而另外一个值是非visible的值。则visible值会被重置为auto</p></blockquote><ul><li>值：visible | hidden | scroll | auto | inherit | no-display | no-content</li><li>默认值：visible</li><li>应用于：块级元素，替换元素，表单元格</li><li>继承性：无</li></ul><h2 id="属性详解"><a href="#属性详解" class="headerlink" title="属性详解"></a>属性详解</h2><h2 id="设置-overflow-样式"><a href="#设置-overflow-样式" class="headerlink" title="设置 overflow 样式"></a>设置 overflow 样式</h2><p>修改overflow产生的滚动条样式，主要可以通过如下三个伪元素设置：</p><ul><li>-webkit-scrollbar：设置水平滚动条的高度，垂直滚动的宽度</li><li>-webkit-scrollbar-thumb：设置滚动条里面的滑块样式</li><li>-webkit-scrollbar-track：设置滚动条的轨道背景样式</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 一个栗子 */</span></span><br><span class="line"><span class="comment">/*滚动条样式*/</span></span><br><span class="line"><span class="selector-class">.panel-txt</span><span class="selector-pseudo">::-webkit-scrollbar</span> &#123;<span class="comment">/*滚动条整体样式*/</span></span><br><span class="line">  <span class="attribute">width</span>: <span class="number">8px</span>;     <span class="comment">/*高宽分别对应横竖滚动条的尺寸*/</span></span><br><span class="line">  <span class="attribute">height</span>: <span class="number">8px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.panel-txt</span><span class="selector-pseudo">::-webkit-scrollbar-thumb</span> &#123;<span class="comment">/*滚动条里面小方块*/</span></span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">box-shadow</span>: inset <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span> <span class="built_in">rgba</span>(<span class="number">255</span>,<span class="number">255</span>,<span class="number">255</span>,<span class="number">0.9</span>);</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">255</span>,<span class="number">255</span>,<span class="number">255</span>,<span class="number">0.9</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.panel-txt</span><span class="selector-pseudo">::-webkit-scrollbar-track</span> &#123;<span class="comment">/*滚动条里面轨道*/</span></span><br><span class="line">  <span class="attribute">box-shadow</span>: inset <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span> <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0.2</span>);</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0.1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> CSS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CSS3 新特性之 calc() 函数</title>
      <link href="/2020/09/24/CSS3-%E6%96%B0%E7%89%B9%E6%80%A7%E4%B9%8B-calc-%E5%87%BD%E6%95%B0/"/>
      <url>/2020/09/24/CSS3-%E6%96%B0%E7%89%B9%E6%80%A7%E4%B9%8B-calc-%E5%87%BD%E6%95%B0/</url>
      
        <content type="html"><![CDATA[<h2 id="calc-允许计算-CSS-的属性值，比如动态计算长度值"><a href="#calc-允许计算-CSS-的属性值，比如动态计算长度值" class="headerlink" title="calc() 允许计算 CSS 的属性值，比如动态计算长度值"></a>calc() 允许计算 CSS 的属性值，比如动态计算长度值</h2><ul><li>任何长度值都可以使用calc()函数进行计算</li><li>calc()函数支持 “+”, “-“, “*”, “/“ 运算</li><li>calc()函数使用标准的数学运算优先级规则</li></ul><h2 id="用处"><a href="#用处" class="headerlink" title="用处"></a>用处</h2><blockquote><p>你可以使用calc()给元素的border、margin、pading、font-size和width等属性设置动态值。为何说是动态值呢?因为我们使用的表达式来得到的值。不过calc()最大的好处就是用在流体布局上，可以通过calc()计算得到元素的宽度。<br>calc()能让你给元素的做计算，你可以给一个div元素，使用百分比、em、px和rem单位值计算出其宽度或者高度，比如说“width:calc(50% + 2em)”，这样一来你就不用考虑元素DIV的宽度值到底是多少，而把这个烦人的任务交由浏览器去计算。</p></blockquote><h2 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.example</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="built_in">calc</span>(<span class="number">100</span> - <span class="number">50px</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>其中 calc 出自 calculation(计算)，是一个函数，（）内是其表达式，返回计算后的长度值。</p><p>待续…</p><hr>]]></content>
      
      
      
        <tags>
            
            <tag> CSS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS 实现数值动态变化动画效果</title>
      <link href="/2020/09/22/JS-%E5%AE%9E%E7%8E%B0%E6%95%B0%E5%80%BC%E5%8A%A8%E6%80%81%E5%8F%98%E5%8C%96%E5%8A%A8%E7%94%BB%E6%95%88%E6%9E%9C/"/>
      <url>/2020/09/22/JS-%E5%AE%9E%E7%8E%B0%E6%95%B0%E5%80%BC%E5%8A%A8%E6%80%81%E5%8F%98%E5%8C%96%E5%8A%A8%E7%94%BB%E6%95%88%E6%9E%9C/</url>
      
        <content type="html"><![CDATA[<h2><a href="#" class="headerlink"></a></h2>]]></content>
      
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ES6 标准新用法之 Map Set</title>
      <link href="/2020/09/09/ES6-%E6%A0%87%E5%87%86%E6%96%B0%E7%94%A8%E6%B3%95%E4%B9%8B-Map-Set/"/>
      <url>/2020/09/09/ES6-%E6%A0%87%E5%87%86%E6%96%B0%E7%94%A8%E6%B3%95%E4%B9%8B-Map-Set/</url>
      
        <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><blockquote><p>JavaScript 的默认对象表示方式 {} 可以视为其他语言的 Map 或 Dictionary 的数据结构，即一组键值对。<br>但是 JavaScript 的对象有一个小问题,就是键必须是字符串。但实际上 Number 或者是其他数据类型作为键也是非常合理的。所以 ES6 中 Map 应运而生。</p></blockquote><h2 id="用法"><a href="#用法" class="headerlink" title="用法"></a>用法</h2><ul><li>Map 是一组键值对的结构，具有极快的查找速度</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 初始化</span></span><br><span class="line"><span class="keyword">var</span> test = <span class="keyword">new</span> <span class="built_in">Map</span>();</span><br><span class="line"><span class="comment">// 添加新的 key-value</span></span><br><span class="line">test.set(<span class="string">'Michael'</span>, <span class="number">95</span>);</span><br><span class="line"><span class="comment">// 判断是否存在 key Michael</span></span><br><span class="line">test.has(<span class="string">'Michael'</span>); <span class="comment">// 结果为 true </span></span><br><span class="line"><span class="comment">// 获取 key 的值</span></span><br><span class="line">test.get(<span class="string">'Michael'</span>); <span class="comment">// 95</span></span><br><span class="line"><span class="comment">// 删除 key 的值</span></span><br><span class="line">test.delete(<span class="string">'Michael'</span>);</span><br><span class="line"><span class="comment">// 判断是否存在 key Michael</span></span><br><span class="line">test.has(<span class="string">'Michael'</span>); <span class="comment">// 结果为 false</span></span><br><span class="line"><span class="comment">// 获取 key 的值</span></span><br><span class="line">test.get(<span class="string">'Michael'</span>); <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure><ul><li>Set 与 Map 相似，也是一组 key 的集合, 但不存储 value。由于 key 不能重复，所以，在 Set 中，没有重复的 key。</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 初始化</span></span><br><span class="line"><span class="keyword">var</span> test = <span class="keyword">new</span> <span class="built_in">Set</span>();</span><br><span class="line">test.add(<span class="number">1</span>);</span><br><span class="line">test.add(<span class="number">4</span>);</span><br><span class="line">test.add(<span class="number">4</span>);</span><br><span class="line"><span class="built_in">console</span>.log(test);<span class="comment">// [1, 4]</span></span><br><span class="line">test.delete(<span class="number">4</span>);</span><br><span class="line"><span class="built_in">console</span>.log(test);<span class="comment">// [1]</span></span><br></pre></td></tr></table></figure><h2 id="Set-用于数组去重（-）"><a href="#Set-用于数组去重（-）" class="headerlink" title="Set 用于数组去重（^_^）"></a>Set 用于数组去重（^_^）</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line"><span class="keyword">var</span> test = <span class="keyword">new</span> <span class="built_in">Set</span>(arr);</span><br><span class="line"><span class="keyword">var</span> arrB = <span class="built_in">Array</span>.from(test);</span><br><span class="line"><span class="built_in">console</span>.log(arrB);</span><br></pre></td></tr></table></figure><hr>]]></content>
      
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>登录路由简单处理</title>
      <link href="/2020/09/09/%E7%99%BB%E5%BD%95%E8%B7%AF%E7%94%B1%E7%AE%80%E5%8D%95%E5%A4%84%E7%90%86/"/>
      <url>/2020/09/09/%E7%99%BB%E5%BD%95%E8%B7%AF%E7%94%B1%E7%AE%80%E5%8D%95%E5%A4%84%E7%90%86/</url>
      
        <content type="html"><![CDATA[<h2 id="全局路由的逻辑流程图"><a href="#全局路由的逻辑流程图" class="headerlink" title="全局路由的逻辑流程图"></a>全局路由的逻辑流程图</h2><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/%E5%85%A8%E5%B1%80%E8%B7%AF%E7%94%B1%E9%92%A9%E5%AD%90.png" alt="逻辑流程图"></p><h2 id="Vue-permission-js"><a href="#Vue-permission-js" class="headerlink" title="Vue permission.js"></a>Vue permission.js</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">'./router'</span></span><br><span class="line"><span class="keyword">import</span> NProgress <span class="keyword">from</span> <span class="string">'nprogress'</span> <span class="comment">// progress bar 网站连接进度条</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'nprogress/nprogress.css'</span> <span class="comment">// progress bar style</span></span><br><span class="line"><span class="keyword">import</span> &#123; Message &#125; <span class="keyword">from</span> <span class="string">'element-ui'</span></span><br><span class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">'./store'</span></span><br><span class="line"></span><br><span class="line">NProgress.configure(&#123; <span class="attr">showSpinner</span>: <span class="literal">false</span> &#125;) <span class="comment">// NProgress Configuration</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> whiteList = [<span class="string">'/register'</span>, <span class="string">'/auth-redirect'</span>] <span class="comment">// no redirect whitelist</span></span><br><span class="line"></span><br><span class="line">router.beforeEach(<span class="keyword">async</span>(to, <span class="keyword">from</span>, next) =&gt; &#123;</span><br><span class="line">  <span class="comment">// start progress bar</span></span><br><span class="line">  NProgress.start()</span><br><span class="line">  <span class="keyword">if</span> (store.getters.id) &#123;</span><br><span class="line">    next()</span><br><span class="line">    NProgress.done()</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// 如果访问的路由在白名单中就直接放过</span></span><br><span class="line">    <span class="keyword">if</span> (whiteList.indexOf(to.path) !== <span class="number">-1</span>) &#123;</span><br><span class="line">      next()</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="comment">// 否则重定向到登录页</span></span><br><span class="line">      next(<span class="string">`/login?redirect=<span class="subst">$&#123;to.path&#125;</span>`</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    NProgress.done()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">router.afterEach(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// finish progress bar</span></span><br><span class="line">  NProgress.done()</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><hr>]]></content>
      
      
      
        <tags>
            
            <tag> Vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>有意思的代码注释</title>
      <link href="/2020/09/05/%E6%9C%89%E6%84%8F%E6%80%9D%E7%9A%84%E4%BB%A3%E7%A0%81%E6%B3%A8%E9%87%8A/"/>
      <url>/2020/09/05/%E6%9C%89%E6%84%8F%E6%80%9D%E7%9A%84%E4%BB%A3%E7%A0%81%E6%B3%A8%E9%87%8A/</url>
      
        <content type="html"><![CDATA[<h2 id="马"><a href="#马" class="headerlink" title="马"></a>马</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/******************************************</span></span><br><span class="line"><span class="comment">                               _(\_/) </span></span><br><span class="line"><span class="comment">                             ,((((^`\</span></span><br><span class="line"><span class="comment">                            ((((  (6 \ </span></span><br><span class="line"><span class="comment">                          ,((((( ,    \</span></span><br><span class="line"><span class="comment">      ,,,_              ,(((((  /"._  ,`,</span></span><br><span class="line"><span class="comment">     ((((\\ ,...       ,((((   /    `-.-'</span></span><br><span class="line"><span class="comment">     )))  ;'    `"'"'""((((   (      </span></span><br><span class="line"><span class="comment">    (((  /            (((      \</span></span><br><span class="line"><span class="comment">     )) |                      |</span></span><br><span class="line"><span class="comment">    ((  |        .       '     |</span></span><br><span class="line"><span class="comment">    ))  \     _ '      `t   ,.')</span></span><br><span class="line"><span class="comment">    (   |   y;- -,-""'"-.\   \/  </span></span><br><span class="line"><span class="comment">    )   / ./  ) /         `\  \</span></span><br><span class="line"><span class="comment">       |./   ( (           / /'</span></span><br><span class="line"><span class="comment">       ||     \\          //'|</span></span><br><span class="line"><span class="comment">       ||      \\       _//'||</span></span><br><span class="line"><span class="comment">       ||       ))     |_/  ||</span></span><br><span class="line"><span class="comment">       \_\     |_/          ||</span></span><br><span class="line"><span class="comment">       `'"                  \_\</span></span><br><span class="line"><span class="comment">                            `'" </span></span><br><span class="line"><span class="comment">***********************************************/</span></span><br></pre></td></tr></table></figure><h2 id="狗头"><a href="#狗头" class="headerlink" title="狗头"></a>狗头</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*                                                                         </span></span><br><span class="line"><span class="comment"> *          .,:,,,                                        .::,,,::.          </span></span><br><span class="line"><span class="comment"> *        .::::,,;;,                                  .,;;:,,....:i:         </span></span><br><span class="line"><span class="comment"> *        :i,.::::,;i:.      ....,,:::::::::,....   .;i:,.  ......;i.        </span></span><br><span class="line"><span class="comment"> *        :;..:::;::::i;,,:::;:,,,,,,,,,,..,.,,:::iri:. .,:irsr:,.;i.        </span></span><br><span class="line"><span class="comment"> *        ;;..,::::;;;;ri,,,.                    ..,,:;s1s1ssrr;,.;r,        </span></span><br><span class="line"><span class="comment"> *        :;. ,::;ii;:,     . ...................     .;iirri;;;,,;i,        </span></span><br><span class="line"><span class="comment"> *        ,i. .;ri:.   ... ............................  .,,:;:,,,;i:        </span></span><br><span class="line"><span class="comment"> *        :s,.;r:... ....................................... .::;::s;        </span></span><br><span class="line"><span class="comment"> *        ,1r::. .............,,,.,,:,,........................,;iir;        </span></span><br><span class="line"><span class="comment"> *        ,s;...........     ..::.,;:,,.          ...............,;1s        </span></span><br><span class="line"><span class="comment"> *       :i,..,.              .,:,,::,.          .......... .......;1,       </span></span><br><span class="line"><span class="comment"> *      ir,....:rrssr;:,       ,,.,::.     .r5S9989398G95hr;. ....,.:s,      </span></span><br><span class="line"><span class="comment"> *     ;r,..,s9855513XHAG3i   .,,,,,,,.  ,S931,.,,.;s;s&amp;BHHA8s.,..,..:r:     </span></span><br><span class="line"><span class="comment"> *    :r;..rGGh,  :SAG;;G@BS:.,,,,,,,,,.r83:      hHH1sXMBHHHM3..,,,,.ir.    </span></span><br><span class="line"><span class="comment"> *   ,si,.1GS,   sBMAAX&amp;MBMB5,,,,,,:,,.:&amp;8       3@HXHBMBHBBH#X,.,,,,,,rr    </span></span><br><span class="line"><span class="comment"> *   ;1:,,SH:   .A@&amp;&amp;B#&amp;8H#BS,,,,,,,,,.,5XS,     3@MHABM&amp;59M#As..,,,,:,is,   </span></span><br><span class="line"><span class="comment"> *  .rr,,,;9&amp;1   hBHHBB&amp;8AMGr,,,,,,,,,,,:h&amp;&amp;9s;   r9&amp;BMHBHMB9:  . .,,,,;ri.  </span></span><br><span class="line"><span class="comment"> *  :1:....:5&amp;XSi;r8BMBHHA9r:,......,,,,:ii19GG88899XHHH&amp;GSr.      ...,:rs.  </span></span><br><span class="line"><span class="comment"> *  ;s.     .:sS8G8GG889hi.        ....,,:;:,.:irssrriii:,.        ...,,i1,  </span></span><br><span class="line"><span class="comment"> *  ;1,         ..,....,,isssi;,        .,,.                      ....,.i1,  </span></span><br><span class="line"><span class="comment"> *  ;h:               i9HHBMBBHAX9:         .                     ...,,,rs,  </span></span><br><span class="line"><span class="comment"> *  ,1i..            :A#MBBBBMHB##s                             ....,,,;si.  </span></span><br><span class="line"><span class="comment"> *  .r1,..        ,..;3BMBBBHBB#Bh.     ..                    ....,,,,,i1;   </span></span><br><span class="line"><span class="comment"> *   :h;..       .,..;,1XBMMMMBXs,.,, .. :: ,.               ....,,,,,,ss.   </span></span><br><span class="line"><span class="comment"> *    ih: ..    .;;;, ;;:s58A3i,..    ,. ,.:,,.             ...,,,,,:,s1,    </span></span><br><span class="line"><span class="comment"> *    .s1,....   .,;sh,  ,iSAXs;.    ,.  ,,.i85            ...,,,,,,:i1;     </span></span><br><span class="line"><span class="comment"> *     .rh: ...     rXG9XBBM#M#MHAX3hss13&amp;&amp;HHXr         .....,,,,,,,ih;      </span></span><br><span class="line"><span class="comment"> *      .s5: .....    i598X&amp;&amp;A&amp;AAAAAA&amp;XG851r:       ........,,,,:,,sh;       </span></span><br><span class="line"><span class="comment"> *      . ihr, ...  .         ..                    ........,,,,,;11:.       </span></span><br><span class="line"><span class="comment"> *         ,s1i. ...  ..,,,..,,,.,,.,,.,..       ........,,.,,.;s5i.         </span></span><br><span class="line"><span class="comment"> *          .:s1r,......................       ..............;shs,           </span></span><br><span class="line"><span class="comment"> *          . .:shr:.  ....                 ..............,ishs.             </span></span><br><span class="line"><span class="comment"> *              .,issr;,... ...........................,is1s;.               </span></span><br><span class="line"><span class="comment"> *                 .,is1si;:,....................,:;ir1sr;,                  </span></span><br><span class="line"><span class="comment"> *                    ..:isssssrrii;::::::;;iirsssssr;:..                    </span></span><br><span class="line"><span class="comment"> *                         .,::iiirsssssssssrri;;:.                      </span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure><h2 id="狗头-1"><a href="#狗头-1" class="headerlink" title="狗头"></a>狗头</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/***</span></span><br><span class="line"><span class="comment"> *               ii.                                         ;9ABH,          </span></span><br><span class="line"><span class="comment"> *              SA391,                                    .r9GG35&amp;G          </span></span><br><span class="line"><span class="comment"> *              &amp;#ii13Gh;                               i3X31i;:,rB1         </span></span><br><span class="line"><span class="comment"> *              iMs,:,i5895,                         .5G91:,:;:s1:8A         </span></span><br><span class="line"><span class="comment"> *               33::::,,;5G5,                     ,58Si,,:::,sHX;iH1        </span></span><br><span class="line"><span class="comment"> *                Sr.,:;rs13BBX35hh11511h5Shhh5S3GAXS:.,,::,,1AG3i,GG        </span></span><br><span class="line"><span class="comment"> *                .G51S511sr;;iiiishS8G89Shsrrsh59S;.,,,,,..5A85Si,h8        </span></span><br><span class="line"><span class="comment"> *               :SB9s:,............................,,,.,,,SASh53h,1G.       </span></span><br><span class="line"><span class="comment"> *            .r18S;..,,,,,,,,,,,,,,,,,,,,,,,,,,,,,....,,.1H315199,rX,       </span></span><br><span class="line"><span class="comment"> *          ;S89s,..,,,,,,,,,,,,,,,,,,,,,,,....,,.......,,,;r1ShS8,;Xi       </span></span><br><span class="line"><span class="comment"> *        i55s:.........,,,,,,,,,,,,,,,,.,,,......,.....,,....r9&amp;5.:X1       </span></span><br><span class="line"><span class="comment"> *       59;.....,.     .,,,,,,,,,,,...        .............,..:1;.:&amp;s       </span></span><br><span class="line"><span class="comment"> *      s8,..;53S5S3s.   .,,,,,,,.,..      i15S5h1:.........,,,..,,:99       </span></span><br><span class="line"><span class="comment"> *      93.:39s:rSGB@A;  ..,,,,.....    .SG3hhh9G&amp;BGi..,,,,,,,,,,,,.,83      </span></span><br><span class="line"><span class="comment"> *      G5.G8  9#@@@@@X. .,,,,,,.....  iA9,.S&amp;B###@@Mr...,,,,,,,,..,.;Xh     </span></span><br><span class="line"><span class="comment"> *      Gs.X8 S@@@@@@@B:..,,,,,,,,,,. rA1 ,A@@@@@@@@@H:........,,,,,,.iX:    </span></span><br><span class="line"><span class="comment"> *     ;9. ,8A#@@@@@@#5,.,,,,,,,,,... 9A. 8@@@@@@@@@@M;    ....,,,,,,,,S8    </span></span><br><span class="line"><span class="comment"> *     X3    iS8XAHH8s.,,,,,,,,,,...,..58hH@@@@@@@@@Hs       ...,,,,,,,:Gs   </span></span><br><span class="line"><span class="comment"> *    r8,        ,,,...,,,,,,,,,,.....  ,h8XABMMHX3r.          .,,,,,,,.rX:  </span></span><br><span class="line"><span class="comment"> *   :9, .    .:,..,:;;;::,.,,,,,..          .,,.               ..,,,,,,.59  </span></span><br><span class="line"><span class="comment"> *  .Si      ,:.i8HBMMMMMB&amp;5,....                    .            .,,,,,.sMr</span></span><br><span class="line"><span class="comment"> *  SS       :: h@@@@@@@@@@#; .                     ...  .         ..,,,,iM5</span></span><br><span class="line"><span class="comment"> *  91  .    ;:.,1&amp;@@@@@@MXs.                            .          .,,:,:&amp;S</span></span><br><span class="line"><span class="comment"> *  hS ....  .:;,,,i3MMS1;..,..... .  .     ...                     ..,:,.99</span></span><br><span class="line"><span class="comment"> *  ,8; ..... .,:,..,8Ms:;,,,...                                     .,::.83</span></span><br><span class="line"><span class="comment"> *   s&amp;: ....  .sS553B@@HX3s;,.    .,;13h.                            .:::&amp;1</span></span><br><span class="line"><span class="comment"> *    SXr  .  ...;s3G99XA&amp;X88Shss11155hi.                             ,;:h&amp;,</span></span><br><span class="line"><span class="comment"> *     iH8:  . ..   ,;iiii;,::,,,,,.                                 .;irHA  </span></span><br><span class="line"><span class="comment"> *      ,8X5;   .     .......                                       ,;iihS8Gi</span></span><br><span class="line"><span class="comment"> *         1831,                                                 .,;irrrrrs&amp;@</span></span><br><span class="line"><span class="comment"> *           ;5A8r.                                            .:;iiiiirrss1H</span></span><br><span class="line"><span class="comment"> *             :X@H3s.......                                .,:;iii;iiiiirsrh</span></span><br><span class="line"><span class="comment"> *              r#h:;,...,,.. .,,:;;;;;:::,...              .:;;;;;;iiiirrss1</span></span><br><span class="line"><span class="comment"> *             ,M8 ..,....,.....,,::::::,,...         .     .,;;;iiiiiirss11h</span></span><br><span class="line"><span class="comment"> *             8B;.,,,,,,,.,.....          .           ..   .:;;;;iirrsss111h</span></span><br><span class="line"><span class="comment"> *            i@5,:::,,,,,,,,.... .                   . .:::;;;;;irrrss111111</span></span><br><span class="line"><span class="comment"> *            9Bi,:,,,,......                        ..r91;;;;;iirrsss1ss1111</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure><h2 id="笑脸"><a href="#笑脸" class="headerlink" title="笑脸"></a>笑脸</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/***                                                                    </span></span><br><span class="line"><span class="comment"> *            .,,       .,:;;iiiiiiiii;;:,,.     .,,                   </span></span><br><span class="line"><span class="comment"> *          rGB##HS,.;iirrrrriiiiiiiiiirrrrri;,s&amp;##MAS,                </span></span><br><span class="line"><span class="comment"> *         r5s;:r3AH5iiiii;;;;;;;;;;;;;;;;iiirXHGSsiih1,               </span></span><br><span class="line"><span class="comment"> *            .;i;;s91;;;;;;::::::::::::;;;;iS5;;;ii:                  </span></span><br><span class="line"><span class="comment"> *          :rsriii;;r::::::::::::::::::::::;;,;;iiirsi,               </span></span><br><span class="line"><span class="comment"> *       .,iri;;::::;;;;;;::,,,,,,,,,,,,,..,,;;;;;;;;iiri,,.           </span></span><br><span class="line"><span class="comment"> *    ,9BM&amp;,            .,:;;:,,,,,,,,,,,hXA8:            ..,,,.       </span></span><br><span class="line"><span class="comment"> *   ,;&amp;@@#r:;;;;;::::,,.   ,r,,,,,,,,,,iA@@@s,,:::;;;::,,.   .;.      </span></span><br><span class="line"><span class="comment"> *    :ih1iii;;;;;::::;;;;;;;:,,,,,,,,,,;i55r;;;;;;;;;iiirrrr,..       </span></span><br><span class="line"><span class="comment"> *   .ir;;iiiiiiiiii;;;;::::::,,,,,,,:::::,,:;;;iiiiiiiiiiiiri         </span></span><br><span class="line"><span class="comment"> *   iriiiiiiiiiiiiiiii;;;::::::::::::::::;;;iiiiiiiiiiiiiiiir;        </span></span><br><span class="line"><span class="comment"> *  ,riii;;;;;;;;;;;;;:::::::::::::::::::::::;;;;;;;;;;;;;;iiir.       </span></span><br><span class="line"><span class="comment"> *  iri;;;::::,,,,,,,,,,:::::::::::::::::::::::::,::,,::::;;iir:       </span></span><br><span class="line"><span class="comment"> * .rii;;::::,,,,,,,,,,,,:::::::::::::::::,,,,,,,,,,,,,::::;;iri       </span></span><br><span class="line"><span class="comment"> * ,rii;;;::,,,,,,,,,,,,,:::::::::::,:::::,,,,,,,,,,,,,:::;;;iir.      </span></span><br><span class="line"><span class="comment"> * ,rii;;i::,,,,,,,,,,,,,:::::::::::::::::,,,,,,,,,,,,,,::i;;iir.      </span></span><br><span class="line"><span class="comment"> * ,rii;;r::,,,,,,,,,,,,,:,:::::,:,:::::::,,,,,,,,,,,,,::;r;;iir.      </span></span><br><span class="line"><span class="comment"> * .rii;;rr,:,,,,,,,,,,,,,,:::::::::::::::,,,,,,,,,,,,,:,si;;iri       </span></span><br><span class="line"><span class="comment"> *  ;rii;:1i,,,,,,,,,,,,,,,,,,:::::::::,,,,,,,,,,,,,,,:,ss:;iir:       </span></span><br><span class="line"><span class="comment"> *  .rii;;;5r,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,sh:;;iri        </span></span><br><span class="line"><span class="comment"> *   ;rii;:;51,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,.:hh:;;iir,        </span></span><br><span class="line"><span class="comment"> *    irii;::hSr,.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,.,sSs:;;iir:         </span></span><br><span class="line"><span class="comment"> *     irii;;:iSSs:.,,,,,,,,,,,,,,,,,,,,,,,,,,,..:135;:;;iir:          </span></span><br><span class="line"><span class="comment"> *      ;rii;;:,r535r:...,,,,,,,,,,,,,,,,,,..,;sS35i,;;iirr:           </span></span><br><span class="line"><span class="comment"> *       :rrii;;:,;1S3Shs;:,............,:is533Ss:,;;;iiri,            </span></span><br><span class="line"><span class="comment"> *        .;rrii;;;:,;rhS393S55hh11hh5S3393Shr:,:;;;iirr:              </span></span><br><span class="line"><span class="comment"> *          .;rriii;;;::,:;is1h555555h1si;:,::;;;iirri:.               </span></span><br><span class="line"><span class="comment"> *            .:irrrii;;;;;:::,,,,,,,,:::;;;;iiirrr;,                  </span></span><br><span class="line"><span class="comment"> *               .:irrrriiiiii;;;;;;;;iiiiiirrrr;,.                    </span></span><br><span class="line"><span class="comment"> *                  .,:;iirrrrrrrrrrrrrrrrri;:.                        </span></span><br><span class="line"><span class="comment"> *                        ..,:::;;;;:::,,.                             </span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure><h2 id="键盘"><a href="#键盘" class="headerlink" title="键盘"></a>键盘</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/***</span></span><br><span class="line"><span class="comment"> * ┌───┐   ┌───┬───┬───┬───┐ ┌───┬───┬───┬───┐ ┌───┬───┬───┬───┐ ┌───┬───┬───┐</span></span><br><span class="line"><span class="comment"> * │Esc│   │ F1│ F2│ F3│ F4│ │ F5│ F6│ F7│ F8│ │ F9│F10│F11│F12│ │P/S│S L│P/B│  ┌┐    ┌┐    ┌┐</span></span><br><span class="line"><span class="comment"> * └───┘   └───┴───┴───┴───┘ └───┴───┴───┴───┘ └───┴───┴───┴───┘ └───┴───┴───┘  └┘    └┘    └┘</span></span><br><span class="line"><span class="comment"> * ┌───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───────┐ ┌───┬───┬───┐ ┌───┬───┬───┬───┐</span></span><br><span class="line"><span class="comment"> * │~ `│! 1│@ 2│# 3│$ 4│% 5│^ 6│&amp; 7│* 8│( 9│) 0│_ -│+ =│ BacSp │ │Ins│Hom│PUp│ │N L│ / │ * │ - │</span></span><br><span class="line"><span class="comment"> * ├───┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─────┤ ├───┼───┼───┤ ├───┼───┼───┼───┤</span></span><br><span class="line"><span class="comment"> * │ Tab │ Q │ W │ E │ R │ T │ Y │ U │ I │ O │ P │&#123; [│&#125; ]│ | \ │ │Del│End│PDn│ │ 7 │ 8 │ 9 │   │</span></span><br><span class="line"><span class="comment"> * ├─────┴┬──┴┬──┴┬──┴┬──┴┬──┴┬──┴┬──┴┬──┴┬──┴┬──┴┬──┴┬──┴─────┤ └───┴───┴───┘ ├───┼───┼───┤ + │</span></span><br><span class="line"><span class="comment"> * │ Caps │ A │ S │ D │ F │ G │ H │ J │ K │ L │: ;│" '│ Enter  │               │ 4 │ 5 │ 6 │   │</span></span><br><span class="line"><span class="comment"> * ├──────┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴────────┤     ┌───┐     ├───┼───┼───┼───┤</span></span><br><span class="line"><span class="comment"> * │ Shift  │ Z │ X │ C │ V │ B │ N │ M │&lt; ,│&gt; .│? /│  Shift   │     │ ↑ │     │ 1 │ 2 │ 3 │   │</span></span><br><span class="line"><span class="comment"> * ├─────┬──┴─┬─┴──┬┴───┴───┴───┴───┴───┴──┬┴───┼───┴┬────┬────┤ ┌───┼───┼───┐ ├───┴───┼───┤ E││</span></span><br><span class="line"><span class="comment"> * │ Ctrl│    │Alt │         Space         │ Alt│    │    │Ctrl│ │ ← │ ↓ │ → │ │   0   │ . │←─┘│</span></span><br><span class="line"><span class="comment"> * └─────┴────┴────┴───────────────────────┴────┴────┴────┴────┘ └───┴───┴───┘ └───────┴───┴───┘</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure><h2 id="佛祖"><a href="#佛祖" class="headerlink" title="佛祖"></a>佛祖</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/***</span></span><br><span class="line"><span class="comment"> *                    _ooOoo_</span></span><br><span class="line"><span class="comment"> *                   o8888888o</span></span><br><span class="line"><span class="comment"> *                   88" . "88</span></span><br><span class="line"><span class="comment"> *                   (| -_- |)</span></span><br><span class="line"><span class="comment"> *                    O\ = /O</span></span><br><span class="line"><span class="comment"> *                ____/`---'\____</span></span><br><span class="line"><span class="comment"> *              .   ' \\| |// `.</span></span><br><span class="line"><span class="comment"> *               / \\||| : |||// \</span></span><br><span class="line"><span class="comment"> *             / _||||| -:- |||||- \</span></span><br><span class="line"><span class="comment"> *               | | \\\ - /// | |</span></span><br><span class="line"><span class="comment"> *             | \_| ''\---/'' | |</span></span><br><span class="line"><span class="comment"> *              \ .-\__ `-` ___/-. /</span></span><br><span class="line"><span class="comment"> *           ___`. .' /--.--\ `. . __</span></span><br><span class="line"><span class="comment"> *        ."" '&lt; `.___\_&lt;|&gt;_/___.' &gt;'"".</span></span><br><span class="line"><span class="comment"> *       | | : `- \`.;`\ _ /`;.`/ - ` : | |</span></span><br><span class="line"><span class="comment"> *         \ \ `-. \_ __\ /__ _/ .-` / /</span></span><br><span class="line"><span class="comment"> * ======`-.____`-.___\_____/___.-`____.-'======</span></span><br><span class="line"><span class="comment"> *                    `=---='</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * .............................................</span></span><br><span class="line"><span class="comment"> *          佛祖保佑             永无BUG</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure><h2 id="fuck-bug"><a href="#fuck-bug" class="headerlink" title="fuck bug"></a>fuck bug</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/***</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *   █████▒█    ██  ▄████▄   ██ ▄█▀       ██████╗ ██╗   ██╗ ██████╗</span></span><br><span class="line"><span class="comment"> * ▓██   ▒ ██  ▓██▒▒██▀ ▀█   ██▄█▒        ██╔══██╗██║   ██║██╔════╝</span></span><br><span class="line"><span class="comment"> * ▒████ ░▓██  ▒██░▒▓█    ▄ ▓███▄░        ██████╔╝██║   ██║██║  ███╗</span></span><br><span class="line"><span class="comment"> * ░▓█▒  ░▓▓█  ░██░▒▓▓▄ ▄██▒▓██ █▄        ██╔══██╗██║   ██║██║   ██║</span></span><br><span class="line"><span class="comment"> * ░▒█░   ▒▒█████▓ ▒ ▓███▀ ░▒██▒ █▄       ██████╔╝╚██████╔╝╚██████╔╝</span></span><br><span class="line"><span class="comment"> *  ▒ ░   ░▒▓▒ ▒ ▒ ░ ░▒ ▒  ░▒ ▒▒ ▓▒       ╚═════╝  ╚═════╝  ╚═════╝</span></span><br><span class="line"><span class="comment"> *  ░     ░░▒░ ░ ░   ░  ▒   ░ ░▒ ▒░</span></span><br><span class="line"><span class="comment"> *  ░ ░    ░░░ ░ ░ ░        ░ ░░ ░</span></span><br><span class="line"><span class="comment"> *           ░     ░ ░      ░  ░</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure><h2 id="女子"><a href="#女子" class="headerlink" title="女子"></a>女子</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/***</span></span><br><span class="line"><span class="comment"> *                    .::::.</span></span><br><span class="line"><span class="comment"> *                  .::::::::.</span></span><br><span class="line"><span class="comment"> *                 :::::::::::</span></span><br><span class="line"><span class="comment"> *             ..:::::::::::'</span></span><br><span class="line"><span class="comment"> *           '::::::::::::'</span></span><br><span class="line"><span class="comment"> *             .::::::::::</span></span><br><span class="line"><span class="comment"> *        '::::::::::::::..</span></span><br><span class="line"><span class="comment"> *             ..::::::::::::.</span></span><br><span class="line"><span class="comment"> *           ``::::::::::::::::</span></span><br><span class="line"><span class="comment"> *            ::::``:::::::::'        .:::.</span></span><br><span class="line"><span class="comment"> *           ::::'   ':::::'       .::::::::.</span></span><br><span class="line"><span class="comment"> *         .::::'      ::::     .:::::::'::::.</span></span><br><span class="line"><span class="comment"> *        .:::'       :::::  .:::::::::' ':::::.</span></span><br><span class="line"><span class="comment"> *       .::'        :::::.:::::::::'      ':::::.</span></span><br><span class="line"><span class="comment"> *      .::'         ::::::::::::::'         ``::::.</span></span><br><span class="line"><span class="comment"> *  ...:::           ::::::::::::'              ``::.</span></span><br><span class="line"><span class="comment"> * ```` ':.          ':::::::::'                  ::::..</span></span><br><span class="line"><span class="comment"> *                    '.:::::'                    ':'````..</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure><h2 id="神兽A"><a href="#神兽A" class="headerlink" title="神兽A"></a>神兽A</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/***</span></span><br><span class="line"><span class="comment"> *      ┌─┐       ┌─┐</span></span><br><span class="line"><span class="comment"> *   ┌──┘ ┴───────┘ ┴──┐</span></span><br><span class="line"><span class="comment"> *   │                 │</span></span><br><span class="line"><span class="comment"> *   │       ───       │</span></span><br><span class="line"><span class="comment"> *   │  ─┬┘       └┬─  │</span></span><br><span class="line"><span class="comment"> *   │                 │</span></span><br><span class="line"><span class="comment"> *   │       ─┴─       │</span></span><br><span class="line"><span class="comment"> *   │                 │</span></span><br><span class="line"><span class="comment"> *   └───┐         ┌───┘</span></span><br><span class="line"><span class="comment"> *       │         │</span></span><br><span class="line"><span class="comment"> *       │         │</span></span><br><span class="line"><span class="comment"> *       │         │</span></span><br><span class="line"><span class="comment"> *       │         └──────────────┐</span></span><br><span class="line"><span class="comment"> *       │                        │</span></span><br><span class="line"><span class="comment"> *       │                        ├─┐</span></span><br><span class="line"><span class="comment"> *       │                        ┌─┘</span></span><br><span class="line"><span class="comment"> *       │                        │</span></span><br><span class="line"><span class="comment"> *       └─┐  ┐  ┌───────┬──┐  ┌──┘</span></span><br><span class="line"><span class="comment"> *         │ ─┤ ─┤       │ ─┤ ─┤</span></span><br><span class="line"><span class="comment"> *         └──┴──┘       └──┴──┘</span></span><br><span class="line"><span class="comment"> *                神兽保佑</span></span><br><span class="line"><span class="comment"> *               代码无BUG!</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure><h2 id="神兽B"><a href="#神兽B" class="headerlink" title="神兽B"></a>神兽B</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/***</span></span><br><span class="line"><span class="comment"> *      ┌─┐       ┌─┐</span></span><br><span class="line"><span class="comment"> *   ┌──┘ ┴───────┘ ┴──┐</span></span><br><span class="line"><span class="comment"> *   │                 │</span></span><br><span class="line"><span class="comment"> *   │       ───       │</span></span><br><span class="line"><span class="comment"> *   │   &gt;        &lt;    │</span></span><br><span class="line"><span class="comment"> *   │                 │</span></span><br><span class="line"><span class="comment"> *   │   ...  ⌒  ...   │</span></span><br><span class="line"><span class="comment"> *   │                 │</span></span><br><span class="line"><span class="comment"> *   └───┐         ┌───┘</span></span><br><span class="line"><span class="comment"> *       │         │</span></span><br><span class="line"><span class="comment"> *       │         │</span></span><br><span class="line"><span class="comment"> *       │         │</span></span><br><span class="line"><span class="comment"> *       │         └──────────────┐</span></span><br><span class="line"><span class="comment"> *       │                        │</span></span><br><span class="line"><span class="comment"> *       │                        ├─┐</span></span><br><span class="line"><span class="comment"> *       │                        ┌─┘</span></span><br><span class="line"><span class="comment"> *       │                        │</span></span><br><span class="line"><span class="comment"> *       └─┐  ┐  ┌───────┬──┐  ┌──┘</span></span><br><span class="line"><span class="comment"> *         │ ─┤ ─┤       │ ─┤ ─┤</span></span><br><span class="line"><span class="comment"> *         └──┴──┘       └──┴──┘</span></span><br><span class="line"><span class="comment"> *                神兽保佑</span></span><br><span class="line"><span class="comment"> *               代码无BUG!</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure><h2 id="神兽C"><a href="#神兽C" class="headerlink" title="神兽C"></a>神兽C</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/***</span></span><br><span class="line"><span class="comment"> *      ┌─┐       ┌─┐ + +</span></span><br><span class="line"><span class="comment"> *   ┌──┘ ┴───────┘ ┴──┐++</span></span><br><span class="line"><span class="comment"> *   │                 │</span></span><br><span class="line"><span class="comment"> *   │       ───       │++ + + +</span></span><br><span class="line"><span class="comment"> *   ███████───███████ │+</span></span><br><span class="line"><span class="comment"> *   │                 │+</span></span><br><span class="line"><span class="comment"> *   │       ─┴─       │</span></span><br><span class="line"><span class="comment"> *   │                 │</span></span><br><span class="line"><span class="comment"> *   └───┐         ┌───┘</span></span><br><span class="line"><span class="comment"> *       │         │</span></span><br><span class="line"><span class="comment"> *       │         │   + +</span></span><br><span class="line"><span class="comment"> *       │         │</span></span><br><span class="line"><span class="comment"> *       │         └──────────────┐</span></span><br><span class="line"><span class="comment"> *       │                        │</span></span><br><span class="line"><span class="comment"> *       │                        ├─┐</span></span><br><span class="line"><span class="comment"> *       │                        ┌─┘</span></span><br><span class="line"><span class="comment"> *       │                        │</span></span><br><span class="line"><span class="comment"> *       └─┐  ┐  ┌───────┬──┐  ┌──┘  + + + +</span></span><br><span class="line"><span class="comment"> *         │ ─┤ ─┤       │ ─┤ ─┤</span></span><br><span class="line"><span class="comment"> *         └──┴──┘       └──┴──┘  + + + +</span></span><br><span class="line"><span class="comment"> *                神兽保佑</span></span><br><span class="line"><span class="comment"> *               代码无BUG!</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure><h2 id="神兽D"><a href="#神兽D" class="headerlink" title="神兽D"></a>神兽D</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/***</span></span><br><span class="line"><span class="comment"> *                  ___====-_  _-====___</span></span><br><span class="line"><span class="comment"> *            _--^^^#####//      \\#####^^^--_</span></span><br><span class="line"><span class="comment"> *         _-^##########// (    ) \\##########^-_</span></span><br><span class="line"><span class="comment"> *        -############//  |\^^/|  \\############-</span></span><br><span class="line"><span class="comment"> *      _/############//   (@::@)   \\############\_</span></span><br><span class="line"><span class="comment"> *     /#############((     \\//     ))#############\</span></span><br><span class="line"><span class="comment"> *    -###############\\    (oo)    //###############-</span></span><br><span class="line"><span class="comment"> *   -#################\\  / VV \  //#################-</span></span><br><span class="line"><span class="comment"> *  -###################\\/      \//###################-</span></span><br><span class="line"><span class="comment"> * _#/|##########/\######(   /\   )######/\##########|\#_</span></span><br><span class="line"><span class="comment"> * |/ |#/\#/\#/\/  \#/\##\  |  |  /##/\#/  \/\#/\#/\#| \|</span></span><br><span class="line"><span class="comment"> * `  |/  V  V  `   V  \#\| |  | |/#/  V   '  V  V  \|  '</span></span><br><span class="line"><span class="comment"> *    `   `  `      `   / | |  | | \   '      '  '   '</span></span><br><span class="line"><span class="comment"> *                     (  | |  | |  )</span></span><br><span class="line"><span class="comment"> *                    __\ | |  | | /__</span></span><br><span class="line"><span class="comment"> *                   (vvv(VVV)(VVV)vvv)                </span></span><br><span class="line"><span class="comment"> *                        神兽保佑</span></span><br><span class="line"><span class="comment"> *                       代码无BUG!</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure><h2 id="神兽E"><a href="#神兽E" class="headerlink" title="神兽E"></a>神兽E</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/***</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *                                                    __----~~~~~~~~~~~------___</span></span><br><span class="line"><span class="comment"> *                                   .  .   ~~//====......          __--~ ~~</span></span><br><span class="line"><span class="comment"> *                   -.            \_|//     |||\\  ~~~~~~::::... /~</span></span><br><span class="line"><span class="comment"> *                ___-==_       _-~o~  \/    |||  \\            _/~~-</span></span><br><span class="line"><span class="comment"> *        __---~~~.==~||\=_    -_--~/_-~|-   |\\   \\        _/~</span></span><br><span class="line"><span class="comment"> *    _-~~     .=~    |  \\-_    '-~7  /-   /  ||    \      /</span></span><br><span class="line"><span class="comment"> *  .~       .~       |   \\ -_    /  /-   /   ||      \   /</span></span><br><span class="line"><span class="comment"> * /  ____  /         |     \\ ~-_/  /|- _/   .||       \ /</span></span><br><span class="line"><span class="comment"> * |~~    ~~|--~~~~--_ \     ~==-/   | \~--===~~        .\</span></span><br><span class="line"><span class="comment"> *          '         ~-|      /|    |-~\~~       __--~~</span></span><br><span class="line"><span class="comment"> *                      |-~~-_/ |    |   ~\_   _-~            /\</span></span><br><span class="line"><span class="comment"> *                           /  \     \__   \/~                \__</span></span><br><span class="line"><span class="comment"> *                       _--~ _/ | .-~~____--~-/                  ~~==.</span></span><br><span class="line"><span class="comment"> *                      ((-&gt;/~   '.|||' -_|    ~~-/ ,              . _||</span></span><br><span class="line"><span class="comment"> *                                 -_     ~\      ~~---l__i__i__i--~~_/</span></span><br><span class="line"><span class="comment"> *                                 _-~-__   ~)  \--______________--~~</span></span><br><span class="line"><span class="comment"> *                               //.-~~~-~_--~- |-------~~~~~~~~</span></span><br><span class="line"><span class="comment"> *                                      //.-~~~--\</span></span><br><span class="line"><span class="comment"> *                               神兽保佑</span></span><br><span class="line"><span class="comment"> *                              代码无BUG!</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure><h2 id="猪猪"><a href="#猪猪" class="headerlink" title="猪猪"></a>猪猪</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">/***                              _</span></span><br><span class="line"><span class="comment"> *  _._ _..._ .-',     _.._(`))</span></span><br><span class="line"><span class="comment"> * '-. `     '  /-._.-'    ',/</span></span><br><span class="line"><span class="comment"> *    )         \            '.</span></span><br><span class="line"><span class="comment"> *   / _    _    |             \</span></span><br><span class="line"><span class="comment"> *  |  a    a    /              |</span></span><br><span class="line"><span class="comment"> *  \   .-.                     ;</span></span><br><span class="line"><span class="comment"> *   '-('' ).-'       ,'       ;</span></span><br><span class="line"><span class="comment"> *      '-;           |      .'</span></span><br><span class="line"><span class="comment"> *         \           \    /</span></span><br><span class="line"><span class="comment"> *         | 7  .__  _.-\   \</span></span><br><span class="line"><span class="comment"> *         | |  |  ``/  /`  /</span></span><br><span class="line"><span class="comment"> *        /,_|  |   /,_/   /</span></span><br><span class="line"><span class="comment"> *           /,_/      '`-'</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure><h2 id="骨架"><a href="#骨架" class="headerlink" title="骨架"></a>骨架</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/***</span></span><br><span class="line"><span class="comment"> **************************************************************</span></span><br><span class="line"><span class="comment"> *                                                            *</span></span><br><span class="line"><span class="comment"> *   .=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-.       *</span></span><br><span class="line"><span class="comment"> *    |                     ______                     |      *</span></span><br><span class="line"><span class="comment"> *    |                  .-"      "-.                  |      *</span></span><br><span class="line"><span class="comment"> *    |                 /            \                 |      *</span></span><br><span class="line"><span class="comment"> *    |     _          |              |          _     |      *</span></span><br><span class="line"><span class="comment"> *    |    ( \         |,  .-.  .-.  ,|         / )    |      *</span></span><br><span class="line"><span class="comment"> *    |     &gt; "=._     | )(__/  \__)( |     _.=" &lt;     |      *</span></span><br><span class="line"><span class="comment"> *    |    (_/"=._"=._ |/     /\     \| _.="_.="\_)    |      *</span></span><br><span class="line"><span class="comment"> *    |           "=._"(_     ^^     _)"_.="           |      *</span></span><br><span class="line"><span class="comment"> *    |               "=\__|IIIIII|__/="               |      *</span></span><br><span class="line"><span class="comment"> *    |              _.="| \IIIIII/ |"=._              |      *</span></span><br><span class="line"><span class="comment"> *    |    _     _.="_.="\          /"=._"=._     _    |      *</span></span><br><span class="line"><span class="comment"> *    |   ( \_.="_.="     `--------`     "=._"=._/ )   |      *</span></span><br><span class="line"><span class="comment"> *    |    &gt; _.="                            "=._ &lt;    |      *</span></span><br><span class="line"><span class="comment"> *    |   (_/                                    \_)   |      *</span></span><br><span class="line"><span class="comment"> *    |                                                |      *</span></span><br><span class="line"><span class="comment"> *    '-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-='      *</span></span><br><span class="line"><span class="comment"> *                                                            *</span></span><br><span class="line"><span class="comment"> *           LASCIATE OGNI SPERANZA, VOI CH'ENTRATE           *</span></span><br><span class="line"><span class="comment"> **************************************************************</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure><h2 id="有意思的表情包"><a href="#有意思的表情包" class="headerlink" title="有意思的表情包"></a>有意思的表情包</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/***</span></span><br><span class="line"><span class="comment"> *                                         ,s555SB@@&amp;                          </span></span><br><span class="line"><span class="comment"> *                                      :9H####@@@@@Xi                        </span></span><br><span class="line"><span class="comment"> *                                     1@@@@@@@@@@@@@@8                       </span></span><br><span class="line"><span class="comment"> *                                   ,8@@@@@@@@@B@@@@@@8                      </span></span><br><span class="line"><span class="comment"> *                                  :B@@@@X3hi8Bs;B@@@@@Ah,                   </span></span><br><span class="line"><span class="comment"> *             ,8i                  r@@@B:     1S ,M@@@@@@#8;                 </span></span><br><span class="line"><span class="comment"> *            1AB35.i:               X@@8 .   SGhr ,A@@@@@@@@S                </span></span><br><span class="line"><span class="comment"> *            1@h31MX8                18Hhh3i .i3r ,A@@@@@@@@@5               </span></span><br><span class="line"><span class="comment"> *            ;@&amp;i,58r5                 rGSS:     :B@@@@@@@@@@A               </span></span><br><span class="line"><span class="comment"> *             1#i  . 9i                 hX.  .: .5@@@@@@@@@@@1               </span></span><br><span class="line"><span class="comment"> *              sG1,  ,G53s.              9#Xi;hS5 3B@@@@@@@B1                </span></span><br><span class="line"><span class="comment"> *               .h8h.,A@@@MXSs,           #@H1:    3ssSSX@1                  </span></span><br><span class="line"><span class="comment"> *               s ,@@@@@@@@@@@@Xhi,       r#@@X1s9M8    .GA981               </span></span><br><span class="line"><span class="comment"> *               ,. rS8H#@@@@@@@@@@#HG51;.  .h31i;9@r    .8@@@@BS;i;          </span></span><br><span class="line"><span class="comment"> *                .19AXXXAB@@@@@@@@@@@@@@#MHXG893hrX#XGGXM@@@@@@@@@@MS        </span></span><br><span class="line"><span class="comment"> *                s@@MM@@@hsX#@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&amp;,      </span></span><br><span class="line"><span class="comment"> *              :GB@#3G@@Brs ,1GM@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@B,     </span></span><br><span class="line"><span class="comment"> *            .hM@@@#@@#MX 51  r;iSGAM@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@8     </span></span><br><span class="line"><span class="comment"> *          :3B@@@@@@@@@@@&amp;9@h :Gs   .;sSXH@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@:    </span></span><br><span class="line"><span class="comment"> *      s&amp;HA#@@@@@@@@@@@@@@M89A;.8S.       ,r3@@@@@@@@@@@@@@@@@@@@@@@@@@@r    </span></span><br><span class="line"><span class="comment"> *   ,13B@@@@@@@@@@@@@@@@@@@5 5B3 ;.         ;@@@@@@@@@@@@@@@@@@@@@@@@@@@i    </span></span><br><span class="line"><span class="comment"> *  5#@@#&amp;@@@@@@@@@@@@@@@@@@9  .39:          ;@@@@@@@@@@@@@@@@@@@@@@@@@@@;    </span></span><br><span class="line"><span class="comment"> *  9@@@X:MM@@@@@@@@@@@@@@@#;    ;31.         H@@@@@@@@@@@@@@@@@@@@@@@@@@:    </span></span><br><span class="line"><span class="comment"> *   SH#@B9.rM@@@@@@@@@@@@@B       :.         3@@@@@@@@@@@@@@@@@@@@@@@@@@5    </span></span><br><span class="line"><span class="comment"> *     ,:.   9@@@@@@@@@@@#HB5                 .M@@@@@@@@@@@@@@@@@@@@@@@@@B    </span></span><br><span class="line"><span class="comment"> *           ,ssirhSM@&amp;1;i19911i,.             s@@@@@@@@@@@@@@@@@@@@@@@@@@S   </span></span><br><span class="line"><span class="comment"> *              ,,,rHAri1h1rh&amp;@#353Sh:          8@@@@@@@@@@@@@@@@@@@@@@@@@#:  </span></span><br><span class="line"><span class="comment"> *            .A3hH@#5S553&amp;@@#h   i:i9S          #@@@@@@@@@@@@@@@@@@@@@@@@@A.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *    又看源码，看你妹妹呀！</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure><h2 id="漫画美少女"><a href="#漫画美少女" class="headerlink" title="漫画美少女"></a>漫画美少女</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/***</span></span><br><span class="line"><span class="comment"> *_______________#########_______________________</span></span><br><span class="line"><span class="comment"> *______________############_____________________</span></span><br><span class="line"><span class="comment"> *______________#############____________________</span></span><br><span class="line"><span class="comment"> *_____________##__###########___________________</span></span><br><span class="line"><span class="comment"> *____________###__######_#####__________________</span></span><br><span class="line"><span class="comment"> *____________###_#######___####_________________</span></span><br><span class="line"><span class="comment"> *___________###__##########_####________________</span></span><br><span class="line"><span class="comment"> *__________####__###########_####_______________</span></span><br><span class="line"><span class="comment"> *________#####___###########__#####_____________</span></span><br><span class="line"><span class="comment"> *_______######___###_########___#####___________</span></span><br><span class="line"><span class="comment"> *_______#####___###___########___######_________</span></span><br><span class="line"><span class="comment"> *______######___###__###########___######_______</span></span><br><span class="line"><span class="comment"> *_____######___####_##############__######______</span></span><br><span class="line"><span class="comment"> *____#######__#####################_#######_____</span></span><br><span class="line"><span class="comment"> *____#######__##############################____</span></span><br><span class="line"><span class="comment"> *___#######__######_#################_#######___</span></span><br><span class="line"><span class="comment"> *___#######__######_######_#########___######___</span></span><br><span class="line"><span class="comment"> *___#######____##__######___######_____######___</span></span><br><span class="line"><span class="comment"> *___#######________######____#####_____#####____</span></span><br><span class="line"><span class="comment"> *____######________#####_____#####_____####_____</span></span><br><span class="line"><span class="comment"> *_____#####________####______#####_____###______</span></span><br><span class="line"><span class="comment"> *______#####______;###________###______#________</span></span><br><span class="line"><span class="comment"> *________##_______####________####______________</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure><h2 id="攻城狮"><a href="#攻城狮" class="headerlink" title="攻城狮"></a>攻城狮</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/***</span></span><br><span class="line"><span class="comment"> *             ,%%%%%%%%,</span></span><br><span class="line"><span class="comment"> *           ,%%/\%%%%/\%%</span></span><br><span class="line"><span class="comment"> *          ,%%%\c "" J/%%%</span></span><br><span class="line"><span class="comment"> * %.       %%%%/ o  o \%%%</span></span><br><span class="line"><span class="comment"> * `%%.     %%%%    _  |%%%</span></span><br><span class="line"><span class="comment"> *  `%%     `%%%%(__Y__)%%'</span></span><br><span class="line"><span class="comment"> *  //       ;%%%%`\-/%%%'</span></span><br><span class="line"><span class="comment"> * ((       /  `%%%%%%%'</span></span><br><span class="line"><span class="comment"> *  \\    .'          |</span></span><br><span class="line"><span class="comment"> *   \\  /       \  | |</span></span><br><span class="line"><span class="comment"> *    \\/         ) | |</span></span><br><span class="line"><span class="comment"> *     \         /_ | |__</span></span><br><span class="line"><span class="comment"> *     (___________))))))) </span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *        _       _</span></span><br><span class="line"><span class="comment"> * __   _(_)_   _(_) __ _ _ __</span></span><br><span class="line"><span class="comment"> * \ \ / / \ \ / / |/ _` |'_ \</span></span><br><span class="line"><span class="comment"> *  \ V /| |\ V /| | (_| | | | |</span></span><br><span class="line"><span class="comment"> *   \_/ |_| \_/ |_|\__,_|_| |_|</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure><h2 id="老鼠"><a href="#老鼠" class="headerlink" title="老鼠"></a>老鼠</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/***</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> *  .--,       .--,</span></span><br><span class="line"><span class="comment"> * ( (  \.---./  ) )</span></span><br><span class="line"><span class="comment"> *  '.__/o   o\__.'</span></span><br><span class="line"><span class="comment"> *     &#123;=  ^  =&#125;</span></span><br><span class="line"><span class="comment"> *      &gt;  -  &lt;</span></span><br><span class="line"><span class="comment"> *     /       \</span></span><br><span class="line"><span class="comment"> *    //       \\</span></span><br><span class="line"><span class="comment"> *   //|   .   |\\</span></span><br><span class="line"><span class="comment"> *   "'\       /'"_.-~^`'-.</span></span><br><span class="line"><span class="comment"> *      \  _  /--'         `</span></span><br><span class="line"><span class="comment"> *    ___)( )(___</span></span><br><span class="line"><span class="comment"> *   (((__) (__)))    高山仰止,景行行止.虽不能至,心向往之。</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure><h2 id="亿个字顶"><a href="#亿个字顶" class="headerlink" title="亿个字顶"></a>亿个字顶</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/***</span></span><br><span class="line"><span class="comment"> * 頂頂頂頂頂頂頂頂頂　頂頂頂頂頂頂頂頂頂</span></span><br><span class="line"><span class="comment"> * 頂頂頂頂頂頂頂　　　　　頂頂　　　　　</span></span><br><span class="line"><span class="comment"> * 　　　頂頂　　　頂頂頂頂頂頂頂頂頂頂頂</span></span><br><span class="line"><span class="comment"> * 　　　頂頂　　　頂頂頂頂頂頂頂頂頂頂頂</span></span><br><span class="line"><span class="comment"> * 　　　頂頂　　　頂頂　　　　　　　頂頂</span></span><br><span class="line"><span class="comment"> * 　　　頂頂　　　頂頂　　頂頂頂　　頂頂</span></span><br><span class="line"><span class="comment"> * 　　　頂頂　　　頂頂　　頂頂頂　　頂頂</span></span><br><span class="line"><span class="comment"> * 　　　頂頂　　　頂頂　　頂頂頂　　頂頂</span></span><br><span class="line"><span class="comment"> * 　　　頂頂　　　頂頂　　頂頂頂　　頂頂</span></span><br><span class="line"><span class="comment"> * 　　　頂頂　　　　　　　頂頂頂　</span></span><br><span class="line"><span class="comment"> * 　　　頂頂　　　　　　頂頂　頂頂　頂頂</span></span><br><span class="line"><span class="comment"> * 　頂頂頂頂　　　頂頂頂頂頂　頂頂頂頂頂</span></span><br><span class="line"><span class="comment"> * 　頂頂頂頂　　　頂頂頂頂　　　頂頂頂頂</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure><h2 id="单身汪"><a href="#单身汪" class="headerlink" title="单身汪"></a>单身汪</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/***</span></span><br><span class="line"><span class="comment"> * ░░░░░░░░░░░░░░░░░░░░░░░░▄░░</span></span><br><span class="line"><span class="comment"> * ░░░░░░░░░▐█░░░░░░░░░░░▄▀▒▌░</span></span><br><span class="line"><span class="comment"> * ░░░░░░░░▐▀▒█░░░░░░░░▄▀▒▒▒▐</span></span><br><span class="line"><span class="comment"> * ░░░░░░░▐▄▀▒▒▀▀▀▀▄▄▄▀▒▒▒▒▒▐</span></span><br><span class="line"><span class="comment"> * ░░░░░▄▄▀▒░▒▒▒▒▒▒▒▒▒█▒▒▄█▒▐</span></span><br><span class="line"><span class="comment"> * ░░░▄▀▒▒▒░░░▒▒▒░░░▒▒▒▀██▀▒▌</span></span><br><span class="line"><span class="comment"> * ░░▐▒▒▒▄▄▒▒▒▒░░░▒▒▒▒▒▒▒▀▄▒▒</span></span><br><span class="line"><span class="comment"> * ░░▌░░▌█▀▒▒▒▒▒▄▀█▄▒▒▒▒▒▒▒█▒▐</span></span><br><span class="line"><span class="comment"> * ░▐░░░▒▒▒▒▒▒▒▒▌██▀▒▒░░░▒▒▒▀▄</span></span><br><span class="line"><span class="comment"> * ░▌░▒▄██▄▒▒▒▒▒▒▒▒▒░░░░░░▒▒▒▒</span></span><br><span class="line"><span class="comment"> * ▀▒▀▐▄█▄█▌▄░▀▒▒░░░░░░░░░░▒▒▒</span></span><br><span class="line"><span class="comment"> * 单身狗就这样默默地看着你，一句话也不说。</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure><h2 id="耶"><a href="#耶" class="headerlink" title="耶"></a>耶</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/***</span></span><br><span class="line"><span class="comment"> *                        d*##$.</span></span><br><span class="line"><span class="comment"> *  zP"""""$e.           $"    $o</span></span><br><span class="line"><span class="comment"> * 4$       '$          $"      $</span></span><br><span class="line"><span class="comment"> * '$        '$        J$       $F</span></span><br><span class="line"><span class="comment"> *  'b        $k       $&gt;       $</span></span><br><span class="line"><span class="comment"> *   $k        $r     J$       d$</span></span><br><span class="line"><span class="comment"> *   '$         $     $"       $~</span></span><br><span class="line"><span class="comment"> *    '$        "$   '$E       $</span></span><br><span class="line"><span class="comment"> *     $         $L   $"      $F ...</span></span><br><span class="line"><span class="comment"> *      $.       4B   $      $$$*"""*b</span></span><br><span class="line"><span class="comment"> *      '$        $.  $$     $$      $F</span></span><br><span class="line"><span class="comment"> *       "$       R$  $F     $"      $</span></span><br><span class="line"><span class="comment"> *        $k      ?$ u*     dF      .$</span></span><br><span class="line"><span class="comment"> *        ^$.      $$"     z$      u$$$$e</span></span><br><span class="line"><span class="comment"> *         #$b             $E.dW@e$"    ?$</span></span><br><span class="line"><span class="comment"> *          #$           .o$$# d$$$$c    ?F</span></span><br><span class="line"><span class="comment"> *           $      .d$$#" . zo$&gt;   #$r .uF</span></span><br><span class="line"><span class="comment"> *           $L .u$*"      $&amp;$$$k   .$$d$$F</span></span><br><span class="line"><span class="comment"> *            $$"            ""^"$$$P"$P9$</span></span><br><span class="line"><span class="comment"> *           JP              .o$$$$u:$P $$</span></span><br><span class="line"><span class="comment"> *           $          ..ue$"      ""  $"</span></span><br><span class="line"><span class="comment"> *          d$          $F              $</span></span><br><span class="line"><span class="comment"> *          $$     ....udE             4B</span></span><br><span class="line"><span class="comment"> *           #$    """"` $r            @$</span></span><br><span class="line"><span class="comment"> *            ^$L        '$            $F</span></span><br><span class="line"><span class="comment"> *              RN        4N           $</span></span><br><span class="line"><span class="comment"> *               *$b                  d$</span></span><br><span class="line"><span class="comment"> *                $$k                 $F</span></span><br><span class="line"><span class="comment"> *                 $$b                $F</span></span><br><span class="line"><span class="comment"> *                  $""               $F</span></span><br><span class="line"><span class="comment"> *                  '$                $</span></span><br><span class="line"><span class="comment"> *                   $L               $</span></span><br><span class="line"><span class="comment"> *                   '$               $</span></span><br><span class="line"><span class="comment"> *                    $               $</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure><h2 id="主机服务器"><a href="#主机服务器" class="headerlink" title="主机服务器"></a>主机服务器</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/***</span></span><br><span class="line"><span class="comment"> *              ,----------------,              ,---------,</span></span><br><span class="line"><span class="comment"> *         ,-----------------------,          ,"        ,"|</span></span><br><span class="line"><span class="comment"> *       ,"                      ,"|        ,"        ,"  |</span></span><br><span class="line"><span class="comment"> *      +-----------------------+  |      ,"        ,"    |</span></span><br><span class="line"><span class="comment"> *      |  .-----------------.  |  |     +---------+      |</span></span><br><span class="line"><span class="comment"> *      |  |                 |  |  |     | -==----'|      |</span></span><br><span class="line"><span class="comment"> *      |  |  I LOVE DOS!    |  |  |     |         |      |</span></span><br><span class="line"><span class="comment"> *      |  |  Bad command or |  |  |/----|`---=    |      |</span></span><br><span class="line"><span class="comment"> *      |  |  C:\&gt;_          |  |  |   ,/|==== ooo |      ;</span></span><br><span class="line"><span class="comment"> *      |  |                 |  |  |  // |(((( [33]|    ,"</span></span><br><span class="line"><span class="comment"> *      |  `-----------------'  |," .;'| |((((     |  ,"</span></span><br><span class="line"><span class="comment"> *      +-----------------------+  ;;  | |         |,"</span></span><br><span class="line"><span class="comment"> *         /_)______________(_/  //'   | +---------+</span></span><br><span class="line"><span class="comment"> *    ___________________________/___  `,</span></span><br><span class="line"><span class="comment"> *   /  oooooooooooooooo  .o.  oooo /,   \,"-----------</span></span><br><span class="line"><span class="comment"> *  / ==ooooooooooooooo==.o.  ooo= //   ,`\--&#123;)B     ,"</span></span><br><span class="line"><span class="comment"> * /_==__==========__==_ooo__ooo=_/'   /___________,"</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure><h2 id="书"><a href="#书" class="headerlink" title="书"></a>书</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/***</span></span><br><span class="line"><span class="comment"> *                 .-~~~~~~~~~-._       _.-~~~~~~~~~-.</span></span><br><span class="line"><span class="comment"> *             __.'              ~.   .~              `.__</span></span><br><span class="line"><span class="comment"> *           .'//                  \./                  \\`.</span></span><br><span class="line"><span class="comment"> *         .'//                     |                     \\`.</span></span><br><span class="line"><span class="comment"> *       .'// .-~"""""""~~~~-._     |     _,-~~~~"""""""~-. \\`.</span></span><br><span class="line"><span class="comment"> *     .'//.-"                 `-.  |  .-'                 "-.\\`.</span></span><br><span class="line"><span class="comment"> *   .'//______.============-..   \ | /   ..-============.______\\`.</span></span><br><span class="line"><span class="comment"> * .'______________________________\|/______________________________`.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure><h2 id="一个大佬"><a href="#一个大佬" class="headerlink" title="一个大佬"></a>一个大佬</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/***             无可奉告 一颗赛艇</span></span><br><span class="line"><span class="comment"> *  uJjYJYYLLv7r7vJJ5kqSFFFUUjJ7rrr7LLYLJLJ7</span></span><br><span class="line"><span class="comment"> *  JuJujuYLrvuEM@@@B@@@B@B@B@@@MG5Y7vLjYjJL</span></span><br><span class="line"><span class="comment"> *  JYjYJvr7XM@BB8GOOE8ZEEO8GqM8OBBBMu77LLJ7</span></span><br><span class="line"><span class="comment"> *  LJLY7ru@@@BOZ8O8NXFFuSkSu25X0OFZ8MZJ;vLv</span></span><br><span class="line"><span class="comment"> *  YvL7i5@BM8OGGqk22uvriiriii;r7LuSZXEMXrvr</span></span><br><span class="line"><span class="comment"> *  vv7iU@BMNkF1uY7v7rr;iiii:i:i:ii7JEPNBPir</span></span><br><span class="line"><span class="comment"> *  L7iL@BM8Xjuujvv77rr;ri;i;:iiiii:iLXFOBJ:</span></span><br><span class="line"><span class="comment"> *  7ri@B@MOFuUS2Y7L7777rii;:::::i:iirjPG@O:</span></span><br><span class="line"><span class="comment"> *  7:1B@BBOPjXXSJvrL7rr7iiii:i::::i;iv5MBB,</span></span><br><span class="line"><span class="comment"> *  r:0@BBM8SFPX2Y77rri::iirri:::::iii75O@G.</span></span><br><span class="line"><span class="comment"> *  7:SB@BBGqXPk0122UJL::i::r:::i:i;i:v2@Bk.</span></span><br><span class="line"><span class="comment"> *  ri:MB@BBEqEMGq2JLLL1u7.iX51u77LF27iSB@r,</span></span><br><span class="line"><span class="comment"> *  ri,v@B@MB8@qqNEqN1u:5B8BOFE0S7ii7qMB@F::</span></span><br><span class="line"><span class="comment"> *  ii,J80Eq1MZkqPPX5YkPE@B@iXPE52j7:vBjE7::</span></span><br><span class="line"><span class="comment"> *  ii:7MSqkS0PvLv7rrii0@L.Z1iLr::ir:rO,vi::</span></span><br><span class="line"><span class="comment"> *  ii::EZXPSkquLvii:iF@N:.,BUi7ri,::UY;r:::</span></span><br><span class="line"><span class="comment"> *  i::.2ONXqkPXS5FUUEOPP;..iSPXkjLYLLrr:::,</span></span><br><span class="line"><span class="comment"> *  :::,iMXNP0NPLriiLGZ@BB1P87;JuL7r:7ri:::,</span></span><br><span class="line"><span class="comment"> *  :::,.UGqNX0EZF2uUjUuULr:::,:7uuvv77::::.</span></span><br><span class="line"><span class="comment"> *  ::::..5OXqXNJ50NSY;i:.,,,:i77Yvr;v;,,::.</span></span><br><span class="line"><span class="comment"> *  :::,:.jOEPqPJiqBMMMO8NqP0SYLJriirv:.:,:.</span></span><br><span class="line"><span class="comment"> *  ,:,,,.,Zq0P0X7vPFqF1ujLv7r:irrr7j7.,,::.</span></span><br><span class="line"><span class="comment"> *  ,,,....0qk0080v75ujLLv7ri:i:rvj2J...,,,.</span></span><br><span class="line"><span class="comment"> *  ......8@UXqZEMNvJjr;ii::,:::7uuv...,.,,.</span></span><br><span class="line"><span class="comment"> *  .....B@BOvX88GMGk52vririiirJS1i.......,.</span></span><br><span class="line"><span class="comment"> *  .JEMB@B@BMvL0MOMMMO8PE8GPqSk2L:.........</span></span><br><span class="line"><span class="comment"> *  @B@@@B@M@B@L:7PGBOO8MOMOEP0Xri@B@Mk7,...</span></span><br><span class="line"><span class="comment"> *  B@B@BBMBB@B@0::rJP8MO0uvvu7..,B@B@B@B@Z7</span></span><br><span class="line"><span class="comment"> *  MMBM@BBB@B@B@Br:i,..:Lur:....7@OMMBM@B@@</span></span><br><span class="line"><span class="comment"> *  8OOMMMOMMMMBB@B:....,PZENNi..JBOZ8GMOOOO</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure><hr>]]></content>
      
      
      
        <tags>
            
            <tag> 没用的小知识 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CCF 202006-2 题</title>
      <link href="/2020/09/04/CCF-202006-2-%E9%A2%98/"/>
      <url>/2020/09/04/CCF-202006-2-%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<h2 id="“稀疏向量”-题目要求"><a href="#“稀疏向量”-题目要求" class="headerlink" title="“稀疏向量” 题目要求"></a>“稀疏向量” 题目要求</h2><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/20200602.png" alt="稀疏向量"></p><h2 id="题目解答"><a href="#题目解答" class="headerlink" title="题目解答"></a>题目解答</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">```</span><br><span class="line"></span><br><span class="line">## 思路</span><br><span class="line"></span><br><span class="line">- 数组存于栈， 而栈范围一定，arr[<span class="number">5000000</span>][<span class="number">2</span>]明显超出栈的存储空间，所以要考虑堆存储。</span><br><span class="line"></span><br><span class="line">## Other</span><br><span class="line"></span><br><span class="line">```c</span><br><span class="line"><span class="comment">/***</span></span><br><span class="line"><span class="comment">// 回炉重造</span></span><br><span class="line"><span class="comment">// 等我复习完 类，指针，再回来。。。</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><hr>]]></content>
      
      
      
        <tags>
            
            <tag> CCF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vue项目 下 request.js 实现 axios 封装</title>
      <link href="/2020/09/03/vue-%E4%B8%8B-request-js-%E5%AE%9E%E7%8E%B0-axios-%E5%B0%81%E8%A3%85/"/>
      <url>/2020/09/03/vue-%E4%B8%8B-request-js-%E5%AE%9E%E7%8E%B0-axios-%E5%B0%81%E8%A3%85/</url>
      
        <content type="html"><![CDATA[<h2 id="在-src-目录下创建一个-utils-文件，在里面创建-request-js-文件"><a href="#在-src-目录下创建一个-utils-文件，在里面创建-request-js-文件" class="headerlink" title="在 src 目录下创建一个 utils 文件，在里面创建 request.js 文件"></a>在 src 目录下创建一个 utils 文件，在里面创建 request.js 文件</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">'axios'</span></span><br><span class="line"><span class="keyword">import</span> &#123; Message &#125; <span class="keyword">from</span> <span class="string">'element-ui'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// create an axios instance</span></span><br><span class="line"><span class="keyword">const</span> service = axios.create(&#123;</span><br><span class="line">  baseURL: process.env.VUE_APP_BASE_API, <span class="comment">// url = base url + request url</span></span><br><span class="line">  timeout: <span class="number">100000</span> <span class="comment">// request timeout</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// request interceptor</span></span><br><span class="line">service.interceptors.request.use(</span><br><span class="line">  config =&gt; &#123;</span><br><span class="line">    <span class="comment">// do something before request is sent</span></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    <span class="keyword">return</span> config</span><br><span class="line">  &#125;,</span><br><span class="line">  error =&gt; &#123;</span><br><span class="line">    <span class="comment">// do something with request error</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Promise</span>.reject(error)</span><br><span class="line">  &#125;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">// response interceptor</span></span><br><span class="line">service.interceptors.response.use(</span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * If you want to get http information such as headers or status</span></span><br><span class="line"><span class="comment">   * Please return  response =&gt; response</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * Determine the request status by custom code</span></span><br><span class="line"><span class="comment">   * Here is just an example</span></span><br><span class="line"><span class="comment">   * You can also judge the status by HTTP Status Code</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  response =&gt; &#123;</span><br><span class="line">    <span class="comment">// do something with response successful</span></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    <span class="keyword">return</span> response;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// do something with request error</span></span><br><span class="line">  error =&gt; &#123;</span><br><span class="line">    <span class="built_in">console</span>.dir(error)</span><br><span class="line">    <span class="comment">// console.log: 打印控制台信息。console.dir: 打印对象下的所有属性</span></span><br><span class="line">    Message(&#123;</span><br><span class="line">      message: error.message,</span><br><span class="line">      type: <span class="string">'error'</span>,</span><br><span class="line">      duration: <span class="number">5</span> * <span class="number">1000</span></span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Promise</span>.reject(error)</span><br><span class="line">  &#125;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">// export service object</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> service</span><br></pre></td></tr></table></figure><hr>]]></content>
      
      
      
        <tags>
            
            <tag> Vue 项目搭建 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>npm script 使用笔记</title>
      <link href="/2020/09/01/npm-script-%E4%BD%BF%E7%94%A8%E7%AC%94%E8%AE%B0/"/>
      <url>/2020/09/01/npm-script-%E4%BD%BF%E7%94%A8%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><blockquote><p>Node 开发离不开 npm, 而脚本功能是 npm 最强大、最常用的功能之一。</p></blockquote><h2 id="笔记"><a href="#笔记" class="headerlink" title="笔记"></a>笔记</h2><h3 id="npm-脚本的简单认识"><a href="#npm-脚本的简单认识" class="headerlink" title="npm 脚本的简单认识"></a>npm 脚本的简单认识</h3><ul><li><p>npm 脚本：npm 允许再 package.json 文件里面，使用 scripts 字段定义脚本命令。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ...</span></span><br><span class="line"><span class="string">"scripts"</span>: &#123;</span><br><span class="line">  <span class="string">"serve"</span>: <span class="string">"vue-cli-service serve"</span>,</span><br><span class="line">  <span class="string">"build"</span>: <span class="string">"vue-cli-service build"</span>,</span><br><span class="line">  <span class="string">"lint"</span>: <span class="string">"vue-cli-service lint"</span>,</span><br><span class="line">  <span class="string">"build:test"</span>: <span class="string">"vue-cli-service build --mode test"</span>,</span><br><span class="line">  <span class="string">"build:dev"</span>: <span class="string">"vue-cli-service build --mode development"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>上述代码是一个 vue 项目下 package.json 文件的一个片段。里面的 scripts 字段是一个对象。它的每一个属性，对应一段脚本。例： npm run dev 实质是 vue-cli-service serve。（vue-cli 3.0 vue-cli-service）</p></li><li><p>npm 脚本原理：npm 脚本的原理非常简单。每当执行 npm run，就会自动新建一个 shell， 在这个 shell 里面执行脚本命令，所以只要是 shell (bash) 可以运行的命令，就可以写在 npm 脚本里面。</p></li><li><p>比较特别的是， npm run 新建的这个 shell, 会将当前目录的 node_modules/.bin 子目录加入 PATH 变量，执行结束后，再将 PATH 变量恢复原样。</p></li><li><p>这意味着，当前目录的 node_modules/.bin 子目录里面的所以脚本，都可以直接用脚本名调用，而不必加上路径。</p></li><li><p>由于 npm 脚本的唯一要求就是可以在 shell 执行，因此它不一定是 Node 脚本，任何可执行的文件都可以写在里面。npm 脚本的退出码，也遵守 shell 脚本规则。如果退出码不是 0，npm 就认为这个脚本执行失败。</p></li></ul><h3 id="通配符"><a href="#通配符" class="headerlink" title="通配符"></a>通配符</h3><p>npm 脚本就是 shell 脚本，所以 npm脚本可以使用 shell 通配符</p><ul><li><code>*</code> ：表示任意文件名</li><li><code>**</code> ：表示任意一层子目录</li></ul><h3 id="传参"><a href="#传参" class="headerlink" title="传参"></a>传参</h3><ul><li>向 npm 脚本传入参数，要是有 – 标明<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"build:stage"</span>: <span class="string">"vue-cli-service build --mode staging"</span>,</span><br></pre></td></tr></table></figure></li></ul><h3 id="执行顺序"><a href="#执行顺序" class="headerlink" title="执行顺序"></a>执行顺序</h3><ul><li>如果是并行执行（即同时的平行执行），可以使用 &amp; 符号。<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm run script1.js &amp; npm run script2.js</span><br></pre></td></tr></table></figure></li><li>如果是继发执行（即只要前一个任务成功，才执行下一个任务），可以使用 &amp;&amp; 符号。<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"test:unit"</span>: <span class="string">"jest --clearCache &amp;&amp; vue-cli-service test:unit"</span></span><br></pre></td></tr></table></figure></li></ul><h2 id="附录"><a href="#附录" class="headerlink" title="附录"></a>附录</h2><ul><li><a href="http://www.ruanyifeng.com/blog/2016/10/npm_scripts.html" target="_blank" rel="noopener">npm scripts 使用指南</a></li><li><a href="https://cli.vuejs.org/zh/guide/cli-service.html#%E4%BD%BF%E7%94%A8%E5%91%BD%E4%BB%A4" target="_blank" rel="noopener">Vue CLI 的用法</a></li><li><a href="https://segmentfault.com/a/1190000020338771" target="_blank" rel="noopener">vue-cli-service 机制</a></li></ul><hr>]]></content>
      
      
      
        <tags>
            
            <tag> NPM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JavaScript 内存机制</title>
      <link href="/2020/08/28/JavaScript-%E5%86%85%E5%AD%98%E6%9C%BA%E5%88%B6/"/>
      <url>/2020/08/28/JavaScript-%E5%86%85%E5%AD%98%E6%9C%BA%E5%88%B6/</url>
      
        <content type="html"><![CDATA[<h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><blockquote><p>像 C 语言这样的底层语言一般都有底层的内存管理接口，比如 malloc() 和 free()。 相反，JavaScript 是在创建变量（对象，字符串等）时自动进行了分配内存，并且在不使用它们时“自动”释放。释放的过程称为垃圾回收。这个“回收”是混乱的根源，并让 JavaScript （和其他高级语言）开发者错误的感觉他们可以不关心内存管理。</p></blockquote><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/%E5%86%85%E5%AD%98%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F.png" alt="内存生命周期"></p><h2 id="附录"><a href="#附录" class="headerlink" title="附录"></a>附录</h2><ul><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Memory_Management" target="_blank" rel="noopener">内存管理</a></li><li><a href="https://zhuanlan.zhihu.com/p/29879682" target="_blank" rel="noopener">全新Chrome Devtool Performance使用指南</a></li><li><a href="http://www.ruanyifeng.com/blog/2017/04/memory-leak.html" target="_blank" rel="noopener">JavaScript 内存泄漏教程</a></li><li><a href="https://juejin.im/post/6844903615300108302" target="_blank" rel="noopener">JavaScript 内存机制（前端同学进阶必备）</a></li><li><a href="https://www.cnblogs.com/mcray/p/7002089.html" target="_blank" rel="noopener">JS进阶系列之内存空间</a></li></ul><hr>]]></content>
      
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JavaScript 函数传参是按值传参</title>
      <link href="/2020/08/27/JavaScript-%E5%87%BD%E6%95%B0%E4%BC%A0%E5%8F%82%E6%98%AF%E6%8C%89%E5%80%BC%E4%BC%A0%E5%8F%82/"/>
      <url>/2020/08/27/JavaScript-%E5%87%BD%E6%95%B0%E4%BC%A0%E5%8F%82%E6%98%AF%E6%8C%89%E5%80%BC%E4%BC%A0%E5%8F%82/</url>
      
        <content type="html"><![CDATA[<h2 id="基本类型按值传参"><a href="#基本类型按值传参" class="headerlink" title="基本类型按值传参"></a>基本类型按值传参</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> param = <span class="number">10</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span> (<span class="params">val</span>) </span>&#123;</span><br><span class="line">  val = <span class="number">20</span>;</span><br><span class="line">  <span class="built_in">console</span>.log(val);</span><br><span class="line">&#125;</span><br><span class="line">test(param); <span class="comment">// 打印 20</span></span><br><span class="line"><span class="built_in">console</span>.log(param); <span class="comment">// 打印 10</span></span><br></pre></td></tr></table></figure><h2 id="引用类型按值传参"><a href="#引用类型按值传参" class="headerlink" title="引用类型按值传参"></a>引用类型按值传参</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> param = &#123;</span><br><span class="line">  name: <span class="string">'张三'</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">testA</span> (<span class="params">val</span>) </span>&#123;</span><br><span class="line">  val = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line">  val.name = <span class="string">'李四'</span>;</span><br><span class="line">  val.age = <span class="number">18</span>;</span><br><span class="line">  <span class="built_in">console</span>.log(val);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">testB</span> (<span class="params">val</span>) </span>&#123;</span><br><span class="line">  val.name = <span class="string">'李四'</span>;</span><br><span class="line">  val.age = <span class="number">18</span>;</span><br><span class="line">  <span class="built_in">console</span>.log(val);</span><br><span class="line">&#125;</span><br><span class="line">testA(param); <span class="comment">// 打印 &#123;name: '李四'，age: 18&#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(param); <span class="comment">// 打印 &#123;name: '张三'&#125;</span></span><br><span class="line">testB(param); <span class="comment">// 打印 &#123;name: '李四'，age: 18&#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(param); <span class="comment">// 打印 &#123;name: '李四'，age: 18&#125;</span></span><br></pre></td></tr></table></figure><p><strong>小结</strong><br>testA 说明函数参数是按值传递；testB出现的原因可以看<a href="https://workstudy.top/2020/08/27/Javascript-%E5%9F%BA%E6%9C%AC%E7%B1%BB%E5%9E%8B%E4%B8%8E%E5%BC%95%E7%94%A8%E7%B1%BB%E5%9E%8B/">JavaScript 基本类型与引用类型</a></p><h2 id="陆续更新…"><a href="#陆续更新…" class="headerlink" title="陆续更新…"></a>陆续更新…</h2>]]></content>
      
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JavaScript 基本类型与引用类型</title>
      <link href="/2020/08/27/Javascript-%E5%9F%BA%E6%9C%AC%E7%B1%BB%E5%9E%8B%E4%B8%8E%E5%BC%95%E7%94%A8%E7%B1%BB%E5%9E%8B/"/>
      <url>/2020/08/27/Javascript-%E5%9F%BA%E6%9C%AC%E7%B1%BB%E5%9E%8B%E4%B8%8E%E5%BC%95%E7%94%A8%E7%B1%BB%E5%9E%8B/</url>
      
        <content type="html"><![CDATA[<h2 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h2><ul><li>基本类型：undefined, boolean, number, string, null</li><li>引用类型: object</li></ul><h2 id="基本类型"><a href="#基本类型" class="headerlink" title="基本类型"></a>基本类型</h2><ul><li><p>基本类型的值无法通过方法进行更改</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**************** 例如 ****************/</span></span><br><span class="line"><span class="comment">// 情况一，将小写字母转化成大写字母方法</span></span><br><span class="line"><span class="keyword">var</span> words = <span class="string">'abc'</span>;</span><br><span class="line">words.toUpperCase(); <span class="comment">// ABC</span></span><br><span class="line"><span class="built_in">console</span>.log(words); <span class="comment">// abc</span></span><br><span class="line"><span class="comment">// 情况二，给基本类型添加属性和方法</span></span><br><span class="line"><span class="keyword">var</span> person = <span class="string">'efg'</span>;</span><br><span class="line">person.age = <span class="number">22</span>;</span><br><span class="line">person.other = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(person.age) <span class="comment">// undefined</span></span><br><span class="line"><span class="built_in">console</span>.log(person.other) <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure></li><li><p>基本类型的变量是存放在栈区的（栈区指内存里的栈内存)</p></li></ul><h2 id="引用类型"><a href="#引用类型" class="headerlink" title="引用类型"></a>引用类型</h2><ul><li><p>引用类型的值可以通过方法更改</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**************** 例如 ****************/</span></span><br><span class="line"><span class="keyword">var</span> person = &#123;&#125;;</span><br><span class="line">person.name = <span class="string">'XiaoMing'</span>;</span><br><span class="line">person.age = <span class="number">22</span>;</span><br><span class="line">person.other = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  cosole.log(person.name); <span class="comment">// XiaoMing</span></span><br><span class="line">&#125;</span><br><span class="line">person.other(); <span class="comment">// XiaoMing</span></span><br><span class="line"><span class="keyword">delete</span> person.name; <span class="comment">// 删除 person 的 name 属性</span></span><br><span class="line">person.other(); <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure></li><li><p>引用类型的比较是引用的比较</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> objA = &#123;&#125;;</span><br><span class="line"><span class="keyword">var</span> objB = &#123;&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(objA == objB); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(objA === objB); <span class="comment">// false</span></span><br><span class="line"><span class="comment">// 因为 objA 与 objB 分别引用的是存放在堆内存中的 2 个不同的对象，故变量 objA 和 objB 的值（引用地址）也是不一样的</span></span><br></pre></td></tr></table></figure></li><li><p>引用类型的值是同时存放在栈内存和堆内存中的对象。</p></li></ul><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/%E5%A0%86%26%E6%A0%88.png" alt="引用类型堆栈关系图"></p><hr>]]></content>
      
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue 项目内文件的使用和配置</title>
      <link href="/2020/08/26/Vue-%E9%A1%B9%E7%9B%AE%E5%86%85%E6%96%87%E4%BB%B6%E7%9A%84%E4%BD%BF%E7%94%A8%E5%92%8C%E9%85%8D%E7%BD%AE/"/>
      <url>/2020/08/26/Vue-%E9%A1%B9%E7%9B%AE%E5%86%85%E6%96%87%E4%BB%B6%E7%9A%84%E4%BD%BF%E7%94%A8%E5%92%8C%E9%85%8D%E7%BD%AE/</url>
      
        <content type="html"><![CDATA[<h2 id="文件结构"><a href="#文件结构" class="headerlink" title="文件结构"></a>文件结构</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">├── build --------------------------------- webpack相关配置文件</span><br><span class="line">│   ├── build.js --------------------------webpack打包配置文件</span><br><span class="line">│   ├── check-versions.js ------------------------------ 检查npm,nodejs版本</span><br><span class="line">│   ├── dev-client.js ---------------------------------- 设置环境</span><br><span class="line">│   ├── dev-server.js ---------------------------------- 创建express服务器，配置中间件，启动可热重载的服务器，用于开发项目</span><br><span class="line">│   ├── utils.js --------------------------------------- 配置资源路径，配置css加载器</span><br><span class="line">│   ├── vue-loader.conf.js ----------------------------- 配置css加载器等</span><br><span class="line">│   ├── webpack.base.conf.js --------------------------- webpack基本配置</span><br><span class="line">│   ├── webpack.dev.conf.js ---------------------------- 用于开发的webpack设置</span><br><span class="line">│   ├── webpack.prod.conf.js --------------------------- 用于打包的webpack设置</span><br><span class="line">├── config ---------------------------------- 配置文件</span><br><span class="line">├── node_modules ---------------------------- 存放依赖的目录</span><br><span class="line">├── src ------------------------------------- 源码</span><br><span class="line">│   ├── assets ------------------------------ 静态文件</span><br><span class="line">│   ├── components -------------------------- 组件 </span><br><span class="line">│   ├── main.js ----------------------------- 主js</span><br><span class="line">│   ├── App.vue ----------------------------- 项目入口组件</span><br><span class="line">│   ├── router ------------------------------ 路由</span><br><span class="line">├── package.json ---------------------------- node配置文件</span><br><span class="line">├── .babelrc--------------------------------- babel配置文件</span><br><span class="line">├── .editorconfig---------------------------- 编辑器配置</span><br><span class="line">├── .gitignore------------------------------- 配置git可忽略的文件</span><br></pre></td></tr></table></figure><h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><ul><li><a href="https://www.cnblogs.com/SkyOceanchen/p/11869275.html" target="_blank" rel="noopener">vue项目内文件的使用和配置</a></li><li><a href="https://www.jianshu.com/p/38749e5bec3c" target="_blank" rel="noopener">vue项目中一些文件的作用</a></li></ul><p>未完待续…</p><hr>]]></content>
      
      
      
        <tags>
            
            <tag> Vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>接口认证方式: Bearer Token</title>
      <link href="/2020/08/24/%E6%8E%A5%E5%8F%A3%E8%AE%A4%E8%AF%81%E6%96%B9%E5%BC%8F-Bearer-Token/"/>
      <url>/2020/08/24/%E6%8E%A5%E5%8F%A3%E8%AE%A4%E8%AF%81%E6%96%B9%E5%BC%8F-Bearer-Token/</url>
      
        <content type="html"><![CDATA[<h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><blockquote><p>Terminology<br>Bearer Token<br>A security token with the property that any party in possession of<br>the token (a “bearer”) can use the token in any way that any other<br>party in possession of it can. Using a bearer token does not<br>require a bearer to prove possession of cryptographic key material<br>(proof-of-possession).</p></blockquote><p>All other terms are as defined in “The OAuth 2.0 Authorization<br>Framework” <a href="https://tools.ietf.org/html/rfc6749" target="_blank" rel="noopener">RFC6749</a></p><h2 id="应用"><a href="#应用" class="headerlink" title="应用"></a>应用</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Authorization: Bearer [BEARER_TOKEN]</span><br></pre></td></tr></table></figure><h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><ul><li><a href="https://www.cnblogs.com/lori/p/11246611.html?utm_source=tuicool&utm_medium=referral" target="_blank" rel="noopener">Bearer Token 之 JWT 的介绍</a></li><li><a href="https://www.jianshu.com/p/8f7009456abc" target="_blank" rel="noopener">接口认证方式: Bearer Token</a></li><li><a href="https://www.ibm.com/support/knowledgecenter/zh/SSCT62/com.ibm.iamservice.doc/references/r_jwt_payload.html" target="_blank" rel="noopener">创建 JWT 不记名令牌</a></li></ul><hr>]]></content>
      
      
      
        <tags>
            
            <tag> Web </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Markdown 实现显示 html 标签原格式</title>
      <link href="/2020/08/19/markdown-%E5%AE%9E%E7%8E%B0%E6%98%BE%E7%A4%BA-html-%E6%A0%87%E7%AD%BE%E5%8E%9F%E6%A0%BC%E5%BC%8F/"/>
      <url>/2020/08/19/markdown-%E5%AE%9E%E7%8E%B0%E6%98%BE%E7%A4%BA-html-%E6%A0%87%E7%AD%BE%E5%8E%9F%E6%A0%BC%E5%BC%8F/</url>
      
        <content type="html"><![CDATA[<h2 id="问题来源"><a href="#问题来源" class="headerlink" title="问题来源"></a>问题来源</h2><p>在 Mardown 里面我们希望展示 html 标签元素， 而不是使用他们的语法。这个时候就需要对 html 标签进行转义。</p><h2 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h2><ul><li><p>通过使用 `` 转义符，进行转义</p><ul><li><span style="color:green">如果这句话变成绿色，就说明 html 没有转义</span></li><li><code>&lt;span style=&quot;color: green&quot;&gt;如果这句话变成绿色，就说明 html 没有转义&lt;/span&gt;</code></li></ul></li><li><p>通过使用转义字符表进行转义（避免直接成 html 标签）</p><ul><li><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/%E8%BD%AC%E4%B9%89%E5%AD%97%E7%AC%A6%E8%A1%A8.png" alt="转义字符表"></li><li><code>&amp;lt;span style=&quot;color: green&quot;&amp;gt; 如果这句话变成绿色，就说明 html 没有转义&amp;lt;/span&amp;gt;</code></li><li>效果： &lt;span style=”color: green”&gt; 如果这句话变成绿色，就说明 html 没有转义&lt;/span&gt;</li></ul></li></ul><p>以上</p><hr>]]></content>
      
      
      
        <tags>
            
            <tag> Markdown </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HTTP 之 Cookie</title>
      <link href="/2020/08/19/HTTP-%E4%B9%8B-Cookies/"/>
      <url>/2020/08/19/HTTP-%E4%B9%8B-Cookies/</url>
      
        <content type="html"><![CDATA[<h2 id="基础概念"><a href="#基础概念" class="headerlink" title="基础概念"></a>基础概念</h2><ul><li>Cookie 是一段不超过 4KB 的小型文本数据，由一个名称（Name）、一个值（Value）和其他几个用于控制 Cookies 有效期、安全性、使用范围的可选属性组成。</li><li>HTTP　cookie （也称为 Web cookie，网络 cookie，浏览器 cookie 或者简称 cookie）是网站发送的一个小的数据片段，当用户浏览时，会通过用户的浏览器保存在用户的电脑上。</li><li>cookie 这个术语是 web 浏览器程序员 Lou Montulli 杜撰出来的。派生自 magic cookie 这个术语，这个术语是 Unix 程序员用来描述程序接受和发送时没有改变的程序包。 magic cookie 又派生自 fortune cookie, 代表一种内嵌消息。</li></ul><h2 id="HTTP-cookies-详解"><a href="#HTTP-cookies-详解" class="headerlink" title="HTTP cookies 详解"></a>HTTP cookies 详解</h2><ul><li><a href="https://developer.mozilla.org/zh-CN/docs/web/http/cookies" target="_blank" rel="noopener">HTTP cookies</a></li><li><a href="https://www.cnblogs.com/fish-li/archive/2011/07/03/2096903.html" target="_blank" rel="noopener">细说 Cookie</a></li><li><a href="https://www.cnblogs.com/waterBlog/p/10791119.html" target="_blank" rel="noopener">HTTP 协议7之 Cookie–转</a></li></ul><h2 id="Cookie-的使用（js-cookie-插件）"><a href="#Cookie-的使用（js-cookie-插件）" class="headerlink" title="Cookie 的使用（js-cookie 插件）"></a>Cookie 的使用（js-cookie 插件）</h2><ul><li><p>安装</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install js-cookie --save</span><br></pre></td></tr></table></figure></li><li><p>引用</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import Cookies from 'js-cookie'</span><br></pre></td></tr></table></figure></li><li><p>使用</p><ul><li>存到 Cookie 中去<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Create a cookie, valid across the entire site:</span></span><br><span class="line">Cookies.set(<span class="string">'name'</span>, <span class="string">'value'</span>);</span><br><span class="line"><span class="comment">// Create a cookie that expires 7 days from now, valid across the entire site:</span></span><br><span class="line">Cookies.set(<span class="string">'name'</span>, <span class="string">'value'</span>, &#123; <span class="attr">expires</span>: <span class="number">7</span> &#125;);</span><br><span class="line"><span class="comment">// Create an expiring cookie, valid to the path of the current page:</span></span><br><span class="line">Cookies.set(<span class="string">'name'</span>, <span class="string">'value'</span>, &#123; <span class="attr">expires</span>: <span class="number">7</span>, <span class="attr">path</span>: <span class="string">''</span> &#125;);</span><br></pre></td></tr></table></figure></li><li>从 Cookie 中取出<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Read cookie</span></span><br><span class="line">Cookies.get(<span class="string">'name'</span>);</span><br><span class="line"><span class="comment">// Read all visible cookies</span></span><br><span class="line">Cookies.get()</span><br></pre></td></tr></table></figure></li><li>删除 Cookie<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// delete cookie</span></span><br><span class="line">Cookie.remove(<span class="string">'name'</span>);</span><br><span class="line"><span class="comment">// delete a cookie valid to the path of the current page</span></span><br><span class="line">Cookie.set(<span class="string">'name'</span>, <span class="string">'value'</span>, &#123;<span class="attr">path</span>: <span class="string">''</span>&#125;);</span><br><span class="line">Cookies.remove(<span class="string">'name'</span>); <span class="comment">//fail!</span></span><br><span class="line">Cookies.remove(<span class="string">'name'</span>, &#123;<span class="attr">path</span>: <span class="string">''</span>&#125;); <span class="comment">// removed!</span></span><br></pre></td></tr></table></figure></li></ul></li></ul><hr>]]></content>
      
      
      
        <tags>
            
            <tag> Web </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>关于跨域的二三事</title>
      <link href="/2020/08/12/%E5%85%B3%E4%BA%8E%E8%B7%A8%E5%9F%9F%E7%9A%84%E4%BA%8C%E4%B8%89%E4%BA%8B/"/>
      <url>/2020/08/12/%E5%85%B3%E4%BA%8E%E8%B7%A8%E5%9F%9F%E7%9A%84%E4%BA%8C%E4%B8%89%E4%BA%8B/</url>
      
        <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>跨域的安全限制都是对浏览器端来说的，服务器端是不存在跨域安全限制的。</p><blockquote><ul><li>同源策略的概念可以追溯到1995年的Netscape Navigator 2。该策略最初设计用于保护对文档对象模型的访问，但后来扩展为保护全局JavaScript对象的敏感部分。</li><li>同源策略有助于保护使用经过验证会话的网站。</li><li>假设一种情况：A网站是一家银行，用户登陆以后，又去浏览其他网站，该网站在后台运行一些恶意JavaScript代码，该代码从银行网站请求数据。由于用户仍然登录到银行网站，因此恶意代码可以做任何用户在银行网站上可以执行的操作。</li></ul></blockquote><h3 id="什么是跨域？"><a href="#什么是跨域？" class="headerlink" title="什么是跨域？"></a>什么是跨域？</h3><h4 id="广义的跨域"><a href="#广义的跨域" class="headerlink" title="广义的跨域"></a>广义的跨域</h4><blockquote><ul><li>资源跳转： A链接、重定向、表单提交</li><li>资源嵌入：<code>&lt;link&gt;、&lt;script&gt;、&lt;img&gt;、&lt;frame&gt;</code> 等 dom 标签，还有样式中 background: url()</li><li>脚本请求：js 发起的 ajax 请求、dom 和 js 对象的跨域操作等</li></ul></blockquote><h4 id="狭义的跨域—同源策略"><a href="#狭义的跨域—同源策略" class="headerlink" title="狭义的跨域—同源策略"></a>狭义的跨域—同源策略</h4><blockquote><p>同源策略/SOP（Same origin policy），由Netscape公司1995年引入浏览器，它是浏览器最核心也最基本的安全功能，如果缺少了同源策略，浏览器很容易受到XSS、CSFR等攻击。所谓同源是指”协议+域名+s端口”三者相同，即便两个不同的域名指向同一个ip地址，也非同源。</p></blockquote><h5 id="同源策略限制以下几种行为："><a href="#同源策略限制以下几种行为：" class="headerlink" title="同源策略限制以下几种行为："></a>同源策略限制以下几种行为：</h5><blockquote><ul><li>Cookie、LocalStorage 和 IndexDB 存储内容无法读取</li><li>DOM 和 JS 对象无法获得</li><li>AJAX 请求发送后，结果被浏览器拦截（注意 请求发出去了，也拿到结果了，只是被浏览器截胡了）</li></ul></blockquote><h5 id="常见的跨域情况"><a href="#常见的跨域情况" class="headerlink" title="常见的跨域情况"></a>常见的跨域情况</h5><blockquote><ul><li>不同域名</li><li>主域相同，子域不同</li><li>域名 跟 域名对应的 ip</li><li>域名相同， 端口不同</li><li>域名相同， 协议不同</li></ul></blockquote><h2 id="跨域的解决方案"><a href="#跨域的解决方案" class="headerlink" title="跨域的解决方案"></a>跨域的解决方案</h2><h3 id="jQuery-jsonp-跨域请求"><a href="#jQuery-jsonp-跨域请求" class="headerlink" title="jQuery jsonp 跨域请求"></a>jQuery jsonp 跨域请求</h3><ul><li>直接发起 ajax 的跨域请求===报错（同源策略不允许直接 ajax 请求新的网页）</li><li><blockquote><p>在页面上直接发起一个跨域的 ajax 请求是不可以的， 但是在页面上引入不同域上的 js 脚本却是可以的，就像是你可以在自己的页面上使用 <img src="">标签来随意显示某个域上的图片一样</p></blockquote></li><li><a href="https://www.cnblogs.com/chiangchou/p/jsonp.html" target="_blank" rel="noopener">jQuery jsonp跨域请求</a></li><li><blockquote><p>jsonp的缺点：只能发送get一种请求。</p></blockquote></li></ul><h3 id="document-domain-iframe-跨域（仅适用于-主域相同，子域不同的场景）"><a href="#document-domain-iframe-跨域（仅适用于-主域相同，子域不同的场景）" class="headerlink" title="document.domain + iframe 跨域（仅适用于 主域相同，子域不同的场景）"></a>document.domain + iframe 跨域（仅适用于 主域相同，子域不同的场景）</h3><ul><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Document/domain" target="_blank" rel="noopener">document.domain 的MDN</a></li></ul><h4 id="document-domain-的用法"><a href="#document-domain-的用法" class="headerlink" title="document.domain 的用法"></a>document.domain 的用法</h4><ul><li><p>document.domain 用来获取当前网页的域名</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alert(<span class="built_in">document</span>.domain)</span><br></pre></td></tr></table></figure></li><li><p>给 document.domain 赋值（PS：只能赋值给 当前域名 || 当前域名的一级域名）</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// a.bcd.com</span></span><br><span class="line"><span class="built_in">document</span>.domain = bcd.com</span><br><span class="line"><span class="built_in">document</span>.domain = a.bcd.com</span><br><span class="line"><span class="comment">// document.domain 赋值成其他值会报错（参数无效）</span></span><br></pre></td></tr></table></figure></li></ul><h4 id="iframe-的用法"><a href="#iframe-的用法" class="headerlink" title="iframe 的用法"></a>iframe 的用法</h4><blockquote><p>在 aaa.com的一个网页（a.html）里面 利用iframe引入了一个bbb.com里的一个网页（b.html）。这时在a.html里面可以看到b.html里的内容，但是却不能利用javascript来操作它。因为这两个页面属于不同的域，在操作之前，js会检测两个页面的域是否相等，如果相等，就允许其操作，如果不相等，就会拒绝操作。</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 通过 iframe 可以嵌入其他 域名下的网页内容展示</span></span><br><span class="line">&lt;iframe src=<span class="string">"a.bcd.com"</span>&gt;&lt;<span class="regexp">/iframe&gt;</span></span><br></pre></td></tr></table></figure><h4 id="document-domain-iframe-下实现跨域"><a href="#document-domain-iframe-下实现跨域" class="headerlink" title="document.domain + iframe 下实现跨域"></a>document.domain + iframe 下实现跨域</h4><blockquote><p>aaa.test.com 中利用 document.domain + iframe 引入 bbb.test.com时， 如果j将这两个域名的基础域名设置为 test.com, 这两个页面就可以相互操作了，进而实现同一基础域名下的“跨域”。</p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 父窗口 http://father.domain.com/aaa.html--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">iframe</span> <span class="attr">id</span>=<span class="string">"iframe"</span> <span class="attr">src</span>=<span class="string">"http://child.domain.com/aaa.html"</span>&gt;</span><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">    <span class="built_in">document</span>.domain = <span class="string">'domain.com'</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> test = <span class="string">'test'</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 子窗口 http://child.domain.com/aaa.html--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="built_in">document</span>.domain = <span class="string">'domian.com'</span>;</span></span><br><span class="line"><span class="actionscript">  <span class="comment">// 测试跨域是否被允许</span></span></span><br><span class="line"><span class="javascript">  alert(<span class="string">'测试'</span>, <span class="built_in">window</span>.parent.test);</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="location-hash-iframe-跨域"><a href="#location-hash-iframe-跨域" class="headerlink" title="location.hash + iframe 跨域"></a>location.hash + iframe 跨域</h3><blockquote><p>实现原理： a 欲与 b 跨域相互通信，通过中间页 c 来实现。 三个页面，不同域之间利用 iframe 的 loacation.hash 传值，相同域之间直接 js 访问来通信<br>具体实现：a/a.html -&gt; b/b.html -&gt; a/c.html （a,b 不同域，通过 iframe; b,c不同域， 通过 location.hash; a,c 同域，跨域 js 直接操作）</p></blockquote><p><a href="https://www.cnblogs.com/qzsonline/archive/2013/03/18/2966247.html" target="_blank" rel="noopener">利用 location.hash 实现跨域 iframe 自适应</a></p><h3 id="window-name-iframe-跨域"><a href="#window-name-iframe-跨域" class="headerlink" title="window.name + iframe 跨域"></a>window.name + iframe 跨域</h3><blockquote><p>window.name 属性的独特之处在于： name值在不同的页面（甚至不同域名）加载后依旧存在，并且可以支持非常长的 name 值(2MB)</p></blockquote><ul><li>父页面通过 iframe 引入 子页面</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>父页面通过 window.name + iframe 跨域<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>父页面<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">iframe</span> <span class="attr">src</span>=<span class="string">"https:// XXXXX.com"</span> <span class="attr">frameborder</span>=<span class="string">"1"</span>&gt;</span><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">var</span> iframeTemp = <span class="built_in">document</span>.querySelector(<span class="string">'iframe'</span>);</span></span><br><span class="line"><span class="actionscript">      iframeTemp.style.display = <span class="string">'none'</span>;</span></span><br><span class="line"><span class="actionscript">      <span class="keyword">var</span> flag = <span class="number">0</span>;</span></span><br><span class="line"><span class="actionscript">      iframeTemp.onload = <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="string">'跨域获取数据'</span>, iframeTemp.contentWindow.name);</span></span><br><span class="line">        iframe.contentWindow.close();</span><br><span class="line">      &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>子页面设置 window.name</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>子页面通过 window.name 向页面传值<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>子页面<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">      <span class="keyword">var</span> tempData = &#123;</span></span><br><span class="line"><span class="actionscript">        text: <span class="string">'如果成功，则表示 iframe + window.name 跨域成功'</span></span></span><br><span class="line">      &#125;;</span><br><span class="line"><span class="javascript">      <span class="built_in">window</span>.name = <span class="built_in">JSON</span>.stringify(temData);</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/HTMLIFrameElement/contentWindow" target="_blank" rel="noopener">contentWindow 属性</a></li></ul><h3 id="postMeaasge-跨域"><a href="#postMeaasge-跨域" class="headerlink" title="postMeaasge 跨域"></a>postMeaasge 跨域</h3><blockquote><ul><li>在HTML5中新增了postMessage方法，postMessage可以实现跨文档消息传输（Cross Document Messaging），Internet Explorer 8, Firefox 3, Opera 9, Chrome 3和 Safari 4都支持postMessage。该方法可以通过绑定window的message事件来监听发送跨文档消息传输内容。</li><li>postMessage是HTML5 XMLHttpRequest Level 2中的API，且是为数不多可以跨域操作的window属性之一，它可用于解决以下方面的问题<br>1) 页面和其打开的新窗口的数据传递<br>2) 多窗口之间的消息传递<br>3) 页面与嵌套的 iframe 消息传递<br>4) 上面三个场景的跨域数据传递</li></ul></blockquote><h4 id="postMessage-用法"><a href="#postMessage-用法" class="headerlink" title="postMessage 用法"></a>postMessage 用法</h4><ul><li>发送消息</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">postMessage(<span class="string">'test'</span>， <span class="string">'http://XXXX.com'</span>);</span><br></pre></td></tr></table></figure><ul><li>接受消息</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.addEventListener(<span class="string">'message'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">event</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(event);</span><br><span class="line">&#125;, <span class="literal">false</span>);</span><br></pre></td></tr></table></figure><ul><li><a href="https://baijiahao.baidu.com/s?id=1665451635524413552&wfr=spider&for=pc" target="_blank" rel="noopener">用 window.postMessage() 方法实现跨域通讯</a></li><li><a href="https://www.jianshu.com/p/4dc85eb000fe?utm_campaign=maleskine&utm_content=note&utm_medium=reader_share&utm_source=weibo" target="_blank" rel="noopener">使用 postMessage 在跨域页面间传数据</a></li></ul><h3 id="CORS-实现跨域"><a href="#CORS-实现跨域" class="headerlink" title="CORS 实现跨域"></a>CORS 实现跨域</h3><ul><li>CORS需要浏览器和服务器同时支持。目前，所有浏览器都支持该功能，IE浏览器不能低于IE10。</li><li>整个CORS通信过程，都是浏览器自动完成，不需要用户参与，实现 CORS 的关键是 服务器。只要服务器实现了 CORS 接口，就可以跨源通信。</li><li><blockquote><p>Access-Control-Allow-Credentials</p></blockquote><ul><li><blockquote><p>该字段可选。它的值是一个布尔值，表示是否允许发送Cookie。默认情况下，Cookie不包括在CORS请求之中。设为true，即表示服务器明确许可，Cookie可以包含在请求中，一起发给服务器。这个值也只能设为true，如果服务器不要浏览器发送Cookie，删除该字段即可。</p></blockquote></li></ul></li><li><a href="http://www.ruanyifeng.com/blog/2016/04/cors.html" target="_blank" rel="noopener">跨域资源共享 CORS 详解</a></li><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Access_control_CORS#Requests_with_credentials" target="_blank" rel="noopener">HTTP 访问控制(CORS)</a></li><li><a href="https://www.cnblogs.com/bq-med/p/8603664.html" target="_blank" rel="noopener">HTTP 协议中的 cookie 详细介绍</a></li><li><a href="https://cloud.tencent.com/developer/section/1189999" target="_blank" rel="noopener">set-Cookies</a></li></ul><h3 id="nginx-代理跨域"><a href="#nginx-代理跨域" class="headerlink" title="nginx 代理跨域"></a>nginx 代理跨域</h3><ul><li><a href="https://www.cnblogs.com/ddlove/p/9945988.html" target="_blank" rel="noopener">前端通过 nginx 反向代理实现跨域</a></li><li><a href="https://cloud.tencent.com/developer/article/1648860" target="_blank" rel="noopener">通过 nginx 实现跨域</a></li></ul><h3 id="WebSocket-协议跨域"><a href="#WebSocket-协议跨域" class="headerlink" title="WebSocket 协议跨域"></a>WebSocket 协议跨域</h3><ul><li><a href="http://www.ruanyifeng.com/blog/2017/05/websocket.html" target="_blank" rel="noopener">阮一峰 WebSocket 教程</a></li><li><a href="https://www.cnblogs.com/LO-ME/p/10829284.html" target="_blank" rel="noopener">WebSocket 实现跨域</a></li></ul><hr>]]></content>
      
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>int 的取值范围</title>
      <link href="/2020/08/12/int-%E7%9A%84%E5%8F%96%E5%80%BC%E8%8C%83%E5%9B%B4/"/>
      <url>/2020/08/12/int-%E7%9A%84%E5%8F%96%E5%80%BC%E8%8C%83%E5%9B%B4/</url>
      
        <content type="html"><![CDATA[<h2 id="c-语言下各类型的范围"><a href="#c-语言下各类型的范围" class="headerlink" title="c 语言下各类型的范围"></a>c 语言下各类型的范围</h2><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/intRand.png" alt="c 语言下各类型的范围"></p><h2 id="某一系统的编辑器下查看-c-语言类型范围的方法"><a href="#某一系统的编辑器下查看-c-语言类型范围的方法" class="headerlink" title="某一系统的编辑器下查看 c 语言类型范围的方法"></a>某一系统的编辑器下查看 c 语言类型范围的方法</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"stdio.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> a;</span><br><span class="line">a = <span class="keyword">sizeof</span>(<span class="keyword">long</span> <span class="keyword">long</span>);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d\n"</span>,a);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h2><ul><li>在处理一些可能面临堆栈溢出的题目时，了解一个类型的最存储空间有利于解决此类问题。</li><li>不同系统，不通编辑器下的 int 类型的范围可能不一样，通过 sizeof 可以查看 该类型在当前编辑器下所占用的字节数。</li><li><blockquote><p>在 Pascal 语言中，sizeof() 是一种内存容量度量函数，功能是返回一个变量或者类型的大小（以字节为单位）；在 C 语言中，sizeof() 是一个判断数据类型或者表达式长度的运算符。在Pascal 语言与C语言中，对 sizeof() 的处理都是在编译阶段进行。</p></blockquote></li></ul><hr>]]></content>
      
      
      
        <tags>
            
            <tag> C </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CCF 202006-1 题</title>
      <link href="/2020/08/11/CCF-202006-1-%E9%A2%98/"/>
      <url>/2020/08/11/CCF-202006-1-%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<h2 id="“线性分类器”-题目要求"><a href="#“线性分类器”-题目要求" class="headerlink" title="“线性分类器” 题目要求"></a>“线性分类器” 题目要求</h2><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/20200601.png" alt="线性分类器"></p><h2 id="题目解答"><a href="#题目解答" class="headerlink" title="题目解答"></a>题目解答</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="meta-keyword">include</span> <span class="meta-string">"stdio.h"</span></span></span><br><span class="line"><span class="meta"># <span class="meta-keyword">define</span> MAXN 1000</span></span><br><span class="line"><span class="meta"># <span class="meta-keyword">define</span> MAXM 20</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> m,n,i,j,temp,flag,arr[MAXN][<span class="number">2</span>],test[MAXM][<span class="number">3</span>],res[MAXM];</span><br><span class="line"><span class="keyword">char</span> arrc[MAXN];</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;n, &amp;m);</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d%d %c"</span>, &amp;arr[i][<span class="number">0</span>], &amp;arr[i][<span class="number">1</span>], &amp;arrc[i]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;m;i++)&#123;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d%d%d"</span>, &amp;test[i][<span class="number">0</span>], &amp;test[i][<span class="number">1</span>], &amp;test[i][<span class="number">2</span>]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;m;i++) &#123;</span><br><span class="line">res[i] = <span class="number">1</span>;</span><br><span class="line">flag = test[i][<span class="number">0</span>] + test[i][<span class="number">1</span>] * arr[<span class="number">0</span>][<span class="number">0</span>] + test[i][<span class="number">2</span>] * arr[<span class="number">0</span>][<span class="number">1</span>] &gt; <span class="number">0</span> ? <span class="number">1</span> : <span class="number">-1</span>;</span><br><span class="line"><span class="keyword">for</span>(j=<span class="number">1</span>;j&lt;n;j++) &#123;</span><br><span class="line"><span class="keyword">if</span>((test[i][<span class="number">0</span>] + test[i][<span class="number">1</span>] * arr[j][<span class="number">0</span>] + test[i][<span class="number">2</span>] * arr[j][<span class="number">1</span>]) * flag &gt; <span class="number">0</span>) &#123;</span><br><span class="line"><span class="keyword">if</span>(arrc[<span class="number">0</span>] != arrc[j]) &#123;</span><br><span class="line">res[i] = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">if</span>(arrc[<span class="number">0</span>] == arrc[j]) &#123;</span><br><span class="line">res[i] = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;m;i++) &#123;</span><br><span class="line"><span class="keyword">if</span>(res[i] &gt; <span class="number">0</span>) &#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"Yes"</span>);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"No"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(i&lt;m<span class="number">-1</span>) &#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><ul><li>由题意知，不存在位于直线上的点，所以，只有在直线上方跟在直线下方的点</li><li>符号相同 x * y &gt; 0, 符号不同 x * y &lt; 0</li><li>注意不要堆栈溢出（important）</li></ul><hr>]]></content>
      
      
      
        <tags>
            
            <tag> CCF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>chrome 调试工具</title>
      <link href="/2020/08/10/chrome-%E8%B0%83%E8%AF%95%E5%B7%A5%E5%85%B7/"/>
      <url>/2020/08/10/chrome-%E8%B0%83%E8%AF%95%E5%B7%A5%E5%85%B7/</url>
      
        <content type="html"><![CDATA[<h2 id="chrome-调试工具使用文档"><a href="#chrome-调试工具使用文档" class="headerlink" title="chrome 调试工具使用文档"></a>chrome 调试工具使用文档</h2><p><strong>转载地址： (<a href="http://www.cnblogs.com/st-leslie/" target="_blank" rel="noopener">http://www.cnblogs.com/st-leslie/</a>)</strong></p><ul><li><a href="https://www.cnblogs.com/st-leslie/p/8196493.html" target="_blank" rel="noopener">chrome调试工具高级不完整使用指南（基础篇）</a></li><li><a href="https://www.cnblogs.com/st-leslie/p/8244559.html" target="_blank" rel="noopener">chrome调试工具高级不完整使用指南（优化篇）</a></li><li><a href="https://www.cnblogs.com/st-leslie/p/8261319.html" target="_blank" rel="noopener">chrome 调试工具高级不完整使用指南 - 1</a></li><li><a href="https://www.cnblogs.com/st-leslie/p/8271347.html" target="_blank" rel="noopener">chrome 调试工具高级不完整使用指南 - 2</a></li></ul><hr>]]></content>
      
      
      
        <tags>
            
            <tag> Chrome </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>图片验证 &amp;&amp; 行为验证</title>
      <link href="/2020/08/10/%E5%9B%BE%E7%89%87%E9%AA%8C%E8%AF%81-%E8%A1%8C%E4%B8%BA%E9%AA%8C%E8%AF%81/"/>
      <url>/2020/08/10/%E5%9B%BE%E7%89%87%E9%AA%8C%E8%AF%81-%E8%A1%8C%E4%B8%BA%E9%AA%8C%E8%AF%81/</url>
      
        <content type="html"><![CDATA[<h2 id="文档"><a href="#文档" class="headerlink" title="文档"></a>文档</h2><ul><li><a href="https://gitee.com/anji-plus/captcha/tree/master/view/vue/src/components/verifition" target="_blank" rel="noopener">Verify 图形验证插件代码库</a></li><li><a href="https://mirror.anji-plus.com/captcha-web/#/" target="_blank" rel="noopener">Verify 图形验证案例</a></li><li><a href="https://mirror.anji-plus.com/captcha-web/#/useOnline/sliderFixed" target="_blank" rel="noopener">Verify 图形验证插件使用说明</a></li></ul><hr>]]></content>
      
      
      
        <tags>
            
            <tag> 行为验证 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>break, return, continue, try...catch... 与 for 以及 forEach</title>
      <link href="/2020/08/10/break-return-continue-try-catch-%E4%B8%8E-for-%E4%BB%A5%E5%8F%8A-forEach/"/>
      <url>/2020/08/10/break-return-continue-try-catch-%E4%B8%8E-for-%E4%BB%A5%E5%8F%8A-forEach/</url>
      
        <content type="html"><![CDATA[<h2 id="for-循环中的-continue-break-return"><a href="#for-循环中的-continue-break-return" class="headerlink" title="for 循环中的 continue, break, return"></a>for 循环中的 continue, break, return</h2><h3 id="for-循环中的-continue"><a href="#for-循环中的-continue" class="headerlink" title="for 循环中的 continue"></a>for 循环中的 continue</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> i = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;<span class="number">1000</span>; i++) &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    <span class="keyword">continue</span>;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="for-循环中的-break"><a href="#for-循环中的-break" class="headerlink" title="for 循环中的 break"></a>for 循环中的 break</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> i = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;<span class="number">1000</span>; i++) &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="for-循环中的-return"><a href="#for-循环中的-return" class="headerlink" title="for 循环中的 return"></a>for 循环中的 return</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> i = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;<span class="number">1000</span>; i++) &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h3><ul><li>break: 终止循环（跳出循环），不再执行循环体下面的代码；</li><li>return: 终止函数（&amp;&amp; 终止循环），不再执行循环体下面的代码 &amp;&amp; 不再执行循环体外下方代码；</li><li>continue：终止当前这一次的循环，进行下一次循环；</li></ul><h2 id="forEach-循环中的-return-try…catch…"><a href="#forEach-循环中的-return-try…catch…" class="headerlink" title="forEach 循环中的 return, try…catch…"></a>forEach 循环中的 return, try…catch…</h2><h3 id="forEach-循环中的-return"><a href="#forEach-循环中的-return" class="headerlink" title="forEach 循环中的 return"></a>forEach 循环中的 return</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* forEach 在 ES6 里面是一个新增的方法（不是跟 for 一样的语法）</span></span><br><span class="line"><span class="comment">* 所以，没有 continue 跟 break 用法</span></span><br><span class="line"><span class="comment">* forEach 方法的功能就是遍历</span></span><br><span class="line"><span class="comment">**/</span></span><br><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line">arr.forEach(<span class="function">(<span class="params">item, index</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  <span class="keyword">return</span>;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>forEach 方法说明</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[].forEach(<span class="function"><span class="keyword">function</span>(<span class="params">value, index</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><ul><li>return 在里面的作用是终止本次循环的函数执行（功能上类似于， for 循环中 continue 的使用）</li></ul><h3 id="forEach-循环中的-try…catch…"><a href="#forEach-循环中的-try…catch…" class="headerlink" title="forEach 循环中的 try…catch…"></a>forEach 循环中的 try…catch…</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line">  arr.forEach(<span class="function">(<span class="params">item,index</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span>(index &gt; <span class="number">1</span>)&#123;</span><br><span class="line">      <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'break'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">console</span>.log(item);</span><br><span class="line">  &#125;)</span><br><span class="line">&#125; <span class="keyword">catch</span>(err) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'跳出forEach'</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="小结-1"><a href="#小结-1" class="headerlink" title="小结"></a>小结</h2><ul><li>return: 中断本次循环直接进入下次循环；</li><li>try…catch…: 跳出整个循环；</li></ul><hr>]]></content>
      
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>前端 BOX</title>
      <link href="/2020/08/10/%E5%89%8D%E7%AB%AF-BOX/"/>
      <url>/2020/08/10/%E5%89%8D%E7%AB%AF-BOX/</url>
      
        <content type="html"><![CDATA[<h2 id="框架"><a href="#框架" class="headerlink" title="框架"></a>框架</h2><ul><li><a href="https://cn.vuejs.org/" target="_blank" rel="noopener">Vue 开发文档</a></li></ul><h2 id="UI-OR-组件"><a href="#UI-OR-组件" class="headerlink" title="UI OR 组件"></a>UI OR 组件</h2><ul><li><a href="https://www.antdv.com/docs/vue/introduce-cn/" target="_blank" rel="noopener">Ant Design Vue 文档</a></li><li><a href="https://element.eleme.cn/#/zh-CN" target="_blank" rel="noopener">element 开发文档</a></li><li><a href="https://gallery.echartsjs.com/explore.html#sort=rank~timeframe=all~author=all" target="_blank" rel="noopener">ECharts 画图表</a></li><li><a href="https://echarts.apache.org/zh/api.html#echarts" target="_blank" rel="noopener">ECharts 文档</a></li></ul><h2 id="工具"><a href="#工具" class="headerlink" title="工具"></a>工具</h2><ul><li><a href="https://zh.snipaste.com/" target="_blank" rel="noopener">Snipaste 截图加贴图</a></li><li><a href="https://www.axure.com.cn/" target="_blank" rel="noopener">axure 官网</a></li><li><a href="https://tinypng.com/" target="_blank" rel="noopener">在线压缩图片小工具</a></li><li><a href="http://www.jq22.com/textDifference" target="_blank" rel="noopener">文本在线对比小工具00</a></li><li><a href="https://www.sojson.com/gongju/textdiff.html" target="_blank" rel="noopener">文本在线对比小工具01</a></li><li><a href="https://www.iconfont.cn/" target="_blank" rel="noopener">阿里巴巴矢量图标库</a></li><li><a href="http://www.wheelsfactory.cn/#/" target="_blank" rel="noopener">轮子工厂</a></li></ul><h2 id="问题解答"><a href="#问题解答" class="headerlink" title="问题解答"></a>问题解答</h2><ul><li><a href="https://stackoverflow.blog/" target="_blank" rel="noopener">the overflow</a></li></ul><h2 id="知识"><a href="#知识" class="headerlink" title="知识"></a>知识</h2><ul><li><a href="https://developer.mozilla.org/zh-CN/" target="_blank" rel="noopener">MDN web docs</a></li><li><a href="https://www.npmjs.com/package/package" target="_blank" rel="noopener">npm package 搜索</a></li></ul><hr>]]></content>
      
      
      
        <tags>
            
            <tag> 前端开发文档 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>学习网站 OR 博客</title>
      <link href="/2020/08/10/%E5%AD%A6%E4%B9%A0%E7%BD%91%E7%AB%99/"/>
      <url>/2020/08/10/%E5%AD%A6%E4%B9%A0%E7%BD%91%E7%AB%99/</url>
      
        <content type="html"><![CDATA[<h2 id="技术博客"><a href="#技术博客" class="headerlink" title="技术博客"></a>技术博客</h2><ul><li><a href="https://eyhn.in/" target="_blank" rel="noopener">EYHN’S BLOG</a></li><li><a href="https://huiraoo.github.io/blog/" target="_blank" rel="noopener">Rao’s Blog</a></li><li><a href="https://molunerfinn.com/" target="_blank" rel="noopener">MARKSZのBlog</a></li></ul><h2 id="官方技术网站"><a href="#官方技术网站" class="headerlink" title="官方技术网站"></a>官方技术网站</h2><ul><li><a href="https://developer.mozilla.org/zh-CN/" target="_blank" rel="noopener">MDN</a></li><li><a href="https://www.npmjs.com/package/package" target="_blank" rel="noopener">npm packages 搜索</a></li><li><a href="https://www.liaoxuefeng.com/wiki/1022910821149312/1023022332902400" target="_blank" rel="noopener">廖雪峰 的官方网站</a></li><li><a href="https://hellosean1025.github.io/yapi/documents/" target="_blank" rel="noopener">mock 官方网站</a></li><li><a href="https://www.jquery123.com/" target="_blank" rel="noopener">jQuery 中文文档</a></li></ul><hr>]]></content>
      
      
      
        <tags>
            
            <tag> Star </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python + 自定义钉钉机器人</title>
      <link href="/2020/08/10/python-%E8%87%AA%E5%AE%9A%E4%B9%89%E9%92%89%E9%92%89%E6%9C%BA%E5%99%A8%E4%BA%BA/"/>
      <url>/2020/08/10/python-%E8%87%AA%E5%AE%9A%E4%B9%89%E9%92%89%E9%92%89%E6%9C%BA%E5%99%A8%E4%BA%BA/</url>
      
        <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>现在很多公司选择使用钉钉作为工作交流工具，而钉钉工作台也推出了很多优化体验的小工具。其中 自定义机器人就是钉钉为 优化体验推出的一个小工具。通过自定义钉钉机器人，我们可以，在群里做定时任务提醒，从而减少大家记忆琐事的时间</p><h2 id="文档"><a href="#文档" class="headerlink" title="文档"></a>文档</h2><ul><li><a href="https://ding-doc.dingtalk.com/doc#/serverapi2/qf2nxq" target="_blank" rel="noopener">钉钉开放平台-自定义机器人</a></li><li><a href="https://blog.csdn.net/BF02jgtRS00XKtCx/article/details/106308705?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.nonecase&depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.nonecase" target="_blank" rel="noopener">用 Python 实现钉钉机器人定时消息推送</a></li><li><a href="https://zhuanlan.zhihu.com/p/92152648" target="_blank" rel="noopener">Python 定时任务最佳实践</a></li></ul><h2 id="Python-代码"><a href="#Python-代码" class="headerlink" title="Python 代码"></a>Python 代码</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string"> !/usr/bin/env python3.8</span></span><br><span class="line"><span class="string"> -*- coding: utf-8 -*-</span></span><br><span class="line"><span class="string"> --------------------------------</span></span><br><span class="line"><span class="string"> Description : 测试钉钉群机器人推送消息</span></span><br><span class="line"><span class="string"> 安全设置是必填项，例如</span></span><br><span class="line"><span class="string">     自定义关键字：打水</span></span><br><span class="line"><span class="string">     钉钉发送通知时，必须包含关键字 “打水”，不然会报 keyword not in content。</span></span><br><span class="line"><span class="string"> --------------------------------</span></span><br><span class="line"><span class="string"> @Time    : 2020/7/13 18:34</span></span><br><span class="line"><span class="string"> @File    : index.py</span></span><br><span class="line"><span class="string"> @Software: PyCharm</span></span><br><span class="line"><span class="string"> --------------------------------</span></span><br><span class="line"><span class="string"> @Author  : Snowy</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="comment">#import schedule</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">ding_push_message</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="comment"># 构建请求头部</span></span><br><span class="line">    header = &#123;</span><br><span class="line">        <span class="string">"Content-Type"</span>: <span class="string">"application/json"</span>,</span><br><span class="line">        <span class="string">"Charset"</span>: <span class="string">"UTF-8"</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 构建请求数据</span></span><br><span class="line">    message = &#123;</span><br><span class="line">        <span class="string">"msgtype"</span>: <span class="string">"text"</span>,</span><br><span class="line">        <span class="string">"text"</span>: &#123;</span><br><span class="line">            <span class="string">"content"</span>: msg</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="string">"at"</span>: &#123;</span><br><span class="line">            <span class="string">"atMobiles"</span>: water_use_person,</span><br><span class="line">            <span class="string">"isAtAll"</span>: <span class="literal">False</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 对请求的数据进行json封装</span></span><br><span class="line">    message_json = json.dumps(message)</span><br><span class="line">    <span class="comment"># 发送请求</span></span><br><span class="line">    info = requests.post(url=web_url, data=message_json, headers=header)</span><br><span class="line">    <span class="comment"># 打印返回的结果</span></span><br><span class="line">    print(info.text)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    <span class="comment"># 请求的URL，WebHook地址</span></span><br><span class="line">    web_url = <span class="string">"*******************************************"</span></span><br><span class="line">    <span class="comment"># 构建请求数据</span></span><br><span class="line">    msg = <span class="string">"【打水提醒】： 吃水不忘打水人~今天打水辛苦啦[鲜花]"</span></span><br><span class="line">    <span class="comment"># 打水人列表</span></span><br><span class="line">    key = <span class="number">0</span></span><br><span class="line">    water_use_person = [需要打水的人的登录钉钉的手机号]</span><br><span class="line">    ding_push_message()</span><br></pre></td></tr></table></figure><hr>]]></content>
      
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>使用 .env 文件配置 Vue 项目全局环境变量 process.env</title>
      <link href="/2020/08/03/%E4%BD%BF%E7%94%A8-env-%E6%96%87%E4%BB%B6%E9%85%8D%E7%BD%AE-Vue-%E9%A1%B9%E7%9B%AE%E5%85%A8%E5%B1%80%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F/"/>
      <url>/2020/08/03/%E4%BD%BF%E7%94%A8-env-%E6%96%87%E4%BB%B6%E9%85%8D%E7%BD%AE-Vue-%E9%A1%B9%E7%9B%AE%E5%85%A8%E5%B1%80%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F/</url>
      
        <content type="html"><![CDATA[<h2 id="env-文件的基本理解"><a href="#env-文件的基本理解" class="headerlink" title=".env 文件的基本理解"></a>.env 文件的基本理解</h2><blockquote><p>文件名为Vue的约定，不可随意更改:</p><ul><li>.env 无论开发环境还是生产环境都会加载的配置文件</li><li>.env.development 开发环境加载的配置文件</li><li>.env.production 生产环境加载的配置文件</li></ul></blockquote><p>文件位置：项目文件的根目录下</p><h2 id="全局环境变量的生成以及使用"><a href="#全局环境变量的生成以及使用" class="headerlink" title="全局环境变量的生成以及使用"></a>全局环境变量的生成以及使用</h2><h3 id="env-文件中配置环境变量"><a href="#env-文件中配置环境变量" class="headerlink" title=".env 文件中配置环境变量"></a>.env 文件中配置环境变量</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 其中，属性的前缀必须是 VUE_APP</span></span><br><span class="line">VUE_APP_&#123;自定义环境变量名&#125; = &#123;值&#125;</span><br></pre></td></tr></table></figure><h3 id="环境变量使用"><a href="#环境变量使用" class="headerlink" title="环境变量使用"></a>环境变量使用</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">process.env.VUE_APP_&#123;自定义环境变量名&#125;</span><br></pre></td></tr></table></figure><h2 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h2><p>Vue 源码会根据 process.env.NODE_ENV 决定是否启用生产环境模式，默认情况为开发环境模式。再 webpack 跟 Browserify 中都有方法来覆盖此变量， 以启用 Vue 的生产环境模式，同时在构建过程中警告语句也会被压缩工具去除。</p><ul><li>如果是开发模式 Vue 会自动读取 .env &amp;&amp; .env.development 两个文件，.env.development 文件内定义的环境变量会覆盖 .env 文件内同名的环境变量。反之，如果是生产环境 .env.production 文件内定义的环境变量会覆盖 .env 文件内同名的环境变量。</li></ul><h2 id="附录"><a href="#附录" class="headerlink" title="附录"></a>附录</h2><ul><li><a href="https://www.jianshu.com/p/19d199f93045" target="_blank" rel="noopener">webpack4环境配置之process.env</a></li><li><a href="https://cli.vuejs.org/zh/guide/mode-and-env.html" target="_blank" rel="noopener">环境变量和模式</a></li><li>未完待续…</li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>base64 相关知识</title>
      <link href="/2020/07/25/base64-%E7%9B%B8%E5%85%B3%E7%9F%A5%E8%AF%86/"/>
      <url>/2020/07/25/base64-%E7%9B%B8%E5%85%B3%E7%9F%A5%E8%AF%86/</url>
      
        <content type="html"><![CDATA[<p>原文： <a href="https://www.cnblogs.com/coco1s/p/4375774.html" target="_blank" rel="noopener">一个大佬的前端攻略之玩转图片 base64 编码</a></p><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>图片处理在前端应用占了很重要的部分, 常见的图片使用 有 formdata, CssSprites and base64. 他们各有优缺。这篇文章主要记录 base64 的相关知识。</p><h2 id="WHAT，什么是-base64-编码"><a href="#WHAT，什么是-base64-编码" class="headerlink" title="WHAT，什么是 base64 编码"></a>WHAT，什么是 base64 编码</h2><ul><li>base64 编码： 将一幅图片数据编码成一串字符串，使用该字符串代替图像地址。</li><li>作用：我们看到网页上的每一个图片都是需要消耗一个 http 请求下载，我们希望一些图片的下载不需要像服务器发出请求，而可以随着 HTML 的下载的同时下载到本地，而 base64 刚好能满足这个需求</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--  bing 首页用到的 base64 编码 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">id</span>=<span class="string">"id_p"</span> <span class="attr">class</span>=<span class="string">"id_avatar sw_spd"</span> <span class="attr">style</span>=<span class="string">"display:none"</span> <span class="attr">aria-hidden</span>=<span class="string">"true"</span> <span class="attr">alt</span>=<span class="string">""</span> <span class="attr">aria-label</span>=<span class="string">"Profile Picture"</span> <span class="attr">onerror</span>=<span class="string">"FallBackToDefaultProfilePic(this)"</span> <span class="attr">data-src</span>=<span class="string">"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAEALAAAAAABAAEAAAIBTAA7"</span> <span class="attr">data-alt</span>=<span class="string">""</span> <span class="attr">src</span>=<span class="string">"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAEALAAAAAABAAEAAAIBTAA7"</span> <span class="attr">data-bm</span>=<span class="string">"17"</span>&gt;</span></span><br></pre></td></tr></table></figure><p>base64 不止在 html 里使用， CSS 也可以。迅雷的下载地址有的也是 base64 编码</p><h2 id="WHY，-为什么要使用-base64-编码"><a href="#WHY，-为什么要使用-base64-编码" class="headerlink" title="WHY， 为什么要使用  base64 编码"></a>WHY， 为什么要使用 base64 编码</h2><ul><li>在上面可以知道使用 base64 编码的图片可以节省一个 http 请求。图片的 base64 算是前端优化的一个方向。</li><li>base64 编码的一个特性：图片被编码后，生成的字符串编码大小一般而言都会比源文件稍大一些。即使 base64 编码的字符串可以被 gzip 压缩，压缩率达到 50% 以上, 我们也可以想象：一个 3KB 的图片编码出来接近 4KB, 压缩后接近2KB，这对于 CSS 的代码冗余会有很大影响。</li></ul><h2 id="WHEN，-什么时候适用于使用-base64-编码"><a href="#WHEN，-什么时候适用于使用-base64-编码" class="headerlink" title="WHEN， 什么时候适用于使用 base64 编码"></a>WHEN， 什么时候适用于使用 base64 编码</h2><ul><li>图片足够小</li><li>图片无法制成雪碧图(CssSprites)</li><li>在网站中复用性很高且基本不会被更新</li></ul><p>栗子：网站背景图：通常会制作一个很小的图片(6px * 6px)，然后平铺满整个背景图</p><h2 id="CssSprites-与-base64-编码"><a href="#CssSprites-与-base64-编码" class="headerlink" title="CssSprites 与 base64 编码"></a>CssSprites 与 base64 编码</h2><ul><li><p>使用 CSSSprites 合并成一张大图：</p><ul><li>页面具有多种风格，需要换肤功能，可使用 CssSprites</li><li>网站已经趋于完美，不会再进行频繁改动</li><li>使用时无需重复图形内容</li><li>没有 base64 编码成本，降低图片更新的维护难度。（PS：Sprites 同时修改 CSS 和图片默写时候可能会造成负担）</li><li>不会增加 CSS 文件体积</li></ul></li><li><p>使用 base64 直接把图片编码的字符串写入 CSS 文件：</p><ul><li>无额外请求</li><li>对于极小或极简单图片</li><li>可像单独图片一样使用，比如背景图片重复使用等</li><li>没有跨域问题，无需考虑缓存，文件头或 cookies 问题</li></ul></li></ul><h2 id="一些误区"><a href="#一些误区" class="headerlink" title="一些误区"></a>一些误区</h2><ol><li><p>使用 base64 不代表性能优化</p><p>过度使用 base64 会导致 CSS 文件体积增大，而 CSS 体积增大意味着 CRP 阻塞。<br></p><blockquote><p>CRP (Critical Rendering Path, 关键渲染路径)：当浏览器从服务器接收到一个 HTML 页面请求时， 到屏幕上渲染出来要经过很多个步骤。浏览器要完成这一系列的运行，或者说渲染出来我们常常称之为“关键渲染路径”</p></blockquote><br>简言之，就是图片不会导致关键渲染路径的阻塞，而转化为 base64 的图片大大增加了 CSS 文件的体积， CSS 文件的体积直接影响渲染，导致用户会长时间注视空白屏幕。HTML 和 CSS 会阻塞渲染， 而图片不会。</li><li><p>页面解析 CSS 生成的 CSSOM 时间增加</p><p>base64 跟 CSS 混在一起，大大增加啦浏览器需要解析 CSS 树的耗时。其实解析 CSS 树的过程时很快的，一般在几十微妙到几毫秒之间。</p><br><blockquote><p>CSS 对象模型(CSSOM): CSSOM 是一个建立在 web 页面上的 CSS 样式映射，他跟 DOM 类似，但是只针对 CSS 而不是 HTML。</p></blockquote><br>![CSSOM 生成过程](https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/CSSOM.png)<br>CSSOM 生成的过程大致是，解析 HTML， 在文档的 head 部分遇到了一个 link 标记，该标记引用一个外部 CSS 样式表，下载改样式表后根据上述过程生成 CSSOM 树。这里我们要知道的是， **CSSOM　阻止任何东西渲染，**（意味着 CSS 没处理好之前所有的东西都不会展示），如果 CSS 文件张混入了 base64, 那么（因为文件体积的大幅增长）解析时间会增长到十倍以上。<br><p><strong>而且，最重要的是，增加的解析时间全部都在关键渲染路径上。</strong> 所以，当我们需要使用 base64 技术时，一定要意识到上述问题，有取舍的进行使用。</p></li></ol><hr>]]></content>
      
      
      
        <tags>
            
            <tag> Image </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue 之 微信二维码</title>
      <link href="/2020/07/25/Vue-%E4%B9%8B-%E5%BE%AE%E4%BF%A1%E4%BA%8C%E7%BB%B4%E7%A0%81/"/>
      <url>/2020/07/25/Vue-%E4%B9%8B-%E5%BE%AE%E4%BF%A1%E4%BA%8C%E7%BB%B4%E7%A0%81/</url>
      
        <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><ul><li>鉴于微信当前用户量，许多网站在登录时会加上微信登录。而微信登录有一个前提就是该用户绑定了微信。</li><li><a href="https://developers.weixin.qq.com/doc/oplatform/Website_App/WeChat_Login/Wechat_Login.html" target="_blank" rel="noopener">网站添加微信二维码官方文档</a></li></ul><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.WxLogin(&#123;</span><br><span class="line">  self_redirect: <span class="literal">false</span>,</span><br><span class="line">  id: <span class="string">'wx_qrcode'</span>,</span><br><span class="line">  appid: <span class="string">'**********'</span>,</span><br><span class="line">  scope: <span class="string">'snsapi_login'</span>,</span><br><span class="line">  redirect_uri: <span class="built_in">encodeURIComponent</span>(*********),</span><br><span class="line">  <span class="comment">// redirect_uri: encodeURIComponent('http://c-dev.jsh.com/open/callback/wechat?redirect_uri=' + uri),</span></span><br><span class="line">  <span class="comment">// encodeURIComponent('http://' + window.location.host),</span></span><br><span class="line">  state: <span class="built_in">Math</span>.ceil(<span class="built_in">Math</span>.random() * <span class="number">1000</span>),</span><br><span class="line">  style: <span class="string">'black'</span>,</span><br><span class="line">  href: <span class="string">'data:text/css;base64,'</span> +</span><br><span class="line">    <span class="string">'****************************************************************************************************'</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="详解"><a href="#详解" class="headerlink" title="详解"></a>详解</h2><p><a href="https://cloud.tencent.com/developer/article/1617350" target="_blank" rel="noopener">微信网页登录逻辑与实现</a></p><blockquote><p>前后端、微信服务器、用户端交互逻辑</p><ul><li>按照上面的配置，我描述一下前端、用户端、微信服务器和后端交互的逻辑：</li></ul><ol><li>前端根据 wxOption 加载了二维码，所有信息都放在了二维码中。同时监听微信服务器的消息。</li><li>用户手机扫码，通知微信服务器确定登陆。</li><li>微信服务器接受到用户的扫码请求，转发给前端。</li><li>前端收到微信服务器传来消息，根据 wxOption 的 redirect_uri 参数，跳转到此 url 地址。<br>注意：<br>这个接口地址是后端的，请求方式是 GET</li></ol><ul><li>前端通过拼接 params 携带参数</li><li>地址会被拼接微信服务器传来的一个临时 token，用于交给后端换取用户公众密钥</li></ul><ol><li>后端接收到/api/socials/weixin/authorizations${querystr}的请求，decode 解码 querystr 中的信息。然后向微信服务端请求用户公众密钥。根绝前后端的约定（demo 中用的是 redirect 字段），重定向到前<br>指定的 redirect 字段，并且拼接用户公众密钥等更多信息。</li><li>前端知悉重定向，跳到重定向的路由（demo 中用的是/account/redirect）</li><li>在对应的路由处理后端传来的用户密钥等数据即可<br>至此，微信认证的四端交互逻辑完成</li></ol></blockquote><hr>]]></content>
      
      
      
        <tags>
            
            <tag> Vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>引用外部 js</title>
      <link href="/2020/07/20/%E5%BC%95%E7%94%A8%E5%A4%96%E9%83%A8-js/"/>
      <url>/2020/07/20/%E5%BC%95%E7%94%A8%E5%A4%96%E9%83%A8-js/</url>
      
        <content type="html"><![CDATA[<h2 id="在-html-标签内引用-script-标签"><a href="#在-html-标签内引用-script-标签" class="headerlink" title="在 html 标签内引用 script 标签"></a>在 html 标签内引用 script 标签</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span> <span class="attr">src</span>=<span class="string">"//g.alicdn.com/sd/ncpc/nc.js?t=2015052012"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- ... --&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span> <span class="attr">src</span>=<span class="string">"//g.alicdn.com/sd/ncpc/nc.js?t=2015052012"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="通过-HTML-DOM-createElement-方法引用"><a href="#通过-HTML-DOM-createElement-方法引用" class="headerlink" title="通过 HTML DOM createElement() 方法引用"></a>通过 HTML DOM createElement() 方法引用</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> nScript = <span class="built_in">document</span>.createElement(<span class="string">'script'</span>)</span></span><br><span class="line"><span class="actionscript">  nScript.type = <span class="string">'text/javascript'</span></span></span><br><span class="line"><span class="actionscript">  nScript.src = <span class="string">'//g.alicdn.com/sd/ncpc/nc.js?t=2015052012'</span></span></span><br><span class="line"><span class="javascript">  <span class="built_in">document</span>.body.ppendChiled(nScript)</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="通过-Vue-的-createElment-引用"><a href="#通过-Vue-的-createElment-引用" class="headerlink" title="通过 Vue 的 createElment 引用"></a>通过 Vue 的 createElment 引用</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Vue.component(<span class="string">'getJs'</span>, &#123;</span><br><span class="line">  render: <span class="function"><span class="keyword">function</span> (<span class="params">createElement</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> createElement(</span><br><span class="line">      <span class="string">'script'</span>,</span><br><span class="line">      &#123;</span><br><span class="line">        attrs: &#123;</span><br><span class="line">          type: <span class="string">'text/javascript'</span>,</span><br><span class="line">          src: <span class="string">'//g.alicdn.com/sd/ncpc/nc.js?t=2015052012'</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><hr>]]></content>
      
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue style 深度作用选择器</title>
      <link href="/2020/07/17/Vue-style-%E6%B7%B1%E5%BA%A6%E4%BD%9C%E7%94%A8%E9%80%89%E6%8B%A9%E5%99%A8/"/>
      <url>/2020/07/17/Vue-style-%E6%B7%B1%E5%BA%A6%E4%BD%9C%E7%94%A8%E9%80%89%E6%8B%A9%E5%99%A8/</url>
      
        <content type="html"><![CDATA[<h2 id="Vue-修改组件样式时遇到的问题-scoped"><a href="#Vue-修改组件样式时遇到的问题-scoped" class="headerlink" title="Vue 修改组件样式时遇到的问题(scoped)"></a>Vue 修改组件样式时遇到的问题(scoped)</h2><ul><li>Vue 中的 scoped 属性</li></ul><blockquote><ol><li>在vue组件中，在style标签中添加scoped属性，这样在这里定义的css只作用于当前组件中的元素，可使组件之间的样式不会相互污染，使样式私有化。比如在父组件内使用子组件，父组件的样式不会渗透到子组件中。</li><li>在加上scoped后，会为DOM节点自动添加一个唯一的属性（data-v-f3f3eg9后面这串数字像是独一无二的hash值），以保证其唯一性。同时在相应的css选择器末尾，也加上了当前组件的data-v-f3f3eg9属性，来使其私有化。</li></ol></blockquote><p>以上解释了为什么我们在有 scoped 属性的样式里面修改组件样式时，页面上的样式并没有发生改变。</p><h2 id="deep-与-gt-gt-gt-与-v-deep"><a href="#deep-与-gt-gt-gt-与-v-deep" class="headerlink" title="/deep/ 与 &gt;&gt;&gt; 与 ::v-deep"></a>/deep/ 与 &gt;&gt;&gt; 与 ::v-deep</h2><ul><li>基本的 css : &gt;&gt;&gt; 使选择器作用得“更深”</li><li>sass， less: /deep/ 功能同 &gt;&gt;&gt;, 只因为 sass 的预处理器无法正确解析 &gt;&gt;&gt;</li><li>scss: ::v-deep 功能同 &gt;&gt;&gt;, 只因为 scss 的预处理器无法正确解析 &gt;&gt;&gt;</li></ul><p><strong>综上所述 /deep/ 与 ::v-deep 是 &gt;&gt;&gt; 在不同预处理器下的别名</strong></p><hr>]]></content>
      
      
      
        <tags>
            
            <tag> CSS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>npm 报错 之 缺少依赖</title>
      <link href="/2020/07/17/npm-%E6%8A%A5%E9%94%99-%E4%B9%8B-%E7%BC%BA%E5%B0%91%E4%BE%9D%E8%B5%96/"/>
      <url>/2020/07/17/npm-%E6%8A%A5%E9%94%99-%E4%B9%8B-%E7%BC%BA%E5%B0%91%E4%BE%9D%E8%B5%96/</url>
      
        <content type="html"><![CDATA[<h2 id="错误原因"><a href="#错误原因" class="headerlink" title="错误原因"></a>错误原因</h2><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">@ ./node_modules/vue-style-loader??ref--<span class="number">8</span>-oneOf-<span class="number">1</span>-<span class="number">0</span><span class="variable">!./node_modules/css-loader??ref--8-oneOf-1-1!</span>./node_modules/vue-loader/lib/loaders/stylePostLoader.js<span class="variable">!./node_modules/postcss-loader/src??ref--8-oneOf-1-2!</span>./node_modules/sass-loader/dist/cjs.js??ref--<span class="number">8</span>-oneOf-<span class="number">1</span>-<span class="number">3</span><span class="variable">!./node_modules/cache-loader/dist/cjs.js??ref--0-0!</span>./node_modules/vue-loader/lib??vue-loader-options!./src/views/personalSetting/index.vue?vue&amp;<span class="built_in">type</span>=style&amp;index=<span class="number">0</span>&amp;id=<span class="number">68</span>a92a6e&amp;rel=stylesheet%<span class="number">2</span>Fscss&amp;lang=scss&amp;scoped=true&amp; <span class="number">4</span>:<span class="number">14</span>-<span class="number">497</span> <span class="number">14</span>:<span class="number">3</span>-<span class="number">18</span>:<span class="number">5</span> <span class="number">15</span>:<span class="number">22</span>-<span class="number">505</span></span><br><span class="line">@ ./src/views/personalSetting/index.vue?vue&amp;<span class="built_in">type</span>=style&amp;index=<span class="number">0</span>&amp;id=<span class="number">68</span>a92a6e&amp;rel=stylesheet%<span class="number">2</span>Fscss&amp;lang=scss&amp;scoped=true&amp;</span><br><span class="line">@ ./src/views/personalSetting/index.vue</span><br><span class="line">@ ./src/router/index.js</span><br><span class="line">@ ./src/main.js</span><br><span class="line">@ multi (webpack)-dev-server/client?http://<span class="number">10</span>.<span class="number">190</span>.<span class="number">177</span>.<span class="number">152</span>:<span class="number">9529</span>/sockjs-node (webpack)/hot/dev-server.js ./src/main.js</span><br></pre></td></tr></table></figure><h2 id="解决办法"><a href="#解决办法" class="headerlink" title="解决办法"></a>解决办法</h2><p>@ ./node_modules/vue-style-loader, 说明缺少了 style 的相关依赖</p><ul><li>安装普通 style 依赖</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install stylus-loader css-loader style-loader --save</span><br></pre></td></tr></table></figure><ul><li>style 用的 scss 样式</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install less less-loader --save</span><br></pre></td></tr></table></figure><ul><li>style 用的 sass 样式</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install sass sass-loader --save</span><br></pre></td></tr></table></figure><p>以上。</p><hr>]]></content>
      
      
      
        <tags>
            
            <tag> NPM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>应用偶然性的启动失败</title>
      <link href="/2020/07/16/%E5%BA%94%E7%94%A8%E5%81%B6%E7%84%B6%E6%80%A7%E7%9A%84%E5%90%AF%E5%8A%A8%E5%A4%B1%E8%B4%A5/"/>
      <url>/2020/07/16/%E5%BA%94%E7%94%A8%E5%81%B6%E7%84%B6%E6%80%A7%E7%9A%84%E5%90%AF%E5%8A%A8%E5%A4%B1%E8%B4%A5/</url>
      
        <content type="html"><![CDATA[<h2 id="应用启动失败的原因"><a href="#应用启动失败的原因" class="headerlink" title="应用启动失败的原因"></a>应用启动失败的原因</h2><p>未，未知…<br>后续持续关注更新…</p><h2 id="解决办法"><a href="#解决办法" class="headerlink" title="解决办法"></a>解决办法</h2><ol><li>查看是否应用损坏</li></ol><ul><li>管理员身份运行应用(查看是权限问题还是应用已损坏)</li></ul><ol start="2"><li>查看应用的环境是否没配</li></ol><ul><li><p>计算机 -&gt; 属性 -&gt; 高级系统设置 -&gt; 环境变量 -&gt; path 编辑变量查看应用路径是否在里面</p><ul><li>解决办法之一<br>将应用路径添加到 path 中去</li><li>解决办法之二<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">path</span>=<span class="variable">%path%</span>;后面跟上你的应用路径</span><br></pre></td></tr></table></figure></li></ul></li></ul><hr>]]></content>
      
      
      
        <tags>
            
            <tag> 没用的小知识 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>pycharm笔记</title>
      <link href="/2020/07/13/pycharm%E7%AC%94%E8%AE%B0/"/>
      <url>/2020/07/13/pycharm%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<h2 id="笔记"><a href="#笔记" class="headerlink" title="笔记"></a>笔记</h2><h3 id="快捷键无法使用"><a href="#快捷键无法使用" class="headerlink" title="快捷键无法使用"></a>快捷键无法使用</h3><ul><li>在 tools 里，去掉 vim Emulator 对钩</li></ul><h3 id="pycharm-运行-py-程序"><a href="#pycharm-运行-py-程序" class="headerlink" title="pycharm 运行 py 程序"></a>pycharm 运行 py 程序</h3><ul><li>打开终端运行 python ./index.py(文件相对位置)</li></ul><hr>]]></content>
      
      
      
        <tags>
            
            <tag> pycharm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>企业架构视角下的产品方案设计</title>
      <link href="/2020/07/09/%E4%BC%81%E4%B8%9A%E6%9E%B6%E6%9E%84%E8%A7%86%E8%A7%92%E4%B8%8B%E7%9A%84%E4%BA%A7%E5%93%81%E6%96%B9%E6%A1%88%E8%AE%BE%E8%AE%A1/"/>
      <url>/2020/07/09/%E4%BC%81%E4%B8%9A%E6%9E%B6%E6%9E%84%E8%A7%86%E8%A7%92%E4%B8%8B%E7%9A%84%E4%BA%A7%E5%93%81%E6%96%B9%E6%A1%88%E8%AE%BE%E8%AE%A1/</url>
      
        <content type="html"><![CDATA[<h2 id="企业架构视角下的产品方案设计课程总结"><a href="#企业架构视角下的产品方案设计课程总结" class="headerlink" title="企业架构视角下的产品方案设计课程总结"></a>企业架构视角下的产品方案设计课程总结</h2><p>未完待续…</p><h2 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h2><h3 id="技能方面"><a href="#技能方面" class="headerlink" title="技能方面"></a>技能方面</h3><ol><li>掌握一门软件语言（c,java,php,go…）</li><li>掌握使用数据库 + SQL 语句</li><li>关注 AI 与技术发展前沿</li><li>最佳实践 + 业界实例</li></ol><h3 id="习惯方面"><a href="#习惯方面" class="headerlink" title="习惯方面"></a>习惯方面</h3><ol><li>持续学习，形成自己的技术栈</li><li>整理输出 prd, 使自己的工作可记录，可回溯</li><li>开发测试与需求更迭的单双周模式</li></ol><h3 id="格局方面"><a href="#格局方面" class="headerlink" title="格局方面"></a>格局方面</h3><ol><li>着眼：着眼于全局</li><li>着手：着手于局部，着手于细节</li></ol><hr>]]></content>
      
      
      
        <tags>
            
            <tag> 产品设计 </tag>
            
            <tag> 架构 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue 之 组件笔记</title>
      <link href="/2020/07/08/Vue-%E4%B9%8B-%E7%BB%84%E4%BB%B6%E7%AC%94%E8%AE%B0/"/>
      <url>/2020/07/08/Vue-%E4%B9%8B-%E7%BB%84%E4%BB%B6%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<h2 id="组件概念"><a href="#组件概念" class="headerlink" title="组件概念"></a>组件概念</h2><p>vue 的核心内容之一就是组件的使用：组件使我们的项目解耦，更加符合vue的设计思想MVVM。</p><blockquote><p>组件系统是 Vue 的另一个重要概念，因为它是一种抽象，允许我们使用小型、独立和通常可复用的组件构建大型应用。仔细想想，几乎任意类型的应用界面都可以抽象为一个组件树</p></blockquote><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/%E7%BB%84%E4%BB%B62001.png" alt="组件与页面"></p><h2 id="父子组件传值"><a href="#父子组件传值" class="headerlink" title="父子组件传值"></a>父子组件传值</h2><h3 id="父组件的值赋给子组件"><a href="#父组件的值赋给子组件" class="headerlink" title="父组件的值赋给子组件"></a>父组件的值赋给子组件</h3><blockquote><p>注意在 JavaScript 中对象和数组是通过引用传入的，所以对于一个数组或对象类型的 prop 来说，在子组件中改变变更这个对象或数组本身将会影响到父组件的状态。</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 子组件中</span></span><br><span class="line">props: &#123;</span><br><span class="line">  value: &#123;</span><br><span class="line">    type: 类型,</span><br><span class="line">    <span class="keyword">default</span>: 默认值</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 父组件中</span></span><br><span class="line">&lt;子组件名字  :value=<span class="string">"fatherValue"</span>  /&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 通过 fatherValue 将值传递给 value 也就是我们子组件，</span></span><br><span class="line"><span class="comment">// 父组件向子组件传值: 引用传值，所以不要直接在子组件中修改</span></span><br></pre></td></tr></table></figure><h2 id="子组件向父组件传值"><a href="#子组件向父组件传值" class="headerlink" title="子组件向父组件传值"></a>子组件向父组件传值</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 父组件中</span></span><br><span class="line">&lt;子组件名字  @changeValue=<span class="string">"changeValue"</span>  /&gt;</span><br><span class="line"></span><br><span class="line">methods: &#123;</span><br><span class="line">  changeValue(val) &#123;</span><br><span class="line">    <span class="keyword">this</span>.fatherValue = val</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 子组件中</span></span><br><span class="line"></span><br><span class="line">methods: &#123;</span><br><span class="line">  <span class="keyword">this</span>.$emit(<span class="string">'changeValue'</span>, 要传递的值)</span><br><span class="line">  <span class="comment">// changeValue 触发的事件名</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="一个栗子"><a href="#一个栗子" class="headerlink" title="一个栗子"></a>一个栗子</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 子组件 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 页面 --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="actionscript">  name: <span class="string">'Childcomponent'</span>, <span class="comment">// 子组件名字</span></span></span><br><span class="line"><span class="actionscript">  props: &#123; <span class="comment">// prop 传值</span></span></span><br><span class="line">    value: &#123;</span><br><span class="line"><span class="javascript">      type: <span class="built_in">Object</span>,</span></span><br><span class="line"><span class="javascript">      <span class="keyword">default</span>: <span class="function"><span class="params">()</span> =&gt;</span> &#123;&#125;</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    change() &#123;</span><br><span class="line"><span class="actionscript">      <span class="keyword">const</span> tempValue = &#123;</span></span><br><span class="line"><span class="actionscript">        change: <span class="string">'change'</span></span></span><br><span class="line">      &#125;</span><br><span class="line"><span class="actionscript">      <span class="keyword">this</span>.$emit(<span class="string">'changeValue'</span>, tempValue) <span class="comment">// 将需要改变的值传递给父组件</span></span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 父组件 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">child-component</span>  <span class="attr">:value</span>=<span class="string">"fatherValue"</span> @<span class="attr">changeValue</span>=<span class="string">"changeValue"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="keyword">import</span> Childcomponent <span class="keyword">from</span> <span class="string">'子组件的相对路径'</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="actionscript">  name: <span class="string">'Father'</span>,</span></span><br><span class="line">  component: &#123;</span><br><span class="line"><span class="actionscript">    <span class="string">'child-comonent'</span>: Childcomponent</span></span><br><span class="line">  &#125;,</span><br><span class="line">  data() &#123;</span><br><span class="line"><span class="actionscript">    <span class="keyword">return</span> &#123;</span></span><br><span class="line">      fatherValue: &#123;&#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  methods: &#123;</span><br><span class="line">    changeValue(val) &#123;</span><br><span class="line"><span class="actionscript">      <span class="keyword">this</span>.fatherValue = val <span class="comment">// 监听子组件值的变化并修改父组件的值</span></span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="思考"><a href="#思考" class="headerlink" title="思考"></a>思考</h2><ul><li>vue 的核心内容之一就是组件的使用，这体现了组件对于 vue 的重要意义，根据日常开发的经验来看，组件之所以如此重要主要体现在以下几个方面：<ul><li>组件复用： 将产品抽象出多个相似的模块，并将其通用部分抽象出全局组件，可以提高开发效率，提高程序的健壮性。</li><li>解耦： 局部组件的作用更多的体现在，避免一个文件过长。避免一个大文件内变量的高度聚合。同时也可使代码层次感鲜明，提高可读性跟可维护性。</li></ul></li></ul><hr>]]></content>
      
      
      
        <tags>
            
            <tag> Vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ECharts 构建图表</title>
      <link href="/2020/06/16/ECharts-%E6%9E%84%E5%BB%BA%E5%9B%BE%E8%A1%A8/"/>
      <url>/2020/06/16/ECharts-%E6%9E%84%E5%BB%BA%E5%9B%BE%E8%A1%A8/</url>
      
        <content type="html"><![CDATA[<h2 id="文档"><a href="#文档" class="headerlink" title="文档"></a>文档</h2><ul><li>Echarts 官网：<a href="https://echarts.apache.org/en/index.html" target="_blank" rel="noopener">https://echarts.apache.org/en/index.html</a></li><li>ECharts 文档：<a href="https://echarts.apache.org/en/api.html" target="_blank" rel="noopener">https://echarts.apache.org/en/api.html</a></li><li>ECharts 栗子：<a href="https://echarts.apache.org/examples/en/index.html" target="_blank" rel="noopener">https://echarts.apache.org/examples/en/index.html</a></li></ul><h2 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"indentNumChart"</span> <span class="attr">v-loading</span>=<span class="string">"loading"</span> <span class="attr">class</span>=<span class="string">"indentEchart"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript"><span class="keyword">const</span> colors = [<span class="string">'#5793f3'</span>, <span class="string">'#d14a61'</span>, <span class="string">'#675bba'</span>]</span></span><br><span class="line"><span class="javascript"><span class="keyword">this</span>.indentNumChart = <span class="keyword">this</span>.echarts.init(<span class="built_in">document</span>.getElementById(<span class="string">'indentNumChart'</span>))</span></span><br><span class="line"><span class="actionscript"><span class="keyword">this</span>.indentNumChartOption = &#123;</span></span><br><span class="line">  color: colors,</span><br><span class="line">  title: &#123;</span><br><span class="line"><span class="actionscript">    left: <span class="string">'center'</span>,</span></span><br><span class="line"><span class="actionscript">    text: <span class="string">'巨商汇平台客户数/订单量'</span></span></span><br><span class="line">  &#125;,</span><br><span class="line">  tooltip: &#123;</span><br><span class="line"><span class="actionscript">    trigger: <span class="string">'axis'</span>,</span></span><br><span class="line"><span class="actionscript">    axisPointer: &#123; type: <span class="string">'cross'</span> &#125;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  grid: &#123;</span><br><span class="line"><span class="actionscript">    right: <span class="string">'20%'</span></span></span><br><span class="line">  &#125;,</span><br><span class="line">  xAxis: [</span><br><span class="line">    &#123;</span><br><span class="line"><span class="actionscript">      type: <span class="string">'category'</span>,</span></span><br><span class="line">      axisTick: &#123;</span><br><span class="line"><span class="actionscript">        alignWithLabel: <span class="literal">true</span></span></span><br><span class="line">      &#125;,</span><br><span class="line"><span class="actionscript">      data: <span class="keyword">this</span>.time</span></span><br><span class="line">    &#125;</span><br><span class="line">  ],</span><br><span class="line">  yAxis: [</span><br><span class="line">    &#123;</span><br><span class="line"><span class="actionscript">      type: <span class="string">'value'</span>,</span></span><br><span class="line"><span class="actionscript">      name: <span class="string">'客户数/下单量'</span>,</span></span><br><span class="line"><span class="actionscript">      position: <span class="string">'left'</span>,</span></span><br><span class="line">      axisLine: &#123;</span><br><span class="line">        lineStyle: &#123;</span><br><span class="line">          color: colors[0]</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      axisLabel: &#123;</span><br><span class="line"><span class="actionscript">        formatter: <span class="string">'&#123;value&#125;'</span></span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  ],</span><br><span class="line">  series: [</span><br><span class="line">    &#123;</span><br><span class="line"><span class="actionscript">      name: <span class="string">'客户数'</span>,</span></span><br><span class="line"><span class="actionscript">      type: <span class="string">'line'</span>,</span></span><br><span class="line">      areaStyle: &#123;&#125;,</span><br><span class="line"><span class="actionscript">      data: <span class="keyword">this</span>.number</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line"><span class="actionscript">      name: <span class="string">'下单量'</span>,</span></span><br><span class="line"><span class="actionscript">      type: <span class="string">'line'</span>,</span></span><br><span class="line"><span class="actionscript">      data: <span class="keyword">this</span>.num,</span></span><br><span class="line"><span class="actionscript">      smooth: <span class="literal">true</span></span></span><br><span class="line">    &#125;</span><br><span class="line">  ],</span><br><span class="line">  legend: &#123;</span><br><span class="line"><span class="actionscript">    top: <span class="string">'bottom'</span>,</span></span><br><span class="line"><span class="actionscript">    data: [<span class="string">'客户数'</span>, <span class="string">'下单量'</span>]</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="actionscript"><span class="comment">// 使用刚指定的配置项和数据显示图表。</span></span></span><br><span class="line"><span class="actionscript"><span class="keyword">this</span>.indentNumChart.setOption(<span class="keyword">this</span>.indentNumChartOption)</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>未完待续…</p><hr>]]></content>
      
      
      
        <tags>
            
            <tag> ECharts </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>新员工入职手册</title>
      <link href="/2020/06/15/%E6%96%B0%E5%91%98%E5%B7%A5%E5%85%A5%E8%81%8C%E6%89%8B%E5%86%8C/"/>
      <url>/2020/06/15/%E6%96%B0%E5%91%98%E5%B7%A5%E5%85%A5%E8%81%8C%E6%89%8B%E5%86%8C/</url>
      
        <content type="html"><![CDATA[<h2 id="初始"><a href="#初始" class="headerlink" title="初始"></a>初始</h2><h3 id="办理入职申请，到-A05-按-HR-要求办理入职"><a href="#办理入职申请，到-A05-按-HR-要求办理入职" class="headerlink" title="办理入职申请，到 A05 按 HR 要求办理入职"></a>办理入职申请，到 A05 按 HR 要求办理入职</h3><h3 id="领电脑，找到负责人领新电脑以及新员工礼包"><a href="#领电脑，找到负责人领新电脑以及新员工礼包" class="headerlink" title="领电脑，找到负责人领新电脑以及新员工礼包"></a>领电脑，找到负责人领新电脑以及新员工礼包</h3><h3 id="常用的系统"><a href="#常用的系统" class="headerlink" title="常用的系统"></a>常用的系统</h3><ul><li><p>portal 门户</p><p>1) 地址：<a href="https://idp.haier.net/idp/authcenter/ActionAuthChain?entityId=portalNew" target="_blank" rel="noopener">https://idp.haier.net/idp/authcenter/ActionAuthChain?entityId=portalNew</a></p><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/%E6%96%B0%E5%91%98%E5%B7%A500.png" alt="portal 信息门户"></p><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/%E6%96%B0%E5%91%98%E5%B7%A501.png" alt="portal 常用的功能"></p></li><li><p>ihaier 手机 APP<br>1) 下载地址：<a href="http://hdxt.haier.net/?ihaier&amp;202006151451" target="_blank" rel="noopener">http://hdxt.haier.net/?ihaier&amp;202006151451</a><br>2) 账号密码 同 portal<br>3) 常用功能</p><ol><li><p>时间管理：请假，查看出勤，异常处理，出差都在此申请（一个月有三次异常处理的机会）</p></li><li><p>移动签到：上班打卡的方式有两种，一楼 pos 机打卡以及 APP 移动签到(9:00-5:30 是法定上班时间)</p></li><li><p>门禁申请：申请 创牌一楼以及S座的门禁</p></li><li><p>餐卡充值：找到餐卡充值应用可以进行餐卡充值</p></li><li><p>健康提报： 疫情期间注意在 ihaier 上进行健康提报</p></li><li><p>其他： 搜索框可以搜索应用信息，以及找人，可以通过 APP 直接对对接人打电话，查工号。</p><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/%E6%96%B0%E5%91%98%E5%B7%A502.png" alt="ihaier APP 常用功能"></p></li></ol></li></ul><h3 id="新员工需要开启的权限-应用："><a href="#新员工需要开启的权限-应用：" class="headerlink" title="新员工需要开启的权限 + 应用："></a>新员工需要开启的权限 + 应用：</h3><ul><li>打印一体机： 员工登录“PORTAL门户系统–办公服务–权限申请–打印一体机服务-新建”，申请所在办公地点需要的打印一体机权限：<ul><li>申请单填写需注意下面内容：<ol><li>预算部门：690-PSI小微 BD编码： BD1001015860</li><li>结算公司：青岛海尔科技有限公司 企业税号：9137021718090084Q</li><li>财务审核人：王媛媛 ( 01423709 )</li></ol></li></ul></li><li>人单酬：员工登录“PORTAL门户系统–对赌契约”， 申请人单酬<ul><li>outlook 会发邮件进行通知填写</li></ul></li><li>办公用品申请：员工登录“PORTAL门户系统–办公服务–办公用品申请”，申请办公用品：<ul><li>每人每月有 10 元的办公用品额度申请</li></ul></li><li>年假：员工登录“PORTAL门户系统–休假申请”，制定年假计划：<ul><li>年假计划可以变更</li></ul></li></ul><h3 id="考试问题"><a href="#考试问题" class="headerlink" title="考试问题"></a>考试问题</h3><ul><li><p>安防要求，新入职员工需要进行三级培训</p><ol><li>线下培训要求上交教育卡、三级培训试题、6S和断电的责任书（可按部门多人签1张）、禁烟承诺书（可按部门多人签1张）</li><li>线上培训要求为下载Hi 巧匠 APP ，并进行新员工三级安全培训的线上学习</li></ol></li><li><p>线上考试</p><ol><li>网址： <a href="https://histudy.haier.net/views/dist/index.html#/learningTopicDetail?specialTopicUuid=c8b57c5a-1743-4fc8-8baa-23f2ceb9026f" target="_blank" rel="noopener">https://histudy.haier.net/views/dist/index.html#/learningTopicDetail?specialTopicUuid=c8b57c5a-1743-4fc8-8baa-23f2ceb9026f</a></li><li>注意：需要在截至日期之前完成</li></ol></li></ul><h3 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h3><ul><li><p>关于网络：</p><ol><li>corp： 连接需要工号 + portal 密码，是海尔的内网</li><li>guest： 连接需要手机号 + 验证码，如需要登录内网需要加 VPN</li><li>VPN：安装 ciscio<ul><li>国内： 联通cu.vpn.haier.net:10445或电信ct.vpn.haier.net:10445</li><li>用户名密码，是工号跟 portal 门户密码</li></ul></li><li>gitlab 权限开通： 找负责人开通 gitlab 权限</li></ol></li></ul><h2 id="陆续更新…"><a href="#陆续更新…" class="headerlink" title="陆续更新…"></a>陆续更新…</h2>]]></content>
      
      
      
        <tags>
            
            <tag> 人事 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Viser 构建图表</title>
      <link href="/2020/06/13/Viser-%E6%9E%84%E5%BB%BA%E5%9B%BE%E8%A1%A8/"/>
      <url>/2020/06/13/Viser-%E6%9E%84%E5%BB%BA%E5%9B%BE%E8%A1%A8/</url>
      
        <content type="html"><![CDATA[<h2 id="文档"><a href="#文档" class="headerlink" title="文档"></a>文档</h2><ul><li>Viser 官方网站： <a href="https://viserjs.github.io/" target="_blank" rel="noopener">https://viserjs.github.io/</a></li><li>Viser API 文档: <a href="https://www.yuque.com/rs385i/yzbt72" target="_blank" rel="noopener">https://www.yuque.com/rs385i/yzbt72</a></li></ul><h2 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">v-chart</span></span></span><br><span class="line"><span class="tag">  <span class="attr">id</span>=<span class="string">"memoryStatus"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">:forceFit</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">:height</span>=<span class="string">"300"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">:data</span>=<span class="string">"memoryData"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">:scale</span>=<span class="string">"scaleMemoryData"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">padding</span>=<span class="string">"auto"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">v-tooltip</span> <span class="attr">:crosshairs</span>=<span class="string">"crosshairs"</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">v-axis</span> <span class="attr">dataKey</span>=<span class="string">"date"</span> <span class="attr">:label</span>=<span class="string">"labelX"</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">v-axis</span> <span class="attr">dataKey</span>=<span class="string">"memory"</span> <span class="attr">:label</span>=<span class="string">"labelY"</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">v-line</span> <span class="attr">position</span>=<span class="string">"date*memory"</span> <span class="attr">:size</span>=<span class="string">"1.8"</span> <span class="attr">shape</span>=<span class="string">"smooth"</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">v-area</span> <span class="attr">:opacity</span>=<span class="string">"0.15"</span> <span class="attr">position</span>=<span class="string">"date*memory"</span> <span class="attr">shape</span>=<span class="string">"smooth"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">v-chart</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript"><span class="keyword">const</span> scaleMemoryData = [</span></span><br><span class="line">  &#123;</span><br><span class="line"><span class="actionscript">    dataKey: <span class="string">'memory'</span>,</span></span><br><span class="line"><span class="actionscript">    formatter: <span class="function"><span class="keyword">function</span> <span class="title">formatter</span> <span class="params">(value)</span> </span>&#123;</span></span><br><span class="line">      value = value || 0</span><br><span class="line"><span class="javascript">      <span class="keyword">let</span> unit = <span class="string">''</span></span></span><br><span class="line"><span class="javascript">      monitorMap.forEach(<span class="function">(<span class="params">items, index</span>) =&gt;</span> &#123;</span></span><br><span class="line">        if (index === monitorMap[5]) &#123;</span><br><span class="line">          unit = items</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;)</span><br><span class="line"><span class="actionscript">      <span class="keyword">return</span> value + unit</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;, &#123;</span><br><span class="line"><span class="actionscript">    dataKey: <span class="string">'date'</span>,</span></span><br><span class="line">    tickCount: 6</span><br><span class="line">  &#125;</span><br><span class="line">]</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>未完待续…</p><hr>]]></content>
      
      
      
        <tags>
            
            <tag> Viser </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MySQL Workbench 安装使用教程</title>
      <link href="/2020/06/12/MySQL-Workbench-%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/"/>
      <url>/2020/06/12/MySQL-Workbench-%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/</url>
      
        <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><blockquote><p>管理 MySQL 的可视化图形界面有很多， 例如： navicat，但是，他们收费。MySQL Workbench 免费且可以满足日常开发需求。</p></blockquote><h2 id="下载"><a href="#下载" class="headerlink" title="下载"></a>下载</h2><ul><li><a href="https://dev.mysql.com/downloads/workbench/" target="_blank" rel="noopener">MySQL Workbench downloads</a></li></ul><h2 id="操作"><a href="#操作" class="headerlink" title="操作"></a>操作</h2><ul><li>首页</li></ul><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/MySQL%20Workbench%20%E5%88%9D%E5%A7%8B.png" alt="MySQL Workbench 初始"></p><ul><li>链接数据库</li></ul><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/MySQL%20Workbench00.png" alt="MySQL Workbench 链接数据库"></p><ul><li>填写服务器，数据库信息<ul><li>自己起的名字</li><li>链接的服务器 ip 端口</li><li>链接的数据库的用户名字</li><li>链接的数据库的用户密码（&amp;&amp;测试连接是否成功）</li></ul></li></ul><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/MySQL%20Workbench01.png" alt="MySQL Workbench 填写数据库信息"></p><ul><li>填写链接的数据库密码</li></ul><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/MySQL%20Workbench02.png" alt="MySQL Workbench 填写密码"></p><ul><li>测试链接，链接成功后返回首页</li></ul><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/MySQL%20Workbench03.png" alt="MySQL Workbench 连接好的数据库"></p><h2 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h2><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/MySQL%20Workbench04.png" alt="MySQL Workbench 工作区"></p><hr>]]></content>
      
      
      
        <tags>
            
            <tag> MySQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>前端获取异常报错返回的信息</title>
      <link href="/2020/06/12/%E5%89%8D%E7%AB%AF%E8%8E%B7%E5%8F%96%E5%BC%82%E5%B8%B8%E6%8A%A5%E9%94%99%E8%BF%94%E5%9B%9E%E7%9A%84%E4%BF%A1%E6%81%AF/"/>
      <url>/2020/06/12/%E5%89%8D%E7%AB%AF%E8%8E%B7%E5%8F%96%E5%BC%82%E5%B8%B8%E6%8A%A5%E9%94%99%E8%BF%94%E5%9B%9E%E7%9A%84%E4%BF%A1%E6%81%AF/</url>
      
        <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>我们在日常开发时会碰到 http 返回异常，但是返回数据带有业务信息需要我们展示的情况， 例：<br><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/%E5%89%8D%E7%AB%AF%E5%BC%82%E5%B8%B8500%E8%BF%94%E5%9B%9E.png" alt="一个栗子"></p><h2 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">axios()</span><br><span class="line">  .then(<span class="function"><span class="params">()</span> =&gt;</span> &#123;&#125;)</span><br><span class="line">  .catch( <span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(err.response)</span><br><span class="line">  &#125;)</span><br></pre></td></tr></table></figure><h2 id="空瓶子"><a href="#空瓶子" class="headerlink" title="空瓶子"></a>空瓶子</h2><p>个人觉得，出现这种情况并不利于前端开发 &amp;&amp; 分析产生错误的原因， 建议后端自定义异常代码，避免使用普通 http 异常代码对运维分析问题产生困惑。</p><hr>]]></content>
      
      
      
        <tags>
            
            <tag> 前端开发文档 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>git clone HTTPS 与 SSH</title>
      <link href="/2020/06/09/git-clone-http-%E4%B8%8E-ssh/"/>
      <url>/2020/06/09/git-clone-http-%E4%B8%8E-ssh/</url>
      
        <content type="html"><![CDATA[<h2 id="Git-使用-HTTPS-与-SSH-的优缺点"><a href="#Git-使用-HTTPS-与-SSH-的优缺点" class="headerlink" title="Git 使用 HTTPS 与 SSH 的优缺点"></a>Git 使用 HTTPS 与 SSH 的优缺点</h2><h3 id="Git-使用-HTTPS-协议的优缺点"><a href="#Git-使用-HTTPS-协议的优缺点" class="headerlink" title="Git 使用 HTTPS 协议的优缺点"></a>Git 使用 HTTPS 协议的优缺点</h3><ul><li>优点 A： HTTPS 可以使用 用户名/密码 授权， 用户不需要在使用 Git 前先在本地生成 SSH 密钥再把 公钥 上传到服务器。</li><li>优点 B： 企业防火墙一般都会打开 80 跟 443 这两个常见的 HTTP 和 HTTPS 协议的端口，使用 HTTP 和 HTTPS 的协议在架设了防火墙的企业里面可以绕过安全限制正常使用 Git。</li><li>缺点： 使用 HTTP/HTTPS 处理速度慢意外还有一个最大的麻烦就是必须输入口令，但是现在的操作系统或者是其他 Git 工具都提供了 keychain 的功能，可以将账号密码都记录在系统里，例 OSX 的 Keychain 或者是 Windows 的凭证管理器</li></ul><h3 id="Git-使用-SSH-的优缺点"><a href="#Git-使用-SSH-的优缺点" class="headerlink" title="Git 使用 SSH 的优缺点"></a>Git 使用 SSH 的优缺点</h3><ul><li>优点 A： 架设 Git 服务器是常使用 SSH 协议为传输协议，SSH 同时是一个验证授权的网络协议。</li><li>缺点 A：SSH 服务端一般使用 22 端口，企业防火墙可能没打开这个端口</li><li>缺点 B： SSH 协议的缺点在于你不能通过他实现匿名访问，即便只是读取数据，使用者也要通过 SSH 访问你的主机权限，这使得 SSH 不利于开源项目。如果只是在公司内网使用， SSH 可能是你唯一用到的协议，如果你需要同时提供匿名只读访问 和 SSH 协议，那么你除了为自己推送架设 SSH 服务器外，还需要架设一个可以让其他人访问的服务。</li></ul><h3 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h3><ul><li>HTTPS 利于匿名访问，适合开源项目可以方便被别人克隆和读取（但是没有 push 权限）</li><li>SSH 协议使用公钥认证比较适合内部项目。现在的代码管理平台如: github,gitlab， 两种协议都是支持的</li></ul><h2 id="附录"><a href="#附录" class="headerlink" title="附录"></a>附录</h2><ul><li><a href="https://blog.cuiyongjian.com/engineering/git-https-ssh/" target="_blank" rel="noopener">论 git 中使用 https 和 ssh 协议的区别</a></li><li><a href="http://www.ruanyifeng.com/blog/2011/12/ssh_remote_login.html" target="_blank" rel="noopener">SSH 原理和运用</a></li></ul><hr>]]></content>
      
      
      
        <tags>
            
            <tag> Git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>截图 &amp;&amp; 贴图 &amp;&amp; 屏幕取色</title>
      <link href="/2020/06/09/%E6%88%AA%E5%9B%BE-%E8%B4%B4%E5%9B%BE-%E5%B1%8F%E5%B9%95%E5%8F%96%E8%89%B2/"/>
      <url>/2020/06/09/%E6%88%AA%E5%9B%BE-%E8%B4%B4%E5%9B%BE-%E5%B1%8F%E5%B9%95%E5%8F%96%E8%89%B2/</url>
      
        <content type="html"><![CDATA[<h2 id="截图-amp-amp-贴图-amp-amp-取色"><a href="#截图-amp-amp-贴图-amp-amp-取色" class="headerlink" title="截图 &amp;&amp; 贴图 &amp;&amp; 取色"></a>截图 &amp;&amp; 贴图 &amp;&amp; 取色</h2><ul><li><a href="https://www.cnblogs.com/leftshine/p/screenshot.html" target="_blank" rel="noopener">轻量却超强——推荐几款好用的截图工具</a></li><li><a href="https://zh.snipaste.com/" target="_blank" rel="noopener">snipaste 官网</a></li></ul><hr>]]></content>
      
      
      
        <tags>
            
            <tag> 小工具 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CCF 201912-3 题</title>
      <link href="/2020/06/08/CCF-201912-3-%E9%A2%98/"/>
      <url>/2020/06/08/CCF-201912-3-%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<h2 id="“化学方程式”-题目要求"><a href="#“化学方程式”-题目要求" class="headerlink" title="“化学方程式” 题目要求"></a>“化学方程式” 题目要求</h2><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/20191203.png" alt="化学方程式"></p><h2 id="题目解答"><a href="#题目解答" class="headerlink" title="题目解答"></a>题目解答</h2><pre><code class="c"></code></pre><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><hr>]]></content>
      
      
      
        <tags>
            
            <tag> CCF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>浏览器缓存</title>
      <link href="/2020/06/02/%E6%B5%8F%E8%A7%88%E5%99%A8%E7%BC%93%E5%AD%98/"/>
      <url>/2020/06/02/%E6%B5%8F%E8%A7%88%E5%99%A8%E7%BC%93%E5%AD%98/</url>
      
        <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>浏览器缓存是浏览器的一个特性，而不是一个 bug, 它的存在可以方便我们在下次打开相同界面时提高网站的加在速度，让我们得到更舒适的体验~</p><h2 id="缓存"><a href="#缓存" class="headerlink" title="缓存"></a>缓存</h2><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/%E7%BC%93%E5%AD%98.png" alt="缓存"></p><h2 id="静态网站浏览器缓存问题"><a href="#静态网站浏览器缓存问题" class="headerlink" title="静态网站浏览器缓存问题"></a>静态网站浏览器缓存问题</h2><p>大家都知道浏览器会对静态文件进行缓存，但是我们不妨思考一下这几个问题：</p><ul><li>静态文件为什么会被缓存？</li><li>浏览器缓存是如何生效的？</li><li>如何合理利用浏览器缓存？</li></ul><h3 id="浏览器强制缓存跟协商缓存"><a href="#浏览器强制缓存跟协商缓存" class="headerlink" title="浏览器强制缓存跟协商缓存"></a>浏览器强制缓存跟协商缓存</h3><ol><li><p>HTTP 报文</p><ul><li>HTTP 报文是浏览器和服务器通信时发送及响应的数据块<ul><li>浏览器 -&gt; 服务器 （请求报文）</li><li>服务器 -&gt; 浏览器 （响应报文）</li></ul></li><li>报文主要分为两个部分<ul><li>包含属性的首部（header）——–附加信息(cookie, 缓存等)<span style="color:red">与缓存相关的信息都保存在 header 中</span></li><li>包含数据的主体部分(body)——–HTTP 真正想传输的部分</li></ul></li></ul></li><li><p>强制缓存以及协商缓存</p></li></ol><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/%E6%B5%8F%E8%A7%88%E5%99%A8%E7%BC%93%E5%AD%98.png" alt="浏览器缓存"></p><ul><li>浏览器在加载资源时，根据请求头的expires和cache-control判断是否命中强缓存，是则直接从缓存读取资源，不会发请求到服务器。</li><li>如果没有命中强缓存，浏览器一定会发送一个请求到服务器，通过last-modified和etag验证资源是否命中协商缓存，如果命中，服务器会将这个请求返回，但是不会返回这个资源的数据，依然是从缓存中读取资源。</li><li>如果前面两者都没有命中，直接从服务器加载资源。</li></ul><h4 id="强缓存与协商缓存的区别"><a href="#强缓存与协商缓存的区别" class="headerlink" title="强缓存与协商缓存的区别"></a>强缓存与协商缓存的区别</h4><ul><li>强缓存： 未将请求发送到服务器</li><li>协商缓存： 将请求发送到服务器</li></ul><h3 id="解决的办法"><a href="#解决的办法" class="headerlink" title="解决的办法"></a>解决的办法</h3><p>原文：<a href="https://segmentfault.com/a/1190000018398039" target="_blank" rel="noopener">前端静态资源自动化处理版本号防缓存</a></p><p><strong>可以通过添加版本号的方式避免资源更新网站未更新的问题。</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">url?v&#x3D;1.0.0</span><br></pre></td></tr></table></figure><p>手动改版本号总是有些费事，接下来讲述 gulp 和 webpack 添加文件版本号；</p><ul><li><p>使用 Gulp 处理文件版本</p><ul><li><p>安装 Gulp（这里使用的是 Gulp 4+ 版本）：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install --save-dev gulp</span><br></pre></td></tr></table></figure></li><li><p>安装 gulp-rev 插件(为静态资源添加版本号)：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install --save-dev gulp-rev</span><br></pre></td></tr></table></figure></li><li><p>新建 gulpfile.js 文件：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> gulp = <span class="built_in">require</span>(<span class="string">'gulp'</span>);</span><br><span class="line"><span class="keyword">const</span> rev = <span class="built_in">require</span>(<span class="string">'gulp-rev'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 添加版本号</span></span><br><span class="line">gulp.task(<span class="string">'rev'</span>, () =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> gulp.src(<span class="string">'src/css/*.css'</span>)</span><br><span class="line">    .pipe(rev()) <span class="comment">// 将所有匹配到的文件名全部生成相应的版本号</span></span><br><span class="line">    .pipe(gulp.dest(<span class="string">'dist/css'</span>))</span><br><span class="line">    .pipe(rev.manifest()) <span class="comment">//把所有生成的带版本号的文件名保存到rev-manifest.json文件中</span></span><br><span class="line">    .pipe(gulp.dest(<span class="string">'rev/css'</span>)) <span class="comment">//把rev-manifest.json文件保存到指定的路径</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li><li><p>执行 rev 任务后，rev/css 文件加下多了一个 rev-manifest.json 文件<br>rev-manifest.json 文件的内容如下：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  "index.css": "index-35c63c1fbe.css"</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>安装 gulp-rev-collector 插件(配合 gulp-rev 替换文件版本号)：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install --save-dev gulp-rev-collector</span><br></pre></td></tr></table></figure></li><li><p>修改 gulpfile.js 文件：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> gulp = <span class="built_in">require</span>(<span class="string">'gulp'</span>);</span><br><span class="line"><span class="keyword">const</span> rev = <span class="built_in">require</span>(<span class="string">'gulp-rev'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 添加版本号</span></span><br><span class="line">gulp.task(<span class="string">'rev'</span>, () =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> gulp.src(<span class="string">'src/css/*.css'</span>)</span><br><span class="line">    .pipe(rev()) <span class="comment">// 将所有匹配到的文件名全部生成相应的版本号</span></span><br><span class="line">    .pipe(gulp.dest(<span class="string">'dist/css'</span>))</span><br><span class="line">    .pipe(rev.manifest()) <span class="comment">//把所有生成的带版本号的文件名保存到rev-manifest.json文件中</span></span><br><span class="line">    .pipe(gulp.dest(<span class="string">'rev/css'</span>)) <span class="comment">//把rev-manifest.json文件保存到指定的路径</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> revCollector = <span class="built_in">require</span>(<span class="string">'gulp-rev-collector'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 控制文件版本号</span></span><br><span class="line">gulp.task(<span class="string">'rev-collector'</span>, () =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> gulp.src([<span class="string">'rev/**/*.json'</span>, <span class="string">'src/**/*.html'</span>])</span><br><span class="line">    .pipe(revCollector(&#123;</span><br><span class="line">      replaceReved: <span class="literal">true</span></span><br><span class="line">    &#125;))</span><br><span class="line">    .pipe(gulp.dest(<span class="string">'dist'</span>))</span><br><span class="line">&#125;)</span><br><span class="line">gulp.task(<span class="string">'default'</span>, gulp.series(<span class="string">'clean'</span>, <span class="string">'rev'</span>, <span class="string">'rev-collector'</span>))</span><br></pre></td></tr></table></figure></li><li><p>执行 gulp 默认任务: 检查 dist 下 index.html 文件 css 的版本是否替换成功</p></li></ul></li><li><p>使用 Webpack 处理文件版本<br>Webpack 是一个现代 JavaScript 应用程序的静态模块打包器，非常适合于构建单页面的工作流程，当然也可以构建多页面的工作流程。</p><ul><li><p>安装 Webpack（这里使用的是 webpack 4+ 版本）。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install --save-dev webpack webpack-cli</span><br></pre></td></tr></table></figure></li><li><p>通过使用 output.filename 进行文件名替换，webpack 使用 [chunkhash] 替换文件名，在文件名中包含一个 chunk 相关(chunk-specific)的哈希。</p></li><li><p>安装 clean-webpack-plugin 插件（清理文件夹）：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install --save-dev clean-webpack-plugin</span><br></pre></td></tr></table></figure><p>clean-webpack-plugin 插件的作用是清理文件夹，由于每次打包的文件版本不同，输出目录会生成很多不同版本的目标文件，所以需要清理文件夹。</p></li><li><p>配置文件 webpack.config.js 如下：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>);</span><br><span class="line"><span class="keyword">const</span> CleanWebpackPlugin = <span class="built_in">require</span>(<span class="string">'clean-webpack-plugin'</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  entry: <span class="string">'./src/index.js'</span>,</span><br><span class="line">  output: &#123;</span><br><span class="line">    filename: <span class="string">'bundle.[chunkhash:5].js'</span>, <span class="comment">//这里设置 [chunkhash] 替换文件名，数字5为 chunkhash 的字符长度。</span></span><br><span class="line">    path: path.resolve(__dirname, <span class="string">'dist'</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">  plugins: [</span><br><span class="line">    <span class="keyword">new</span> CleanWebpackPlugin([<span class="string">'dist'</span>])</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br><span class="line">在 src 目录新建一个 index.html 文件：</span><br><span class="line"></span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">  &lt;head&gt;</span><br><span class="line">    &lt;meta charset=<span class="string">"utf-8"</span>&gt;</span><br><span class="line">    &lt;title&gt;Webpack实现静态资源版本管理自动化&lt;<span class="regexp">/title&gt;</span></span><br><span class="line"><span class="regexp">  &lt;/</span>head&gt;</span><br><span class="line">  &lt;body&gt;</span><br><span class="line">    &lt;script src=<span class="string">"index.js"</span>&gt;&lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp">  &lt;/</span>body&gt;</span><br><span class="line">&lt;<span class="regexp">/html&gt;</span></span><br><span class="line"><span class="regexp">安装 html-webpack-plugin 插件：</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">$ npm install --save-dev html-webpack-plugin</span></span><br><span class="line"><span class="regexp">html-webpack-plugin 插件编译 html 替换带有哈希值版本信息的资源文件。</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">修改 webpack.config.js 文件：</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">const path = require('path');</span></span><br><span class="line"><span class="regexp">const CleanWebpackPlugin = require('clean-webpack-plugin');</span></span><br><span class="line"><span class="regexp">const HtmlWebpackPlugin = require('html-webpack-plugin');</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">module.exports = &#123;</span></span><br><span class="line"><span class="regexp">  entry: './</span>src/index.js<span class="string">',</span></span><br><span class="line"><span class="string">  output: &#123;</span></span><br><span class="line"><span class="string">    filename: '</span>bundle.[chunkhash:<span class="number">5</span>].js<span class="string">', //这里设置 [chunkhash] 替换文件名，数字5为 chunkhash 的字符长度。</span></span><br><span class="line"><span class="string">    path: path.resolve(__dirname, '</span>dist<span class="string">')</span></span><br><span class="line"><span class="string">  &#125;,</span></span><br><span class="line"><span class="string">  plugins: [</span></span><br><span class="line"><span class="string">    new CleanWebpackPlugin(['</span>dist<span class="string">']),</span></span><br><span class="line"><span class="string">    new HtmlWebpackPlugin(&#123;</span></span><br><span class="line"><span class="string">      title: '</span>Webpack实现静态资源版本管理自动化<span class="string">'</span></span><br><span class="line"><span class="string">    &#125;)</span></span><br><span class="line"><span class="string">  ]</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure></li><li><p>html-webpack-plugin 默认入口文件为 index.html</p></li><li><p>具体的参数配置请参考<a href="https://www.npmjs.com/package/html-webpack-plugin" target="_blank" rel="noopener">https://www.npmjs.com/package/html-webpack-plugin</a></p></li></ul></li></ul><h2 id="附录"><a href="#附录" class="headerlink" title="附录"></a>附录</h2><ul><li><a href="https://www.cnblogs.com/chenqf/p/6386163.html" target="_blank" rel="noopener">彻底弄懂 HTTP 缓存</a></li><li><a href="https://www.cnblogs.com/lyzg/p/5125934.html" target="_blank" rel="noopener">浏览器缓存知识小结</a></li><li><a href="https://segmentfault.com/a/1190000012573337" target="_blank" rel="noopener">浅谈浏览器缓存</a></li><li><a href="https://github.com/amandakelake/blog/issues/41" target="_blank" rel="noopener">浏览器缓存知识点汇总</a></li><li><a href="https://segmentfault.com/a/1190000018398039" target="_blank" rel="noopener">前端静态资源自动化处理版本号防缓存</a></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Web </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>静态资源上传网站</title>
      <link href="/2020/06/01/%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90%E4%B8%8A%E4%BC%A0%E7%BD%91%E7%AB%99/"/>
      <url>/2020/06/01/%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90%E4%B8%8A%E4%BC%A0%E7%BD%91%E7%AB%99/</url>
      
        <content type="html"><![CDATA[<h2 id="公众号文章发布流程"><a href="#公众号文章发布流程" class="headerlink" title="公众号文章发布流程"></a>公众号文章发布流程</h2><ul><li>制图工具上制图</li><li>新榜单编辑器编辑文章:<a href="https://edit.newrank.cn/" target="_blank" rel="noopener">https://edit.newrank.cn/</a></li><li>微信公众平台发布文章：<a href="https://mp.weixin.qq.com/" target="_blank" rel="noopener">https://mp.weixin.qq.com/</a><ul><li>素材管理 -&gt; 新建图文消息</li><li>素材管理 -&gt; 上传图片（视频）</li><li>先预览然后发布</li></ul></li></ul><h2 id="文件更新"><a href="#文件更新" class="headerlink" title="文件更新"></a>文件更新</h2><ol><li>在图片目录下更新图片（图片尺寸：420px*280px）<br><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/%E6%9B%B4%E6%96%B0%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90-1.png" alt="更新图片"></li><li>在 C:\Users\19028868\Desktop\最近任务\巨商汇操作手册维护\newSimpleBlog\newSimpleBlog\doc 下更新xls表格</li><li>在 /res/js/db/json.js 目录下更新：<ul><li>标题</li><li>详情</li><li>博客 url</li><li>图片名称<br><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/%E6%9B%B4%E6%96%B0%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90-2.png" alt="更新内容"></li></ul></li><li>将文件上传到服务器静态资源目录下<ul><li>ftp 链接到 10.135.13.157 服务器（用户名&amp;密码: ftpuser）</li><li>将json.js &amp;&amp; 图片上传到服务器（/home/ftpuser/wxl/目录下）</li><li>网站登录特权账号 <a href="https://pum.haier.net/shterm/login" target="_blank" rel="noopener">https://pum.haier.net/shterm/login</a></li><li>远程链接服务器</li><li>将更新的文件覆盖（img &amp;&amp; json.js）<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cp &#x2F;home&#x2F;ftpuser&#x2F;wxl&#x2F;json.js &#x2F;webMedias&#x2F;_ui&#x2F;desktop&#x2F;haier&#x2F;file&#x2F;wenzhang&#x2F;newSimpleBlog&#x2F;res&#x2F;js&#x2F;db&#x2F;</span><br><span class="line"> cp &#x2F;home&#x2F;ftpuser&#x2F;wxl&#x2F;图片名 &#x2F;webMedias&#x2F;_ui&#x2F;desktop&#x2F;haier&#x2F;file&#x2F;wenzhang&#x2F;newSimpleBlog&#x2F;res&#x2F;img&#x2F;</span><br></pre></td></tr></table></figure></li></ul></li></ol><h2 id="工具"><a href="#工具" class="headerlink" title="工具"></a>工具</h2><ul><li>制图：<a href="https://kt.fkw.com/muban/tf-99-111-0-0-0-0.html" target="_blank" rel="noopener">https://kt.fkw.com/muban/tf-99-111-0-0-0-0.html</a></li><li>服务器：<a href="http://10.135.13.157/" target="_blank" rel="noopener">http://10.135.13.157/</a></li><li>Excel转Json： <a href="http://www.bejson.com/json/col2json/" target="_blank" rel="noopener">http://www.bejson.com/json/col2json/</a></li><li>在线html转js,js转html：<a href="http://www.bejson.com/convert/html_js/" target="_blank" rel="noopener">http://www.bejson.com/convert/html_js/</a></li></ul><hr>]]></content>
      
      
      
        <tags>
            
            <tag> 静态资源 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>chrome 截长图</title>
      <link href="/2020/05/22/chrome-%E6%88%AA%E9%95%BF%E5%9B%BE/"/>
      <url>/2020/05/22/chrome-%E6%88%AA%E9%95%BF%E5%9B%BE/</url>
      
        <content type="html"><![CDATA[<h2 id="步骤"><a href="#步骤" class="headerlink" title="步骤"></a>步骤</h2><ul><li>打开要截取的 chrome 页面</li><li>f12 或者是 ctrl+shift+i,打开调试窗口</li><li>ctrl+shift+p, 打开搜索框</li><li>在搜索框输入 screen， 找到 Capture full size screenshot，点击回车，就可以截取 chrome 当前页啦</li></ul><hr>]]></content>
      
      
      
        <tags>
            
            <tag> Chrome </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CCF 201903-2 题</title>
      <link href="/2020/05/22/CCF-201903-2-%E9%A2%98/"/>
      <url>/2020/05/22/CCF-201903-2-%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<h2 id="“二十四点”-题目要求"><a href="#“二十四点”-题目要求" class="headerlink" title="“二十四点” 题目要求"></a>“二十四点” 题目要求</h2><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/20190302.png" alt="二十四点"></p><h2 id="题目解答"><a href="#题目解答" class="headerlink" title="题目解答"></a>题目解答</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="meta-keyword">include</span> <span class="meta-string">"stdio.h"</span></span></span><br><span class="line"><span class="meta"># <span class="meta-keyword">define</span> MAX 100</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">sumAll</span><span class="params">(<span class="keyword">int</span> i, <span class="keyword">int</span> j,  <span class="keyword">char</span> character[MAX][<span class="number">3</span>], <span class="keyword">int</span> number[MAX][<span class="number">4</span>])</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> sum;</span><br><span class="line"><span class="keyword">switch</span>(character[i][j]) &#123;</span><br><span class="line"><span class="keyword">case</span> <span class="string">'x'</span>:</span><br><span class="line">sum = number[i][j] * number[i][j+<span class="number">1</span>];</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="string">'/'</span>:</span><br><span class="line">sum = number[i][j] / number[i][j+<span class="number">1</span>];</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="string">'-'</span>:</span><br><span class="line"><span class="keyword">if</span>((character[i][<span class="number">1</span>] == <span class="string">'x'</span> || character[i][<span class="number">1</span>] == <span class="string">'/'</span>) &amp;&amp;((j==<span class="number">2</span> &amp;&amp; (character[i][<span class="number">0</span>] == <span class="string">'+'</span> || character[i][<span class="number">0</span>] == <span class="string">'-'</span>)||(character[i][<span class="number">2</span>] == <span class="string">'x'</span> || character[i][<span class="number">2</span>] == <span class="string">'/'</span>))))&#123;</span><br><span class="line">sum = number[i][<span class="number">0</span>] - number[i][<span class="number">3</span>];</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">sum = number[i][j] - number[i][j+<span class="number">1</span>];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="string">'+'</span>:</span><br><span class="line"><span class="keyword">if</span>((character[i][<span class="number">1</span>] == <span class="string">'x'</span> || character[i][<span class="number">1</span>] == <span class="string">'/'</span>) &amp;&amp;((j==<span class="number">2</span> &amp;&amp; (character[i][<span class="number">0</span>] == <span class="string">'+'</span> || character[i][<span class="number">0</span>] == <span class="string">'-'</span>)||(character[i][<span class="number">2</span>] == <span class="string">'x'</span> || character[i][<span class="number">2</span>] == <span class="string">'/'</span>))))&#123;</span><br><span class="line">sum = number[i][<span class="number">0</span>] + number[i][<span class="number">3</span>];</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">sum = number[i][j] + number[i][j+<span class="number">1</span>];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">number[i][j]=sum;</span><br><span class="line">number[i][j+<span class="number">1</span>]=sum;</span><br><span class="line"><span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">judge24</span><span class="params">(<span class="keyword">int</span> i, <span class="keyword">char</span> character[MAX][<span class="number">3</span>], <span class="keyword">int</span> number[MAX][<span class="number">4</span>], <span class="keyword">int</span> res[MAX])</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> j,sum=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(j=<span class="number">0</span>;j&lt;<span class="number">3</span>;j++)&#123;</span><br><span class="line"><span class="keyword">if</span>(character[i][j] == <span class="string">'x'</span> || character[i][j] == <span class="string">'/'</span>)&#123;</span><br><span class="line">sum = sumAll(i,j,character,number);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(j=<span class="number">0</span>;j&lt;<span class="number">3</span>;j++)&#123;</span><br><span class="line"><span class="keyword">if</span>(character[i][j] == <span class="string">'+'</span> || character[i][j] == <span class="string">'-'</span>)&#123;</span><br><span class="line">sum = sumAll(i,j,character,number);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">res[i]=sum==<span class="number">24</span>?<span class="number">1</span>:<span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> i,j,n,res[MAX], number[MAX][<span class="number">4</span>];</span><br><span class="line"><span class="keyword">char</span> c,character[MAX][<span class="number">3</span>];</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%c"</span>,&amp;c);</span><br><span class="line"><span class="keyword">for</span>(j=<span class="number">0</span>;j&lt;<span class="number">7</span>;j++)&#123;</span><br><span class="line"><span class="keyword">if</span>(j%<span class="number">2</span>)&#123;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%c"</span>, &amp;character[i][j/<span class="number">2</span>]);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;number[i][j/<span class="number">2</span>]);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">judge24(i, character, number, res);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line"><span class="keyword">if</span>(res[i]) &#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"Yes\n"</span>);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"No \n"</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><ul><li>四则运算，优先级</li><li>采用的前后相加的方法，将值变成自己需要的</li><li>处理特殊情况</li></ul><hr>]]></content>
      
      
      
        <tags>
            
            <tag> CCF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CCF 201909-2 题</title>
      <link href="/2020/05/22/CCF-201909-2-%E9%A2%98/"/>
      <url>/2020/05/22/CCF-201909-2-%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<h2 id="“小明种苹果（续）”-题目要求"><a href="#“小明种苹果（续）”-题目要求" class="headerlink" title="“小明种苹果（续）” 题目要求"></a>“小明种苹果（续）” 题目要求</h2><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/20190902.png" alt="小明种苹果（续）"></p><h2 id="题目解答"><a href="#题目解答" class="headerlink" title="题目解答"></a>题目解答</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="meta-keyword">include</span> <span class="meta-string">"stdio.h"</span></span></span><br><span class="line"><span class="meta"># <span class="meta-keyword">define</span> MAX 1000</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">handleDefruiting</span><span class="params">(<span class="keyword">int</span> i, <span class="keyword">int</span> m, <span class="keyword">int</span> arr[MAX], <span class="keyword">int</span> res[MAX][<span class="number">2</span>])</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> j,k,sum,flag;</span><br><span class="line">res[i][<span class="number">0</span>]=arr[<span class="number">0</span>];</span><br><span class="line">res[i][<span class="number">1</span>]=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(j=<span class="number">1</span>;j&lt;m;j++)&#123;</span><br><span class="line"><span class="keyword">if</span>(arr[j]&gt;<span class="number">0</span>)&#123;</span><br><span class="line"><span class="keyword">if</span>(res[i][<span class="number">0</span>] &gt; arr[j])&#123;</span><br><span class="line">res[i][<span class="number">1</span>]=<span class="number">1</span>;</span><br><span class="line">res[i][<span class="number">0</span>]=arr[j];</span><br><span class="line">&#125;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">res[i][<span class="number">0</span>]+=arr[j]; </span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">handleSum</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span> res[MAX][<span class="number">2</span>], <span class="keyword">int</span> j)</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> i,sum=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">sum+=res[i][j];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">judgeThree</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span> res[MAX][<span class="number">2</span>])</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> i, sum=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line"><span class="keyword">if</span>(res[i%n][<span class="number">1</span>] &amp;&amp; res[(i+<span class="number">1</span>)%n][<span class="number">1</span>] &amp;&amp; res[(i+<span class="number">2</span>)%n][<span class="number">1</span>])&#123;</span><br><span class="line">sum+=<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> i,j,m,n, arr[MAX], res[MAX][<span class="number">2</span>], sumT,sumD,sumE;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;m);</span><br><span class="line"><span class="keyword">for</span>(j=<span class="number">0</span>;j&lt;m;j++)&#123;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;arr[j]);</span><br><span class="line">&#125;</span><br><span class="line">handleDefruiting(i,m, arr, res);</span><br><span class="line">&#125;</span><br><span class="line">sumT = handleSum(n, res, <span class="number">0</span>);</span><br><span class="line">sumD = handleSum(n, res, <span class="number">1</span>);</span><br><span class="line">sumE = judgeThree(n,res);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d %d %d"</span>, sumT,sumD,sumE);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><ul><li>n棵树围成圆</li><li>第i+1行： 疏果&amp;&amp;检查果次数 初始果总数 疏果OR检查次数</li><li>结果：</li><li>求最后的果数量（特别注意落果情况）</li><li>求落果棵树</li><li>求连续三棵落果的数目（特别注意，圆形so(i+1)%n保证准确性）</li></ul><hr>]]></content>
      
      
      
        <tags>
            
            <tag> CCF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CCF 201912-2 题</title>
      <link href="/2020/05/22/CCF-201912-2-%E9%A2%98/"/>
      <url>/2020/05/22/CCF-201912-2-%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<h2 id="“回收站选址”-题目要求"><a href="#“回收站选址”-题目要求" class="headerlink" title="“回收站选址” 题目要求"></a>“回收站选址” 题目要求</h2><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/20191202.png" alt="回收站选址"></p><h2 id="题目解答"><a href="#题目解答" class="headerlink" title="题目解答"></a>题目解答</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="meta-keyword">include</span> <span class="meta-string">"stdio.h"</span></span></span><br><span class="line"><span class="meta"># <span class="meta-keyword">define</span> MAX 1000</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">rubbish</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span> arr[MAX][<span class="number">2</span>], <span class="keyword">int</span> res[<span class="number">5</span>])</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> i,j,temp,flag;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;<span class="number">5</span>;i++)&#123;</span><br><span class="line">res[i]=<span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">temp=<span class="number">0</span>;</span><br><span class="line">flag=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(j=<span class="number">0</span>;j&lt;n;j++)&#123;</span><br><span class="line">flag+= arr[i][<span class="number">0</span>]+<span class="number">1</span> == arr[j][<span class="number">0</span>] &amp;&amp; arr[i][<span class="number">1</span>] == arr[j][<span class="number">1</span>] ? <span class="number">1</span> : <span class="number">0</span>;</span><br><span class="line">flag+= arr[i][<span class="number">0</span>]<span class="number">-1</span> == arr[j][<span class="number">0</span>] &amp;&amp; arr[i][<span class="number">1</span>] == arr[j][<span class="number">1</span>] ? <span class="number">1</span> : <span class="number">0</span>;</span><br><span class="line">flag+= arr[i][<span class="number">0</span>] == arr[j][<span class="number">0</span>] &amp;&amp; arr[i][<span class="number">1</span>]+<span class="number">1</span> == arr[j][<span class="number">1</span>] ? <span class="number">1</span> : <span class="number">0</span>;</span><br><span class="line">flag+= arr[i][<span class="number">0</span>] == arr[j][<span class="number">0</span>] &amp;&amp; arr[i][<span class="number">1</span>]<span class="number">-1</span> == arr[j][<span class="number">1</span>] ? <span class="number">1</span> : <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(flag == <span class="number">4</span>)&#123;</span><br><span class="line"><span class="keyword">for</span>(j=<span class="number">0</span>;j&lt;n;j++)&#123;</span><br><span class="line">temp+= arr[i][<span class="number">0</span>]+<span class="number">1</span> == arr[j][<span class="number">0</span>] &amp;&amp; arr[i][<span class="number">1</span>]+<span class="number">1</span> == arr[j][<span class="number">1</span>] ? <span class="number">1</span> : <span class="number">0</span>;</span><br><span class="line">temp+= arr[i][<span class="number">0</span>]<span class="number">-1</span> == arr[j][<span class="number">0</span>] &amp;&amp; arr[i][<span class="number">1</span>]<span class="number">-1</span> == arr[j][<span class="number">1</span>] ? <span class="number">1</span> : <span class="number">0</span>;</span><br><span class="line">temp+= arr[i][<span class="number">0</span>]+<span class="number">1</span> == arr[j][<span class="number">0</span>] &amp;&amp; arr[i][<span class="number">1</span>]<span class="number">-1</span> == arr[j][<span class="number">1</span>] ? <span class="number">1</span> : <span class="number">0</span>;</span><br><span class="line">temp+= arr[i][<span class="number">0</span>]<span class="number">-1</span> == arr[j][<span class="number">0</span>] &amp;&amp; arr[i][<span class="number">1</span>]+<span class="number">1</span> == arr[j][<span class="number">1</span>] ? <span class="number">1</span> : <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">res[temp]+=<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> i,n,arr[MAX][<span class="number">2</span>],res[<span class="number">5</span>];</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;arr[i][<span class="number">0</span>], &amp;arr[i][<span class="number">1</span>]);</span><br><span class="line">&#125;</span><br><span class="line">rubbish(n,arr,res);</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;<span class="number">5</span>;i++)&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d\n"</span>, res[i]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><ul><li>回收站(x,y)位置要有垃圾 &amp;&amp; (x+1, y)(x-1, y)(x, y+1)(x, y-1)位置要有垃圾</li><li>求(x+1, y+1)(x+1, y-1)(x-1, y+1)(x-1, y-1)处垃圾数为（0，1，2，3，4）的垃圾桶个数</li><li>理解题意即可解题</li></ul><hr>]]></content>
      
      
      
        <tags>
            
            <tag> CCF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CCF 201812-2 题</title>
      <link href="/2020/05/22/CCF-201812-2-%E9%A2%98/"/>
      <url>/2020/05/22/CCF-201812-2-%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<h2 id="“小明放学”-题目要求"><a href="#“小明放学”-题目要求" class="headerlink" title="“小明放学” 题目要求"></a>“小明放学” 题目要求</h2><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/20181202.png" alt="小明放学"></p><h2 id="题目解答"><a href="#题目解答" class="headerlink" title="题目解答"></a>题目解答</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="meta-keyword">include</span> <span class="meta-string">"stdio.h"</span></span></span><br><span class="line"><span class="meta"># <span class="meta-keyword">define</span> MAX 100000</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> i,r,y,g,n,arr[MAX][<span class="number">2</span>],sum;</span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> res = <span class="number">0</span>;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d%d%d%d"</span>, &amp;r,&amp;y,&amp;g,&amp;n);</span><br><span class="line">sum = r+g+y;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;n;i++) &#123;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;arr[i][<span class="number">0</span>],&amp;arr[i][<span class="number">1</span>]);</span><br><span class="line"><span class="keyword">if</span>(arr[i][<span class="number">0</span>] == <span class="number">0</span>) &#123;</span><br><span class="line">res+=arr[i][<span class="number">1</span>];</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">switch</span>(arr[i][<span class="number">0</span>])&#123;</span><br><span class="line"><span class="keyword">case</span> <span class="number">1</span>: </span><br><span class="line">arr[i][<span class="number">1</span>]=(res+r-arr[i][<span class="number">1</span>]) % sum;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">arr[i][<span class="number">1</span>]=(res+r+g+y-arr[i][<span class="number">1</span>]) % sum;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="number">3</span>: </span><br><span class="line">arr[i][<span class="number">1</span>]=(res+r+g-arr[i][<span class="number">1</span>]) % sum;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(arr[i][<span class="number">1</span>]&lt;r)&#123;</span><br><span class="line">res+=r-arr[i][<span class="number">1</span>];</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span>(arr[i][<span class="number">1</span>]&gt;r+g)&#123;</span><br><span class="line">res+=r+sum-arr[i][<span class="number">1</span>];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%lld"</span>, res);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><ul><li>所有测试点保证 n ≤ 10^5 &amp;&amp; r,y,g 均不超过 10^6 =&gt; res(结果)最大会是 long long</li><li>初始时刻的红绿灯状态，根据自己的进程来动态的修改即可。</li></ul><hr>]]></content>
      
      
      
        <tags>
            
            <tag> CCF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CCF 201809-2 题</title>
      <link href="/2020/05/22/CCF-201809-2-%E9%A2%98/"/>
      <url>/2020/05/22/CCF-201809-2-%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<h2 id="“买菜”-题目要求"><a href="#“买菜”-题目要求" class="headerlink" title="“买菜” 题目要求"></a>“买菜” 题目要求</h2><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/20180902.png" alt="买菜"></p><h2 id="题目解答"><a href="#题目解答" class="headerlink" title="题目解答"></a>题目解答</h2><figure class="highlight plain"><figcaption><span>include "stdio.h"</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"># define MAX 4000</span><br><span class="line"></span><br><span class="line">int buy(int h[MAX], int w[MAX], int n)&#123;</span><br><span class="line">int i,j,a,b,t,max,min;</span><br><span class="line">t&#x3D;0;</span><br><span class="line">for(i&#x3D;0;i&lt;n;i++)&#123;</span><br><span class="line">a&#x3D;2*i;</span><br><span class="line">for(j&#x3D;0;j&lt;n;j++)&#123;</span><br><span class="line">b&#x3D;2*j;</span><br><span class="line">if(h[a]&lt;w[b+1] &amp;&amp; h[a+1]&gt;w[b])&#123;</span><br><span class="line">max&#x3D;h[a]&gt;w[b]?h[a]:w[b];</span><br><span class="line">min&#x3D;h[a+1]&gt;w[b+1]?w[b+1]:h[a+1];</span><br><span class="line">t+&#x3D;min-max;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">return t;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void fuzhi(int temp[MAX], int n) &#123;</span><br><span class="line">int i, k;</span><br><span class="line">for(i&#x3D;0;i&lt;n;i++)&#123;</span><br><span class="line">k&#x3D;2*i;</span><br><span class="line">scanf(&quot;%d%d&quot;, &amp;temp[k], &amp;temp[k+1]);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main () &#123;</span><br><span class="line">int i,n,res,h[MAX],w[MAX];</span><br><span class="line">scanf(&quot;%d&quot;, &amp;n);</span><br><span class="line">fuzhi(h, n);</span><br><span class="line">fuzhi(w, n);</span><br><span class="line">res &#x3D; buy(h, w, n);</span><br><span class="line">printf(&quot;%d&quot;, res);</span><br><span class="line">return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><ul><li>小 h 与 小 w 两个人的交叉时间即为两者的谈话时间</li><li>优化思路： 当 h 的离开时间小于 w 的开始时间时，跳出循环</li></ul><hr>]]></content>
      
      
      
        <tags>
            
            <tag> CCF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CCF 201803-2 题</title>
      <link href="/2020/05/22/CCF-201803-2-%E9%A2%98/"/>
      <url>/2020/05/22/CCF-201803-2-%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<h2 id="“碰撞的小球”-题目要求"><a href="#“碰撞的小球”-题目要求" class="headerlink" title="“碰撞的小球” 题目要求"></a>“碰撞的小球” 题目要求</h2><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/20180302.png" alt="碰撞的小球"></p><h2 id="题目解答"><a href="#题目解答" class="headerlink" title="题目解答"></a>题目解答</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="meta-keyword">include</span> <span class="meta-string">"stdio.h"</span> </span></span><br><span class="line"><span class="meta"># <span class="meta-keyword">define</span> MAX 100</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">position</span> <span class="params">(<span class="keyword">int</span> arr[MAX], <span class="keyword">int</span> l, <span class="keyword">int</span> n, <span class="keyword">int</span> dir[MAX])</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> i,j,k;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">arr[i]+=dir[i];</span><br><span class="line"><span class="keyword">if</span>(dir[i]&gt;<span class="number">0</span> &amp;&amp; arr[i] == l) &#123;</span><br><span class="line">dir[i] = - dir[i];</span><br><span class="line">&#125;<span class="keyword">else</span> <span class="keyword">if</span>(dir[i]&lt;<span class="number">0</span> &amp;&amp; arr[i] == <span class="number">0</span>) &#123;</span><br><span class="line">dir[i] = - dir[i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(j=<span class="number">0</span>;j&lt;n;j++)&#123;</span><br><span class="line"><span class="keyword">if</span>(j!=i &amp;&amp; arr[i] == arr[j] &amp;&amp; dir[i]+dir[j] == <span class="number">0</span>)&#123;</span><br><span class="line">dir[i] = -dir[i];</span><br><span class="line">dir[j] = -dir[j];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> i,n,l,t,arr[MAX], dir[MAX];</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d%d%d"</span>, &amp;n,&amp;l,&amp;t);</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;arr[i]);</span><br><span class="line">dir[i]=<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;t;i++)&#123;</span><br><span class="line"><span class="built_in">position</span>(arr, l, n, dir);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d "</span>,arr[i]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><ul><li>速度为 1单位每秒，匀速，初始方向向右</li><li>小球初始位置均为偶数位置</li><li>当碰到两边（0 OR l）的时候，小球相撞的时候速度方向变化为原来方向的相反方向</li><li>求 t 时刻小球的位置</li></ul><hr>]]></content>
      
      
      
        <tags>
            
            <tag> CCF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CCF 201712-2 题</title>
      <link href="/2020/05/20/CCF-201712-2-%E9%A2%98/"/>
      <url>/2020/05/20/CCF-201712-2-%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<h2 id="“游戏”-题目要求"><a href="#“游戏”-题目要求" class="headerlink" title="“游戏” 题目要求"></a>“游戏” 题目要求</h2><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/20171202.png" alt="游戏"></p><h2 id="题目解答"><a href="#题目解答" class="headerlink" title="题目解答"></a>题目解答</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="meta-keyword">include</span> <span class="meta-string">"stdio.h"</span></span></span><br><span class="line"><span class="meta"># <span class="meta-keyword">define</span> MAX 1000</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">weedOut</span> <span class="params">(<span class="keyword">int</span> arr[MAX], <span class="keyword">int</span> i, <span class="keyword">int</span> k)</span></span>&#123;</span><br><span class="line"><span class="keyword">if</span>(arr[i]%k==<span class="number">0</span>) &#123;</span><br><span class="line">arr[i]=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">if</span>(arr[i]%<span class="number">10</span> == k)&#123;</span><br><span class="line">arr[i]=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> i,k,m,n,count,arr[MAX];</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;n,&amp;k);</span><br><span class="line">count=<span class="number">0</span>;</span><br><span class="line">m=<span class="number">1</span>;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">arr[i]=<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">while</span>(<span class="number">1</span>)&#123;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line"><span class="keyword">if</span>(arr[i])&#123;</span><br><span class="line">arr[i]=m++;</span><br><span class="line">count+=weedOut(arr, i, k);</span><br><span class="line"><span class="keyword">if</span>(count==n<span class="number">-1</span>)&#123;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line"><span class="keyword">if</span>(arr[i])&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d"</span>, i+<span class="number">1</span>);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><ul><li>推荐查看约瑟夫环，一个特别有意思的游戏</li><li>条件: k 的倍数以及个位数是 k,淘汰出局</li><li>淘汰出局的人无法参与后续的报数</li></ul><hr>]]></content>
      
      
      
        <tags>
            
            <tag> CCF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CCF 201709-2 题</title>
      <link href="/2020/05/20/CCF-201709-2-%E9%A2%98/"/>
      <url>/2020/05/20/CCF-201709-2-%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<h2 id="“公共钥匙盒”-题目要求"><a href="#“公共钥匙盒”-题目要求" class="headerlink" title="“公共钥匙盒” 题目要求"></a>“公共钥匙盒” 题目要求</h2><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/20170902.png" alt="公共钥匙盒"></p><h2 id="题目解答"><a href="#题目解答" class="headerlink" title="题目解答"></a>题目解答</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="meta-keyword">include</span> <span class="meta-string">"stdio.h"</span></span></span><br><span class="line"><span class="meta"># <span class="meta-keyword">define</span> MAX 1000</span></span><br><span class="line"><span class="meta"># <span class="meta-keyword">define</span> ALL 2001</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">sort</span> <span class="params">(<span class="keyword">int</span> schedule[ALL], <span class="keyword">int</span> k)</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> i,j,<span class="built_in">min</span>,pos;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;k;i++)&#123;</span><br><span class="line"><span class="built_in">min</span> = schedule[i];</span><br><span class="line">pos = i;</span><br><span class="line"><span class="keyword">for</span>(j=i+<span class="number">1</span>;j&lt;k;j++)&#123;</span><br><span class="line"><span class="keyword">if</span>(<span class="built_in">min</span>&gt;schedule[j])&#123;</span><br><span class="line"><span class="built_in">min</span>=schedule[j];</span><br><span class="line">pos=j;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">min</span>=schedule[pos];</span><br><span class="line">schedule[pos]=schedule[i];</span><br><span class="line">schedule[i]=<span class="built_in">min</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">sortSmallest</span> <span class="params">(<span class="keyword">int</span> test[MAX][<span class="number">3</span>], <span class="keyword">int</span> k)</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> i,j,pos,temp[<span class="number">3</span>];</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;k;i++)&#123;</span><br><span class="line">temp[<span class="number">0</span>] = test[i][<span class="number">0</span>];</span><br><span class="line">pos = i;</span><br><span class="line"><span class="keyword">for</span>(j=i+<span class="number">1</span>;j&lt;k;j++)&#123;</span><br><span class="line"><span class="keyword">if</span>(temp[<span class="number">0</span>]&gt;test[j][<span class="number">0</span>])&#123;</span><br><span class="line">temp[<span class="number">0</span>]=test[j][<span class="number">0</span>];</span><br><span class="line">pos=j;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">temp[<span class="number">0</span>]=test[pos][<span class="number">0</span>];</span><br><span class="line">temp[<span class="number">1</span>]=test[pos][<span class="number">1</span>];</span><br><span class="line">temp[<span class="number">2</span>]=test[pos][<span class="number">2</span>];</span><br><span class="line">test[pos][<span class="number">0</span>]=test[i][<span class="number">0</span>];</span><br><span class="line">test[pos][<span class="number">1</span>]=test[i][<span class="number">1</span>];</span><br><span class="line">test[pos][<span class="number">2</span>]=test[i][<span class="number">2</span>];</span><br><span class="line">test[i][<span class="number">0</span>]=temp[<span class="number">0</span>];</span><br><span class="line">test[i][<span class="number">1</span>]=temp[<span class="number">1</span>];</span><br><span class="line">test[i][<span class="number">2</span>]=temp[<span class="number">2</span>];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">fuzhi</span> <span class="params">(<span class="keyword">int</span> arr[MAX], <span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> i;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">arr[i]=i+<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">put</span> <span class="params">(<span class="keyword">int</span> arr[MAX], <span class="keyword">int</span> test[MAX][<span class="number">3</span>], <span class="keyword">int</span> judge, <span class="keyword">int</span> n, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> i,j;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;k;i++)&#123;</span><br><span class="line"><span class="keyword">if</span>(test[i][<span class="number">2</span>] == judge)&#123;</span><br><span class="line"><span class="keyword">for</span>(j=<span class="number">0</span>;j&lt;n;j++)&#123;</span><br><span class="line"><span class="keyword">if</span>(arr[j] == <span class="number">0</span>)&#123;</span><br><span class="line">arr[j] = test[i][<span class="number">0</span>];</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">get</span> <span class="params">(<span class="keyword">int</span> arr[MAX], <span class="keyword">int</span> test[MAX][<span class="number">3</span>], <span class="keyword">int</span> judge, <span class="keyword">int</span> n, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> i,j;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;k;i++)&#123;</span><br><span class="line"><span class="keyword">if</span>(test[i][<span class="number">1</span>] == judge)&#123;</span><br><span class="line"><span class="keyword">for</span>(j=<span class="number">0</span>;j&lt;n;j++)&#123;</span><br><span class="line"><span class="keyword">if</span>(arr[j] == test[i][<span class="number">0</span>])&#123;</span><br><span class="line">arr[j] = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">key</span> <span class="params">(<span class="keyword">int</span> arr[MAX], <span class="keyword">int</span> test[MAX][<span class="number">3</span>], <span class="keyword">int</span> schedule[ALL], <span class="keyword">int</span> n, <span class="keyword">int</span> m, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> i,j,q,flag;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;m;i++)&#123;</span><br><span class="line"><span class="keyword">if</span>(schedule[i]!=schedule[i+<span class="number">1</span>])&#123;</span><br><span class="line"><span class="built_in">put</span>(arr, test, schedule[i], n, k);</span><br><span class="line"><span class="built_in">get</span>(arr, test, schedule[i], n, k);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(schedule[m<span class="number">-1</span>]!=schedule[m])&#123;</span><br><span class="line"><span class="built_in">put</span>(arr, test, schedule[m], n, k);</span><br><span class="line"><span class="built_in">get</span>(arr, test, schedule[m], n, k);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> i,m,n,k,arr[MAX],test[MAX][<span class="number">3</span>],schedule[ALL];</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;n,&amp;k);</span><br><span class="line">m=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;k;i++)&#123;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d%d%d"</span>, &amp;test[i][<span class="number">0</span>],&amp;test[i][<span class="number">1</span>],&amp;test[i][<span class="number">2</span>]);</span><br><span class="line">test[i][<span class="number">2</span>] += test[i][<span class="number">1</span>];</span><br><span class="line">schedule[m++] = test[i][<span class="number">1</span>];</span><br><span class="line">schedule[m++] = test[i][<span class="number">2</span>];</span><br><span class="line">&#125;</span><br><span class="line">sort(schedule, <span class="number">2</span>*k);</span><br><span class="line">sortSmallest(test, k);</span><br><span class="line">fuzhi(arr, n);</span><br><span class="line">key(arr, test, schedule, n, <span class="number">2</span>*k<span class="number">-1</span>, k);</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d "</span>, arr[i]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><ul><li>因为钥匙上有编号，所以取钥匙的时候按编号去取</li><li>还钥匙是从左向右还</li><li>还钥匙时是按钥匙序号从小到大还</li><li>当某一时刻既还钥匙又取钥匙时，是先把所有钥匙还完再取钥匙</li><li>ps: 可以将钥匙列表按从小到大排序，酱紫就可以实现第三个条件</li></ul><hr>]]></content>
      
      
      
        <tags>
            
            <tag> CCF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CCF 201703-2 题</title>
      <link href="/2020/05/20/CCF-201703-2-%E9%A2%98/"/>
      <url>/2020/05/20/CCF-201703-2-%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<h2 id="“学生排队”-题目要求"><a href="#“学生排队”-题目要求" class="headerlink" title="“学生排队” 题目要求"></a>“学生排队” 题目要求</h2><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/20170302.png" alt="学生排队"></p><h2 id="题目解答"><a href="#题目解答" class="headerlink" title="题目解答"></a>题目解答</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="meta-keyword">include</span> <span class="meta-string">"stdio.h"</span></span></span><br><span class="line"><span class="meta"># <span class="meta-keyword">define</span> MAX 1000</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> i,j,k,temp,m,n,arr[MAX],test[MAX][<span class="number">2</span>];</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;m, &amp;n);</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;test[i][<span class="number">0</span>], &amp;test[i][<span class="number">1</span>]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(j=<span class="number">0</span>;j&lt;m;j++)&#123;</span><br><span class="line">arr[j]=j+<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line"><span class="keyword">for</span>(j=<span class="number">0</span>;j&lt;m;j++)&#123;</span><br><span class="line"><span class="keyword">if</span>(arr[j] == test[i][<span class="number">0</span>])&#123;</span><br><span class="line">temp = arr[j];</span><br><span class="line"><span class="keyword">if</span>(test[i][<span class="number">1</span>]&gt;<span class="number">0</span>)&#123;</span><br><span class="line"><span class="keyword">for</span>(k=j;k&lt;j+test[i][<span class="number">1</span>];k++)&#123;</span><br><span class="line">arr[k]=arr[k+<span class="number">1</span>];</span><br><span class="line">&#125;</span><br><span class="line">arr[k]=temp;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">for</span>(k=j;k&gt;j+test[i][<span class="number">1</span>];k--)&#123;</span><br><span class="line">arr[k]=arr[k<span class="number">-1</span>];</span><br><span class="line">&#125;</span><br><span class="line">arr[k]=temp;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;m;i++)&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d "</span>, arr[i]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><ul><li>选中数字移动，只需要注意，前移还是后移。</li></ul><hr>]]></content>
      
      
      
        <tags>
            
            <tag> CCF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CSS 之 position</title>
      <link href="/2020/05/11/CSS-%E4%B9%8B-position/"/>
      <url>/2020/05/11/CSS-%E4%B9%8B-position/</url>
      
        <content type="html"><![CDATA[<h2 id="常见用法及介绍"><a href="#常见用法及介绍" class="headerlink" title="常见用法及介绍"></a>常见用法及介绍</h2><blockquote><p>CSS position属性用于指定一个元素在文档中的定位方式。top，right，bottom 和 left 属性则决定了该元素的最终位置。</p></blockquote><ol><li>static: 该关键字指定元素使用正常的布局行为，即元素在文档常规流中当前的布局位置。此时 top, right, bottom, left 和 z-index 属性无效</li><li>relative: 该关键字下，元素先放置在未添加定位时的位置，再在不改变页面布局的前提下调整元素位置（因此会在此元素未添加定位时所在位置留下空白）。position:relative 对 table-*-group, table-row, table-column, table-cell, table-caption 元素无效。</li><li>absolute: 元素会被移出正常文档流，并不为元素预留空间，通过指定元素相对于最近的非 static 定位祖先元素的偏移，来确定元素位置。绝对定位的元素可以设置外边距（margins），且不会与其他边距合并。</li></ol><ul><li>第二种情况 relative</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box"</span> <span class="attr">id</span>=<span class="string">"one"</span>&gt;</span>One<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box"</span> <span class="attr">id</span>=<span class="string">"two"</span>&gt;</span>Two<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box"</span> <span class="attr">id</span>=<span class="string">"three"</span>&gt;</span>Three<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box"</span> <span class="attr">id</span>=<span class="string">"four"</span>&gt;</span>Four<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box</span> &#123; </span><br><span class="line">  <span class="attribute">display</span>: inline-block; </span><br><span class="line">  <span class="attribute">background</span>: red; </span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100px</span>; </span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100px</span>; </span><br><span class="line">  <span class="attribute">float</span>: left; </span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">20px</span>; </span><br><span class="line">  <span class="attribute">color</span>: white; </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#three</span> &#123; </span><br><span class="line">  <span class="attribute">position</span>: relative; </span><br><span class="line">  <span class="attribute">top</span>: <span class="number">20px</span>; </span><br><span class="line">  <span class="attribute">left</span>: <span class="number">20px</span>; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>第三种情况 absolute</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box"</span> <span class="attr">id</span>=<span class="string">"one"</span>&gt;</span>One<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box"</span> <span class="attr">id</span>=<span class="string">"two"</span>&gt;</span>Two<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box"</span> <span class="attr">id</span>=<span class="string">"three"</span>&gt;</span>Three<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box"</span> <span class="attr">id</span>=<span class="string">"four"</span>&gt;</span>Four<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box</span> &#123; </span><br><span class="line">  <span class="attribute">display</span>: inline-block; </span><br><span class="line">  <span class="attribute">background</span>: red; </span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100px</span>; </span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100px</span>; </span><br><span class="line">  <span class="attribute">float</span>: left; </span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">20px</span>; </span><br><span class="line">  <span class="attribute">color</span>: white; </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#three</span> &#123; </span><br><span class="line">  <span class="attribute">position</span>: absolute; </span><br><span class="line">  <span class="attribute">top</span>: <span class="number">20px</span>; </span><br><span class="line">  <span class="attribute">left</span>: <span class="number">20px</span>; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr>]]></content>
      
      
      
        <tags>
            
            <tag> CSS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>element+vue-quill-editor 实现 富文本编辑器</title>
      <link href="/2020/05/09/element-vue-quill-editor-%E5%AE%9E%E7%8E%B0-%E5%AF%8C%E6%96%87%E6%9C%AC%E7%BC%96%E8%BE%91%E5%99%A8/"/>
      <url>/2020/05/09/element-vue-quill-editor-%E5%AE%9E%E7%8E%B0-%E5%AF%8C%E6%96%87%E6%9C%AC%E7%BC%96%E8%BE%91%E5%99%A8/</url>
      
        <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><ul><li><a href="https://www.kancloud.cn/liuwave/quill/1434140" target="_blank" rel="noopener">quill 官网</a></li><li><a href="https://github.com/surmon-china/vue-quill-editor" target="_blank" rel="noopener">vue-quill-editor 官网</a></li><li><a href="https://github.surmon.me/vue-quill-editor/" target="_blank" rel="noopener">官网 栗子</a></li><li><a href="https://element.eleme.cn/#/zh-CN/component/upload" target="_blank" rel="noopener">element 官网</a></li></ul><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install vue-quill-editor --save</span><br></pre></td></tr></table></figure><h2 id="单文件使用-vue-quill-editor"><a href="#单文件使用-vue-quill-editor" class="headerlink" title="单文件使用 vue-quill-editor"></a>单文件使用 vue-quill-editor</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">"自定义富文本编辑器:"</span> <span class="attr">prop</span>=<span class="string">"answer"</span> <span class="attr">v-loading</span>=<span class="string">"quillUpdateImg"</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- // 用于替换图片base64,上传 formdata--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-upload</span></span></span><br><span class="line"><span class="tag">    <span class="attr">class</span>=<span class="string">"avatar-uploader"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">action</span>=<span class="string">"#"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">name</span>=<span class="string">"img"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">multiple</span></span></span><br><span class="line"><span class="tag">    <span class="attr">:http-request</span>=<span class="string">"uploadFile"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">:show-file-list</span>=<span class="string">"false"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">:before-upload</span>=<span class="string">"beforeUpload"</span></span></span><br><span class="line"><span class="tag">  &gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">el-upload</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- 富文本编辑器 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">quill-editor</span></span></span><br><span class="line"><span class="tag">    <span class="attr">v-loading</span>=<span class="string">"quillUpdateImg"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">v-model</span>=<span class="string">"form.answer"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">ref</span>=<span class="string">"myQuillEditor"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">:options</span>=<span class="string">"editorOption"</span></span></span><br><span class="line"><span class="tag">    @<span class="attr">change</span>=<span class="string">"onEditorChange($event)"</span></span></span><br><span class="line"><span class="tag">  &gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">quill-editor</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">"quill/dist/quill.snow.css"</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; quillEditor &#125; <span class="keyword">from</span> <span class="string">"vue-quill-editor"</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; putImg &#125; <span class="keyword">from</span> <span class="string">"你的路径"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> toolbarOptions = [</span><br><span class="line">  [<span class="string">"bold"</span>, <span class="string">"italic"</span>, <span class="string">"blockquote"</span>], <span class="comment">// toggled buttons</span></span><br><span class="line">  [&#123; <span class="attr">header</span>: <span class="number">1</span> &#125;, &#123; <span class="attr">header</span>: <span class="number">2</span> &#125;], <span class="comment">// custom button values</span></span><br><span class="line">  [&#123; <span class="attr">indent</span>: <span class="string">"-1"</span> &#125;, &#123; <span class="attr">indent</span>: <span class="string">"+1"</span> &#125;], <span class="comment">// outdent/indent</span></span><br><span class="line">  [&#123; <span class="attr">direction</span>: <span class="string">"rtl"</span> &#125;], <span class="comment">// text direction</span></span><br><span class="line">  [&#123; <span class="attr">size</span>: [<span class="string">"small"</span>, <span class="literal">false</span>, <span class="string">"large"</span>, <span class="string">"huge"</span>] &#125;], <span class="comment">// custom dropdown</span></span><br><span class="line">  [&#123; <span class="attr">header</span>: [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="literal">false</span>] &#125;],</span><br><span class="line">  [&#123; <span class="attr">color</span>: [] &#125;, &#123; <span class="attr">background</span>: [] &#125;], <span class="comment">// dropdown with defaults from theme</span></span><br><span class="line">  [&#123; <span class="attr">font</span>: [] &#125;],</span><br><span class="line">  [&#123; <span class="attr">align</span>: [] &#125;],</span><br><span class="line">  [<span class="string">"link"</span>, <span class="string">"image"</span>],</span><br><span class="line">  [<span class="string">"clean"</span>]</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  data() &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      form: &#123;&#125;,</span><br><span class="line">      quillUpdateImg: <span class="literal">false</span>,</span><br><span class="line">      editorOption: &#123;</span><br><span class="line">        placeholder: <span class="string">"请在此输入要编辑的问题答案..."</span>,</span><br><span class="line">        theme: <span class="string">"snow"</span>,</span><br><span class="line">        modules: &#123;</span><br><span class="line">          toolbar: &#123;</span><br><span class="line">            container: toolbarOptions,</span><br><span class="line">            handlers: &#123;</span><br><span class="line">              image: <span class="function"><span class="keyword">function</span>(<span class="params">value</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">if</span> (value) &#123;</span><br><span class="line">                  <span class="built_in">document</span>.querySelector(<span class="string">".avatar-uploader input"</span>).click();</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                  <span class="keyword">this</span>.quill.format(<span class="string">"image"</span>, <span class="literal">false</span>);</span><br><span class="line">                &#125;</span><br><span class="line">              &#125;</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    quillEditor</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    <span class="comment">// 监听改变的编辑文本</span></span><br><span class="line">    onEditorChange(&#123; html &#125;) &#123;</span><br><span class="line">      <span class="comment">//内容改变事件</span></span><br><span class="line">      <span class="comment">// console.log("---内容改变事件---");</span></span><br><span class="line">      <span class="keyword">this</span>.form.answer = html;</span><br><span class="line">      <span class="comment">// console.log(html);</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// 富文本图片上传前</span></span><br><span class="line">    beforeUpload() &#123;</span><br><span class="line">      <span class="keyword">this</span>.quillUpdateImg = <span class="literal">true</span>;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// 上传图片并</span></span><br><span class="line">    uploadFile(res) &#123;</span><br><span class="line">      <span class="comment">// 显示loading动画</span></span><br><span class="line">      <span class="keyword">let</span> formData = <span class="keyword">new</span> FormData();</span><br><span class="line">      formData.append(<span class="string">"name"</span>, res.file.name);</span><br><span class="line">      formData.append(<span class="string">"lastModified"</span>, res.file.lastModified);</span><br><span class="line">      formData.append(<span class="string">"lastModifiedDate"</span>, res.file.lastModifiedDate);</span><br><span class="line">      formData.append(<span class="string">"webkitRelativePath"</span>, res.file.webkitRelativePath);</span><br><span class="line">      formData.append(<span class="string">"size"</span>, res.file.size);</span><br><span class="line">      formData.append(<span class="string">"type"</span>, res.file.type);</span><br><span class="line">      formData.append(<span class="string">"uid"</span>, res.file.uid);</span><br><span class="line">      formData.append(<span class="string">"file"</span>, res.file);</span><br><span class="line">      <span class="comment">// console.log("上传", res.file);</span></span><br><span class="line">      putImg(formData) <span class="comment">// 上传图片</span></span><br><span class="line">        .then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">          <span class="comment">// console.log(res.data);s</span></span><br><span class="line">          <span class="keyword">let</span> quill = <span class="keyword">this</span>.$refs.myQuillEditor.quill;</span><br><span class="line">          <span class="keyword">let</span> length = quill.getSelection().index;</span><br><span class="line">          quill.insertEmbed(length, <span class="string">"image"</span>, res.data.data);</span><br><span class="line">          quill.setSelection(length + <span class="number">1</span>);</span><br><span class="line">          <span class="keyword">this</span>.quillUpdateImg = <span class="literal">false</span>;</span><br><span class="line">        &#125;)</span><br><span class="line">        .catch(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">          <span class="comment">// console.log(err);</span></span><br><span class="line">          <span class="keyword">this</span>.$message.error(<span class="string">"图片插入失败"</span>);</span><br><span class="line">          <span class="keyword">this</span>.quillUpdateImg = <span class="literal">false</span>;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr>]]></content>
      
      
      
        <tags>
            
            <tag> Vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CCF 201604-2 题</title>
      <link href="/2020/05/08/CCF-201604-2-%E9%A2%98/"/>
      <url>/2020/05/08/CCF-201604-2-%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<h2 id="“俄罗斯方块”-题目要求"><a href="#“俄罗斯方块”-题目要求" class="headerlink" title="“俄罗斯方块” 题目要求"></a>“俄罗斯方块” 题目要求</h2><p><strong>问题描述:</strong><br>　　俄罗斯方块是俄罗斯人阿列克谢·帕基特诺夫发明的一款休闲游戏。<br>　　游戏在一个15行10列的方格图上进行，方格图上的每一个格子可能已经放置了方块，或者没有放置方块。每一轮，都会有一个新的由4个小方块组成的板块从方格图的上方落下，玩家可以操作板块左右移动放到合适的位置，当板块中某一个方块的下边缘与方格图上的方块上边缘重合或者达到下边界时，板块不再移动，如果此时方格图的某一行全放满了方块，则该行被消除并得分。<br>　　在这个问题中，你需要写一个程序来模拟板块下落，你不需要处理玩家的操作，也不需要处理消行和得分。<br>　　具体的，给定一个初始的方格图，以及一个板块的形状和它下落的初始位置，你要给出最终的方格图。<br><strong>输入格式:</strong><br>　　输入的前15行包含初始的方格图，每行包含10个数字，相邻的数字用空格分隔。如果一个数字是0，表示对应的方格中没有方块，如果数字是1，则表示初始的时候有方块。输入保证前4行中的数字都是0。<br>　　输入的第16至第19行包含新加入的板块的形状，每行包含4个数字，组成了板块图案，同样0表示没方块，1表示有方块。输入保证板块的图案中正好包含4个方块，且4个方块是连在一起的（准确的说，4个方块是四连通的，即给定的板块是俄罗斯方块的标准板块）。<br>　　第20行包含一个1到7之间的整数，表示板块图案最左边开始的时候是在方格图的哪一列中。注意，这里的板块图案指的是16至19行所输入的板块图案，如果板块图案的最左边一列全是0，则它的左边和实际所表示的板块的左边是不一致的（见样例）<br><strong>输出格式:</strong><br>　　输出15行，每行10个数字，相邻的数字之间用一个空格分隔，表示板块下落后的方格图。注意，你不需要处理最终的消行。<br><strong>样例输入:</strong><br>0 0 0 0 0 0 0 0 0 0<br>0 0 0 0 0 0 0 0 0 0<br>0 0 0 0 0 0 0 0 0 0<br>0 0 0 0 0 0 0 0 0 0<br>0 0 0 0 0 0 0 0 0 0<br>0 0 0 0 0 0 0 0 0 0<br>0 0 0 0 0 0 0 0 0 0<br>0 0 0 0 0 0 0 0 0 0<br>0 0 0 0 0 0 0 0 0 0<br>0 0 0 0 0 0 0 0 0 0<br>0 0 0 0 0 0 0 1 0 0<br>0 0 0 0 0 0 1 0 0 0<br>0 0 0 0 0 0 1 0 0 0<br>1 1 1 0 0 0 1 1 1 1<br>0 0 0 0 1 0 0 0 0 0<br>0 0 0 0<br>0 1 1 1<br>0 0 0 1<br>0 0 0 0<br>3<br><strong>样例输出:</strong><br>0 0 0 0 0 0 0 0 0 0<br>0 0 0 0 0 0 0 0 0 0<br>0 0 0 0 0 0 0 0 0 0<br>0 0 0 0 0 0 0 0 0 0<br>0 0 0 0 0 0 0 0 0 0<br>0 0 0 0 0 0 0 0 0 0<br>0 0 0 0 0 0 0 0 0 0<br>0 0 0 0 0 0 0 0 0 0<br>0 0 0 0 0 0 0 0 0 0<br>0 0 0 0 0 0 0 0 0 0<br>0 0 0 0 0 0 0 1 0 0<br>0 0 0 0 0 0 1 0 0 0<br>0 0 0 0 0 0 1 0 0 0<br>1 1 1 1 1 1 1 1 1 1<br>0 0 0 0 1 1 0 0 0 0</p><h2 id="题目解答"><a href="#题目解答" class="headerlink" title="题目解答"></a>题目解答</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="meta-keyword">include</span> <span class="meta-string">"stdio.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">fuzhi</span><span class="params">(<span class="keyword">int</span> arr[<span class="number">15</span>][<span class="number">10</span>], <span class="keyword">int</span> test[<span class="number">4</span>][<span class="number">4</span>], <span class="keyword">int</span> m, <span class="keyword">int</span> n, <span class="keyword">int</span> count)</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> i,j,<span class="built_in">min</span>;</span><br><span class="line"><span class="built_in">min</span> = m+<span class="number">4</span>;</span><br><span class="line"><span class="built_in">min</span>=<span class="built_in">min</span>&gt;<span class="number">15</span>?<span class="number">15</span>:<span class="built_in">min</span>;</span><br><span class="line"><span class="keyword">for</span>(i=m+count;i&lt;<span class="built_in">min</span>;i++)&#123;</span><br><span class="line"><span class="keyword">for</span>(j=<span class="number">0</span>;j&lt;<span class="number">4</span>;j++)&#123;</span><br><span class="line">arr[i][n+j] = test[i-m-count][j] ? test[i-m-count][j] : arr[i][n+j];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">tetris</span> <span class="params">(<span class="keyword">int</span> arr[<span class="number">15</span>][<span class="number">10</span>], <span class="keyword">int</span> test[<span class="number">4</span>][<span class="number">4</span>], <span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> i,j,k,flag,count;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;<span class="number">15</span>;i++)&#123;</span><br><span class="line">flag = <span class="number">0</span>;</span><br><span class="line">count = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(j=<span class="number">0</span>;j&lt;<span class="number">4</span>;j++)&#123;</span><br><span class="line"><span class="keyword">if</span>(arr[i][n+j]) &#123;</span><br><span class="line">flag = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(flag)&#123;</span><br><span class="line"><span class="keyword">for</span>(j=<span class="number">3</span>;j&gt;=<span class="number">0</span>;j--)&#123;</span><br><span class="line"><span class="keyword">for</span>(k=<span class="number">0</span>;k&lt;<span class="number">4</span>;k++)&#123;</span><br><span class="line"><span class="keyword">if</span>(arr[i][n+k] &amp;&amp; test[j][k])&#123;</span><br><span class="line">fuzhi(arr, test, i-j<span class="number">-1</span>, n, count);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125; </span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">3</span>;i&gt;=<span class="number">0</span>;i--)&#123;</span><br><span class="line"><span class="keyword">if</span>(!test[i][<span class="number">0</span>]&amp;&amp;!test[i][<span class="number">1</span>]&amp;&amp;!test[i][<span class="number">2</span>]&amp;&amp;!test[i][<span class="number">3</span>])&#123;</span><br><span class="line">count++;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">fuzhi(arr, test, <span class="number">11</span>, n, count);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> arr[<span class="number">15</span>][<span class="number">10</span>],test[<span class="number">4</span>][<span class="number">4</span>],n;</span><br><span class="line"><span class="keyword">int</span> i,j;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;<span class="number">15</span>;i++)&#123;</span><br><span class="line"><span class="keyword">for</span>(j=<span class="number">0</span>;j&lt;<span class="number">10</span>;j++)&#123;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;arr[i][j]);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;<span class="number">4</span>;i++)&#123;</span><br><span class="line"><span class="keyword">for</span>(j=<span class="number">0</span>;j&lt;<span class="number">4</span>;j++)&#123;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;test[i][j]);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n); </span><br><span class="line">tetris(arr, test, n<span class="number">-1</span>);</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;<span class="number">15</span>;i++)&#123;</span><br><span class="line"><span class="keyword">for</span>(j=<span class="number">0</span>;j&lt;<span class="number">10</span>;j++)&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d "</span>, arr[i][j]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><ul><li>下落的起始列位置 n-1;</li><li>当下落有阻碍时停止 &amp;&amp; 输出 俄罗斯方块结果图</li><li>特别注意，当下滑到最后一行时，如果测试的滑块的最后几行是 0 的话，是可以继续往后滑动的（一个小坑）</li></ul><hr>]]></content>
      
      
      
        <tags>
            
            <tag> CCF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CCF 201609-2 题</title>
      <link href="/2020/05/08/CCF-201609-2-%E9%A2%98/"/>
      <url>/2020/05/08/CCF-201609-2-%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<h2 id="“火车购票”-题目要求"><a href="#“火车购票”-题目要求" class="headerlink" title="“火车购票” 题目要求"></a>“火车购票” 题目要求</h2><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/20160902.png" alt="火车购票"></p><h2 id="题目解答"><a href="#题目解答" class="headerlink" title="题目解答"></a>题目解答</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="meta-keyword">include</span> <span class="meta-string">"stdio.h"</span></span></span><br><span class="line"><span class="meta"># <span class="meta-keyword">define</span> MAX 100</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">buyTickets</span><span class="params">(<span class="keyword">int</span> i, <span class="keyword">int</span> test[MAX],<span class="keyword">int</span> res[MAX][<span class="number">5</span>],<span class="keyword">int</span> arr[<span class="number">20</span>][<span class="number">5</span>])</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> j,k,count,len;</span><br><span class="line">count=<span class="number">-1</span>;</span><br><span class="line"><span class="keyword">for</span>(j=<span class="number">0</span>;j&lt;<span class="number">20</span>;j++)&#123;</span><br><span class="line">len=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(k=<span class="number">0</span>;k&lt;<span class="number">5</span>;k++)&#123;</span><br><span class="line"><span class="keyword">if</span>(arr[j][k])&#123;</span><br><span class="line">len++;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(len&gt;=test[i])&#123;</span><br><span class="line">count=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(k=<span class="number">0</span>;k&lt;<span class="number">5</span>;k++)&#123;</span><br><span class="line"><span class="keyword">if</span>(count==test[i])&#123;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(arr[j][k])&#123;</span><br><span class="line">res[i][count++]=arr[j][k];</span><br><span class="line">arr[j][k]=<span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(count==<span class="number">-1</span>)&#123;</span><br><span class="line">count=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(j=<span class="number">0</span>;j&lt;<span class="number">20</span>;j++)&#123;</span><br><span class="line"><span class="keyword">if</span>(count==test[i])&#123;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(k=<span class="number">0</span>;k&lt;<span class="number">5</span>;k++)&#123;</span><br><span class="line"><span class="keyword">if</span>(count==test[i])&#123;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(arr[j][k])&#123;</span><br><span class="line">res[i][count++]=arr[j][k];</span><br><span class="line">arr[j][k]=<span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> i,j,k,n,test[MAX],res[MAX][<span class="number">5</span>],arr[<span class="number">20</span>][<span class="number">5</span>];</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;test[i]);</span><br><span class="line">&#125;</span><br><span class="line">k=<span class="number">1</span>;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;<span class="number">20</span>;i++)&#123;</span><br><span class="line"><span class="keyword">for</span>(j=<span class="number">0</span>;j&lt;<span class="number">5</span>;j++)&#123;</span><br><span class="line">arr[i][j]=k++;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">buyTickets(i, test,res,arr);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line"><span class="keyword">for</span>(j=<span class="number">0</span>;j&lt;test[i];j++)&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d "</span>, res[i][j]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><ul><li>1排5座，一共20排</li><li>买票，座位优先（相邻 &amp;&amp; 从小到大）</li><li>其次， 如果相邻座位没有了，就单纯从小到大买票</li></ul><hr>]]></content>
      
      
      
        <tags>
            
            <tag> CCF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CCF 201612-2 题</title>
      <link href="/2020/05/08/CCF-201612-2-%E9%A2%98/"/>
      <url>/2020/05/08/CCF-201612-2-%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<h2 id="“工资计算”-题目要求"><a href="#“工资计算”-题目要求" class="headerlink" title="“工资计算” 题目要求"></a>“工资计算” 题目要求</h2><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/20161202.png" alt="工资计算"></p><h2 id="题目解答"><a href="#题目解答" class="headerlink" title="题目解答"></a>题目解答</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="meta-keyword">include</span> <span class="meta-string">"stdio.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> i,T,S;</span><br><span class="line"><span class="keyword">int</span> arr[<span class="number">6</span>]=&#123;<span class="number">4955</span>,<span class="number">7655</span>,<span class="number">11255</span>,<span class="number">30755</span>,<span class="number">44755</span>,<span class="number">61005</span>&#125;;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;T);</span><br><span class="line"><span class="keyword">if</span>(T&lt;=<span class="number">3500</span>)&#123;</span><br><span class="line">S=T;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d"</span>, S);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;<span class="number">6</span>;i++)&#123;</span><br><span class="line"><span class="keyword">if</span>(T&lt;arr[i])&#123;</span><br><span class="line"><span class="keyword">switch</span>(i)&#123;</span><br><span class="line"><span class="keyword">case</span> <span class="number">0</span>: </span><br><span class="line">S = <span class="number">3500</span>+(T<span class="number">-3500</span>)/<span class="number">0.97</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="number">1</span>: </span><br><span class="line">S = <span class="number">3500</span>+<span class="number">1500</span>+(T<span class="number">-4955</span>)/<span class="number">0.9</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="number">2</span>: </span><br><span class="line">S = <span class="number">3500</span>+<span class="number">1500</span>+<span class="number">3000</span>+(T<span class="number">-7655</span>)/<span class="number">0.8</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="number">3</span>: </span><br><span class="line">S = <span class="number">3500</span>+<span class="number">1500</span>+<span class="number">3000</span>+<span class="number">4500</span>+(T<span class="number">-11255</span>)/<span class="number">0.75</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="number">4</span>: </span><br><span class="line">S = <span class="number">3500</span>+<span class="number">1500</span>+<span class="number">3000</span>+<span class="number">4500</span>+<span class="number">26000</span>+(T<span class="number">-30755</span>)/<span class="number">0.7</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="number">5</span>: </span><br><span class="line">S = <span class="number">3500</span>+<span class="number">1500</span>+<span class="number">3000</span>+<span class="number">4500</span>+<span class="number">26000</span>+<span class="number">20000</span>+(T<span class="number">-44755</span>)/<span class="number">0.65</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d"</span>, S);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>; </span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">S = <span class="number">3500</span>+<span class="number">1500</span>+<span class="number">3000</span>+<span class="number">4500</span>+<span class="number">26000</span>+<span class="number">20000</span>+<span class="number">25000</span>+(T<span class="number">-61005</span>)/<span class="number">0.55</span>;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d"</span>, S);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><ul><li>个人所得税起征点为3500元，若S不超过3500，则不交税，3500元以上的部分才计算个人所得税，令A=S-3500元；</li><li>A中不超过1500元的部分，税率3%；</li><li>A中超过1500元未超过4500元的部分，税率10%；</li><li>A中超过4500元未超过9000元的部分，税率20%；</li><li>A中超过9000元未超过35000元的部分，税率25%；</li><li>A中超过35000元未超过55000元的部分，税率30%；</li><li>A中超过55000元未超过80000元的部分，税率35%；</li><li>A中超过80000元的部分，税率45%；</li></ul><p>just 分情况写，记得写全且准确。</p><hr>]]></content>
      
      
      
        <tags>
            
            <tag> CCF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CCF 201503-2 题</title>
      <link href="/2020/05/07/CCF-201503-2-%E9%A2%98/"/>
      <url>/2020/05/07/CCF-201503-2-%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<h2 id="“数字排序”-题目要求"><a href="#“数字排序”-题目要求" class="headerlink" title="“数字排序” 题目要求"></a>“数字排序” 题目要求</h2><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/20150302.png" alt="数字排序"></p><h2 id="题目解答"><a href="#题目解答" class="headerlink" title="题目解答"></a>题目解答</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="meta-keyword">include</span> <span class="meta-string">"stdio.h"</span></span></span><br><span class="line"><span class="meta"># <span class="meta-keyword">define</span> MAX 1000</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> i,j,k,n,<span class="built_in">min</span>,<span class="built_in">max</span>, pos,temp;</span><br><span class="line">short res[MAX][<span class="number">2</span>], arr[MAX];</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;arr[i]);</span><br><span class="line">&#125;</span><br><span class="line">k=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line"><span class="keyword">if</span>(arr[i])&#123;</span><br><span class="line">res[k][<span class="number">0</span>]= arr[i];</span><br><span class="line">res[k][<span class="number">1</span>]=<span class="number">1</span>;</span><br><span class="line">k++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(j=i+<span class="number">1</span>;j&lt;n;j++)&#123;</span><br><span class="line"><span class="keyword">if</span>(res[k<span class="number">-1</span>][<span class="number">0</span>]==arr[j])&#123;</span><br><span class="line">res[k<span class="number">-1</span>][<span class="number">1</span>]++;</span><br><span class="line">arr[j]=<span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">n=k;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line"><span class="built_in">min</span> = res[i][<span class="number">0</span>];</span><br><span class="line">pos = i;</span><br><span class="line"><span class="keyword">for</span>(j=i+<span class="number">1</span>;j&lt;n;j++)&#123;</span><br><span class="line"><span class="keyword">if</span>(<span class="built_in">min</span> &gt; res[j][<span class="number">0</span>])&#123;</span><br><span class="line"><span class="built_in">min</span>=res[j][<span class="number">0</span>];</span><br><span class="line">pos=j;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">temp=res[pos][<span class="number">1</span>];</span><br><span class="line">res[pos][<span class="number">1</span>]=res[i][<span class="number">1</span>];</span><br><span class="line">res[pos][<span class="number">0</span>]=res[i][<span class="number">0</span>];</span><br><span class="line">res[i][<span class="number">1</span>]=temp;</span><br><span class="line">res[i][<span class="number">0</span>]=<span class="built_in">min</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line"><span class="built_in">max</span> = res[i][<span class="number">1</span>];</span><br><span class="line">pos = i;</span><br><span class="line">temp = res[i][<span class="number">0</span>];</span><br><span class="line"><span class="keyword">for</span>(j=i+<span class="number">1</span>;j&lt;n;j++)&#123;</span><br><span class="line"><span class="keyword">if</span>(<span class="built_in">max</span> &lt; res[j][<span class="number">1</span>])&#123;</span><br><span class="line"><span class="built_in">max</span>=res[j][<span class="number">1</span>];</span><br><span class="line">temp=res[j][<span class="number">0</span>];</span><br><span class="line">pos=j;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(k=pos;k&gt;i;k--)&#123;</span><br><span class="line">res[k][<span class="number">0</span>]=res[k<span class="number">-1</span>][<span class="number">0</span>];</span><br><span class="line">res[k][<span class="number">1</span>]=res[k<span class="number">-1</span>][<span class="number">1</span>];</span><br><span class="line">&#125;</span><br><span class="line">res[i][<span class="number">0</span>]=temp;</span><br><span class="line">res[i][<span class="number">1</span>]=<span class="built_in">max</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d %d \n"</span>, res[i][<span class="number">0</span>], res[i][<span class="number">1</span>]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><ul><li>统计相同数字出现次数并记录</li><li>将数字从小到大排序</li><li>将数字按出现的次数从大到小排序，同时注意数字的大小顺序</li></ul><hr>]]></content>
      
      
      
        <tags>
            
            <tag> CCF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CCF 201509-2 题</title>
      <link href="/2020/05/07/CCF-201509-2-%E9%A2%98/"/>
      <url>/2020/05/07/CCF-201509-2-%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<h2 id="“日期计算”-题目要求"><a href="#“日期计算”-题目要求" class="headerlink" title="“日期计算” 题目要求"></a>“日期计算” 题目要求</h2><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/20150902.png" alt="日期计算"></p><h2 id="题目解答"><a href="#题目解答" class="headerlink" title="题目解答"></a>题目解答</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="meta-keyword">include</span> <span class="meta-string">"stdio.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">JudgeDay</span> <span class="params">(<span class="keyword">int</span> d, <span class="keyword">int</span> temp)</span></span>&#123;</span><br><span class="line"><span class="keyword">if</span>(d-temp&gt;<span class="number">0</span>)&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> y,d,month,day,flag,temp;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;y,&amp;d);</span><br><span class="line">flag = ((y%<span class="number">400</span>==<span class="number">0</span>) || (y%<span class="number">4</span>==<span class="number">0</span> &amp;&amp; y%<span class="number">100</span>!=<span class="number">0</span>))?<span class="number">1</span>:<span class="number">0</span>;</span><br><span class="line">month=<span class="number">1</span>;</span><br><span class="line"><span class="keyword">while</span>(d&gt;<span class="number">0</span>)&#123;</span><br><span class="line"><span class="keyword">switch</span>(month)&#123;</span><br><span class="line"><span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line"><span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line"><span class="keyword">case</span> <span class="number">5</span>:</span><br><span class="line"><span class="keyword">case</span> <span class="number">7</span>:</span><br><span class="line"><span class="keyword">case</span> <span class="number">8</span>:</span><br><span class="line"><span class="keyword">case</span> <span class="number">10</span>:</span><br><span class="line"><span class="keyword">case</span> <span class="number">12</span>:</span><br><span class="line">temp=<span class="number">31</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">temp=<span class="number">28</span>+flag;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="number">4</span>:</span><br><span class="line"><span class="keyword">case</span> <span class="number">6</span>:</span><br><span class="line"><span class="keyword">case</span> <span class="number">9</span>:</span><br><span class="line"><span class="keyword">case</span> <span class="number">11</span>:</span><br><span class="line">temp=<span class="number">30</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(JudgeDay(d,temp))&#123;</span><br><span class="line">month+=<span class="number">1</span>;</span><br><span class="line">d-=temp;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">day=d;</span><br><span class="line">d=<span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d\n%d"</span>, month,day);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><ul><li>判断是否是闰年</li><li>根据当前月份的天数，确定位于哪个月份的哪一天</li></ul><hr>]]></content>
      
      
      
        <tags>
            
            <tag> CCF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CCF 201512-2 题</title>
      <link href="/2020/05/07/CCF-201512-2-%E9%A2%98/"/>
      <url>/2020/05/07/CCF-201512-2-%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<h2 id="“消除类游戏”-题目要求"><a href="#“消除类游戏”-题目要求" class="headerlink" title="“消除类游戏” 题目要求"></a>“消除类游戏” 题目要求</h2><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/20151202.png" alt="消除类游戏"></p><h2 id="题目解答"><a href="#题目解答" class="headerlink" title="题目解答"></a>题目解答</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="meta-keyword">include</span> <span class="meta-string">"stdio.h"</span></span></span><br><span class="line"><span class="meta"># <span class="meta-keyword">define</span> MAX 30</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> i,j,k,flag,m,n,arr[MAX][MAX],temp[MAX][MAX];</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;n,&amp;m);</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line"><span class="keyword">for</span>(j=<span class="number">0</span>;j&lt;m;j++)&#123;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;arr[i][j]);</span><br><span class="line">temp[i][j]=<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">flag=<span class="number">1</span>;</span><br><span class="line"><span class="keyword">for</span>(j=<span class="number">0</span>;j&lt;m<span class="number">-1</span>;j++)&#123;</span><br><span class="line">flag=arr[i][j]==arr[i][j+<span class="number">1</span>]?flag+<span class="number">1</span>:<span class="number">1</span>;</span><br><span class="line"><span class="keyword">if</span>(flag&gt;=<span class="number">3</span>)&#123;</span><br><span class="line"><span class="keyword">for</span>(k=j+<span class="number">1</span>;k&gt;j+<span class="number">1</span>-flag;k--)&#123;</span><br><span class="line">temp[i][k]=<span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;m;i++)&#123;</span><br><span class="line">flag=<span class="number">1</span>;</span><br><span class="line"><span class="keyword">for</span>(j=<span class="number">0</span>;j&lt;n<span class="number">-1</span>;j++)&#123;</span><br><span class="line">flag=arr[j][i]==arr[j+<span class="number">1</span>][i]?flag+<span class="number">1</span>:<span class="number">1</span>;</span><br><span class="line"><span class="keyword">if</span>(flag&gt;=<span class="number">3</span>)&#123;</span><br><span class="line"><span class="keyword">for</span>(k=j+<span class="number">1</span>;k&gt;j+<span class="number">1</span>-flag;k--)&#123;</span><br><span class="line">temp[k][i]=<span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line"><span class="keyword">for</span>(j=<span class="number">0</span>;j&lt;m;j++)&#123;</span><br><span class="line"><span class="keyword">if</span>(temp[i][j]==<span class="number">0</span>)&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d "</span>, temp[i][j]);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d "</span>, arr[i][j]);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><ul><li>n 行 m 列的棋盘， 数字为 1-9。</li><li>当一行 OR 一列 相同的数字连续出现 &gt;= 3次，就消除。</li><li>要消除的数字可能既在行上，也在列上。</li></ul><hr>]]></content>
      
      
      
        <tags>
            
            <tag> CCF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CCF 201412-2 题</title>
      <link href="/2020/05/06/CCF-201412-2-%E9%A2%98/"/>
      <url>/2020/05/06/CCF-201412-2-%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<h2 id="“Z字形扫描”-题目要求"><a href="#“Z字形扫描”-题目要求" class="headerlink" title="“Z字形扫描” 题目要求"></a>“Z字形扫描” 题目要求</h2><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/20141202.png" alt="Z字形扫描"></p><h2 id="题目解答"><a href="#题目解答" class="headerlink" title="题目解答"></a>题目解答</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="meta-keyword">include</span> <span class="meta-string">"stdio.h"</span></span></span><br><span class="line"><span class="meta"># <span class="meta-keyword">define</span> MAX 500</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">short arr[MAX][MAX];</span><br><span class="line"><span class="keyword">int</span> i,j,n,flag;</span><br><span class="line"><span class="keyword">int</span> row,col;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line"><span class="keyword">for</span>(j=<span class="number">0</span>;j&lt;n;j++)&#123;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;arr[i][j]);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">row=<span class="number">0</span>;</span><br><span class="line">col=<span class="number">0</span>;</span><br><span class="line">flag=<span class="number">1</span>;</span><br><span class="line"><span class="keyword">while</span>(row!=n<span class="number">-1</span> || col!=n<span class="number">-1</span>)&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d "</span>, arr[row][col]);</span><br><span class="line"><span class="keyword">switch</span>(flag)&#123;</span><br><span class="line"><span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">col+=<span class="number">1</span>;</span><br><span class="line">flag=<span class="number">2</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">col-=<span class="number">1</span>;</span><br><span class="line">row+=<span class="number">1</span>;</span><br><span class="line">flag = row==n<span class="number">-1</span> || col == <span class="number">0</span> ? <span class="number">3</span> : <span class="number">2</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">row+=<span class="number">1</span>;</span><br><span class="line">flag=<span class="number">4</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="number">4</span>:</span><br><span class="line">row-=<span class="number">1</span>;</span><br><span class="line">col+=<span class="number">1</span>;</span><br><span class="line">flag = col==n<span class="number">-1</span> || row == <span class="number">0</span> ? <span class="number">1</span> : <span class="number">4</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(col==n<span class="number">-1</span>)&#123;</span><br><span class="line">flag=flag==<span class="number">1</span>?<span class="number">3</span>:<span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(row==n<span class="number">-1</span>)&#123;</span><br><span class="line">flag=flag==<span class="number">3</span>?<span class="number">1</span>:<span class="number">4</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d "</span>, arr[row][col]);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><p>左，左下，下，右上 &amp;&amp; 特殊情况处理；（按题目条件来的，可优化，暂未想到）</p><hr>]]></content>
      
      
      
        <tags>
            
            <tag> CCF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CCF 201409-2 题</title>
      <link href="/2020/05/06/CCF-201409-2-%E9%A2%98/"/>
      <url>/2020/05/06/CCF-201409-2-%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<h2 id="“画图”-题目要求"><a href="#“画图”-题目要求" class="headerlink" title="“画图” 题目要求"></a>“画图” 题目要求</h2><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/20140902.png" alt="画图"></p><h2 id="题目解答"><a href="#题目解答" class="headerlink" title="题目解答"></a>题目解答</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="meta-keyword">include</span> <span class="meta-string">"stdio.h"</span></span></span><br><span class="line"><span class="meta"># <span class="meta-keyword">define</span> MAX 101</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> n,arr[MAX][MAX];</span><br><span class="line"><span class="keyword">int</span> i,j,k,x1,x2,y1,y2,s;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">1</span>;i&lt;MAX;i++)&#123;</span><br><span class="line"><span class="keyword">for</span>(j=<span class="number">0</span>;j&lt;MAX;j++)&#123;</span><br><span class="line">arr[i][j]=<span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">s=<span class="number">0</span>;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d%d%d%d"</span>, &amp;x1,&amp;y1,&amp;x2,&amp;y2);</span><br><span class="line"><span class="keyword">for</span>(j=x1;j&lt;x2;j++)&#123;</span><br><span class="line"><span class="keyword">for</span>(k=y1;k&lt;y2;k++)&#123;</span><br><span class="line"><span class="keyword">if</span>(!arr[j][k])&#123;</span><br><span class="line">arr[j][k]=<span class="number">1</span>;</span><br><span class="line">s++;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d"</span>, s);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><h3 id="初始思路-S1-绿色；S2-紫色；S3-蓝色"><a href="#初始思路-S1-绿色；S2-紫色；S3-蓝色" class="headerlink" title="初始思路(S1: 绿色；S2: 紫色；S3: 蓝色)"></a>初始思路(S1: 绿色；S2: 紫色；S3: 蓝色)</h3><p>1） S= S1+S2+S3<br>2） S= (S1+S2)+(S2+S3)-S2<br>3） S= (S1+S2)+S3</p><p>选择了第二种办法=》发现重叠的情况会有很多种，且这之间的联系找起来比较复杂（复杂度随着图数量的增加而急速增加）</p><h3 id="后来"><a href="#后来" class="headerlink" title="后来"></a>后来</h3><p>采用给点着色的办法，已经着色的点不再重复统计=》（找到S与点之前的关联即可）</p><hr>]]></content>
      
      
      
        <tags>
            
            <tag> CCF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CCF 201409-1 题</title>
      <link href="/2020/05/06/CCF-201409-1-%E9%A2%98/"/>
      <url>/2020/05/06/CCF-201409-1-%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<h2 id="“相邻数对”-题目要求"><a href="#“相邻数对”-题目要求" class="headerlink" title="“相邻数对” 题目要求"></a>“相邻数对” 题目要求</h2><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/20140901.png" alt="相邻数对"></p><h2 id="题目解答"><a href="#题目解答" class="headerlink" title="题目解答"></a>题目解答</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="meta-keyword">include</span> <span class="meta-string">"stdio.h"</span></span></span><br><span class="line"><span class="meta"># <span class="meta-keyword">define</span> MAX 1000</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> i,j,n,count,<span class="built_in">min</span>,temp,arr[MAX];</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</span><br><span class="line">count=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;arr[i]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">temp=arr[i];</span><br><span class="line"><span class="built_in">min</span>=i;</span><br><span class="line"><span class="keyword">for</span>(j=i+<span class="number">1</span>;j&lt;n;j++)&#123;</span><br><span class="line"><span class="keyword">if</span>(arr[j]&lt;temp)&#123;</span><br><span class="line">temp=arr[j];</span><br><span class="line"><span class="built_in">min</span>=j;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">temp=arr[i];</span><br><span class="line">arr[i]=arr[<span class="built_in">min</span>];</span><br><span class="line">arr[<span class="built_in">min</span>]=temp;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;n<span class="number">-1</span>;i++)&#123;</span><br><span class="line">count = arr[i+<span class="number">1</span>]-arr[i] == <span class="number">1</span>? count+<span class="number">1</span> : count;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d"</span>, count);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><p>给定n个不同的整数，问这些数中有多少对整数，它们的值正好相差1</p><hr>]]></content>
      
      
      
        <tags>
            
            <tag> CCF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CCF 201412-1 题</title>
      <link href="/2020/05/06/CCF-201412-1-%E9%A2%98/"/>
      <url>/2020/05/06/CCF-201412-1-%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<h2 id="“门禁系统”-题目要求"><a href="#“门禁系统”-题目要求" class="headerlink" title="“门禁系统” 题目要求"></a>“门禁系统” 题目要求</h2><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/20141201.png" alt="门禁系统"></p><h2 id="题目解答"><a href="#题目解答" class="headerlink" title="题目解答"></a>题目解答</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="meta-keyword">include</span> <span class="meta-string">"stdio.h"</span></span></span><br><span class="line"><span class="meta"># <span class="meta-keyword">define</span> MAX 1000</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> i,j,n,arr[MAX],res[MAX];</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">res[i]=<span class="number">1</span>;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;arr[i]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line"><span class="keyword">for</span>(j=<span class="number">0</span>;j&lt;i;j++)&#123;</span><br><span class="line">res[i]=arr[i]==arr[j]?res[i]+<span class="number">1</span>:res[i];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d "</span>, res[i]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><p>每位读者有一个编号，每条记录用读者的编号来表示。给出读者的来访记录，请问每一条记录中的读者是第几次出现。</p><hr>]]></content>
      
      
      
        <tags>
            
            <tag> CCF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CCF 201512-1 题</title>
      <link href="/2020/05/06/CCF-201512-1-%E9%A2%98/"/>
      <url>/2020/05/06/CCF-201512-1-%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<h2 id="“数位之和”-题目要求"><a href="#“数位之和”-题目要求" class="headerlink" title="“数位之和” 题目要求"></a>“数位之和” 题目要求</h2><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/20151201.png" alt="数位之和"></p><h2 id="题目解答"><a href="#题目解答" class="headerlink" title="题目解答"></a>题目解答</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="meta-keyword">include</span> <span class="meta-string">"stdio.h"</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> n ,sum,temp;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</span><br><span class="line">sum=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span>(n&gt;<span class="number">0</span>)&#123;</span><br><span class="line">temp=n%<span class="number">10</span>;</span><br><span class="line">n=n/<span class="number">10</span>;</span><br><span class="line">sum+=temp;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d"</span>, sum);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><p>给定一个十进制整数n，输出n的各位数字之和</p><hr>]]></content>
      
      
      
        <tags>
            
            <tag> CCF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CCF 201509-1 题</title>
      <link href="/2020/05/06/CCF-201509-1-%E9%A2%98/"/>
      <url>/2020/05/06/CCF-201509-1-%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<h2 id="“数列分段”-题目要求"><a href="#“数列分段”-题目要求" class="headerlink" title="“数列分段” 题目要求"></a>“数列分段” 题目要求</h2><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/20150901.png" alt="数列分段"></p><h2 id="题目解答"><a href="#题目解答" class="headerlink" title="题目解答"></a>题目解答</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="meta-keyword">include</span> <span class="meta-string">"stdio.h"</span></span></span><br><span class="line"><span class="meta"># <span class="meta-keyword">define</span> MAX 1000</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> i,n,count,arr[MAX];</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</span><br><span class="line">count=<span class="number">1</span>;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;arr[i]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;n<span class="number">-1</span>;i++)&#123;</span><br><span class="line">count = arr[i]!=arr[i+<span class="number">1</span>]? count+<span class="number">1</span> : count;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d"</span>, count);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><p>给定一个整数数列，数列中连续相同的最长整数序列算成一段，问数列中共有多少段</p><hr>]]></content>
      
      
      
        <tags>
            
            <tag> CCF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CCF 201503-1 题</title>
      <link href="/2020/05/06/CCF-201503-1-%E9%A2%98/"/>
      <url>/2020/05/06/CCF-201503-1-%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<h2 id="“图像旋转”-题目要求"><a href="#“图像旋转”-题目要求" class="headerlink" title="“图像旋转” 题目要求"></a>“图像旋转” 题目要求</h2><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/20150301.png" alt="图像旋转"></p><h2 id="题目解答"><a href="#题目解答" class="headerlink" title="题目解答"></a>题目解答</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="meta-keyword">include</span> <span class="meta-string">"stdio.h"</span></span></span><br><span class="line"><span class="meta"># <span class="meta-keyword">define</span> MAX 1000</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> i,j,m,n;</span><br><span class="line">short arr[MAX][MAX];</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;n,&amp;m);</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line"><span class="keyword">for</span>(j=<span class="number">0</span>;j&lt;m;j++)&#123;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;arr[i][j]);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;m;i++)&#123;</span><br><span class="line"><span class="keyword">for</span>(j=<span class="number">0</span>;j&lt;n;j++)&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d "</span>, arr[j][m-i<span class="number">-1</span>]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><p>旋转是图像处理的基本操作，在这个问题中，你需要将一个图像逆时针旋转90度。</p><p>1 ≤ n, m ≤ 1,000，矩阵中的数都是不超过 1000 的非负整数，所以，数组可以设置为 short。</p><hr>]]></content>
      
      
      
        <tags>
            
            <tag> CCF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CCF 201604-1 题</title>
      <link href="/2020/05/06/CCF-201604-1-%E9%A2%98/"/>
      <url>/2020/05/06/CCF-201604-1-%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<h2 id="“折点计数”-题目要求"><a href="#“折点计数”-题目要求" class="headerlink" title="“折点计数” 题目要求"></a>“折点计数” 题目要求</h2><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/20160401.png" alt="折点计数"></p><h2 id="题目解答"><a href="#题目解答" class="headerlink" title="题目解答"></a>题目解答</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="meta-keyword">include</span> <span class="meta-string">"stdio.h"</span></span></span><br><span class="line"><span class="meta"># <span class="meta-keyword">define</span> MAX 1000</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> i, n, arr[MAX],count;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;arr[i]);</span><br><span class="line">&#125;</span><br><span class="line">count=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">1</span>;i&lt;n<span class="number">-1</span>;i++)&#123;</span><br><span class="line"><span class="keyword">if</span>(arr[i]&gt;arr[i<span class="number">-1</span>] &amp;&amp; arr[i]&gt;arr[i+<span class="number">1</span>])&#123;</span><br><span class="line">count++;</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span>(arr[i]&lt;arr[i<span class="number">-1</span>] &amp;&amp; arr[i]&lt;arr[i+<span class="number">1</span>])&#123;</span><br><span class="line">count++;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d"</span>, count);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><p>如果某天之前销售量在增长，而后一天销售量减少，则称这一天为折点，反过来如果之前销售量减少而后一天销售量增长，也称这一天为折点。其他的天都不是折点。</p><p>求折点的数量</p><hr>]]></content>
      
      
      
        <tags>
            
            <tag> CCF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CCF 201609-1 题</title>
      <link href="/2020/05/06/CCF-201609-1-%E9%A2%98/"/>
      <url>/2020/05/06/CCF-201609-1-%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<h2 id="“最大波动”-题目要求"><a href="#“最大波动”-题目要求" class="headerlink" title="“最大波动” 题目要求"></a>“最大波动” 题目要求</h2><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/20160901.png" alt="最大波动"></p><h2 id="题目解答"><a href="#题目解答" class="headerlink" title="题目解答"></a>题目解答</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="meta-keyword">include</span> <span class="meta-string">"stdio.h"</span></span></span><br><span class="line"><span class="meta"># <span class="meta-keyword">include</span> <span class="meta-string">"math.h"</span></span></span><br><span class="line"><span class="meta"># <span class="meta-keyword">define</span> MAX 1000</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> i,n,arr[MAX],<span class="built_in">max</span>;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</span><br><span class="line"><span class="built_in">max</span>=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;arr[i]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">1</span>;i&lt;n;i++)&#123;</span><br><span class="line"><span class="keyword">int</span> temp = <span class="built_in">abs</span>(arr[i]-arr[i<span class="number">-1</span>]);</span><br><span class="line"><span class="built_in">max</span> = temp &gt; <span class="built_in">max</span> ? temp : <span class="built_in">max</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d"</span>, <span class="built_in">max</span>);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><p>求这只股票连续几天的最大波动值是多少，即在这几天中某天收盘价格与前一天收盘价格之差的绝对值最大是多少</p><hr>]]></content>
      
      
      
        <tags>
            
            <tag> CCF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CCF 201612-1 题</title>
      <link href="/2020/05/05/CCF-201612-1-%E9%A2%98/"/>
      <url>/2020/05/05/CCF-201612-1-%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<h2 id="“中间数”-题目要求"><a href="#“中间数”-题目要求" class="headerlink" title="“中间数” 题目要求"></a>“中间数” 题目要求</h2><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/201612-1.png" alt="中间数"></p><h2 id="题目解答"><a href="#题目解答" class="headerlink" title="题目解答"></a>题目解答</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="meta-keyword">include</span> <span class="meta-string">"stdio.h"</span></span></span><br><span class="line"><span class="meta"># <span class="meta-keyword">define</span> MAX 1000</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> i,j,n,arr[MAX],<span class="built_in">max</span>,<span class="built_in">min</span>;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;arr[i]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line"><span class="built_in">max</span>=<span class="number">0</span>;</span><br><span class="line"><span class="built_in">min</span>=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(j=<span class="number">0</span>;j&lt;n;j++)&#123;</span><br><span class="line"><span class="built_in">max</span>+= arr[i]&gt;arr[j]? <span class="number">1</span> : <span class="number">0</span>;</span><br><span class="line"><span class="built_in">min</span>+= arr[i]&lt;arr[j]? <span class="number">1</span> : <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(<span class="built_in">max</span>==<span class="built_in">min</span>)&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d"</span>, arr[i]);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"-1"</span>);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><p>遍历数组，按题目要求找到中间数返回，否则输出 -1。</p><hr>]]></content>
      
      
      
        <tags>
            
            <tag> CCF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CCF 201712-1 题</title>
      <link href="/2020/04/29/CCF-201712-1-%E9%A2%98/"/>
      <url>/2020/04/29/CCF-201712-1-%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<h2 id="“最小差值”-题目要求"><a href="#“最小差值”-题目要求" class="headerlink" title="“最小差值” 题目要求"></a>“最小差值” 题目要求</h2><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/20171201.png" alt="最小差值"></p><h2 id="题目解答"><a href="#题目解答" class="headerlink" title="题目解答"></a>题目解答</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="meta-keyword">include</span> <span class="meta-string">"stdio.h"</span></span></span><br><span class="line"><span class="meta"># <span class="meta-keyword">include</span> <span class="meta-string">"stdlib.h"</span></span></span><br><span class="line"><span class="meta"># <span class="meta-keyword">define</span> MAX 1000</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> i,j,n,res,temp;</span><br><span class="line"><span class="keyword">int</span> test[MAX];</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;test[i]);</span><br><span class="line">&#125;</span><br><span class="line">res=<span class="built_in">abs</span>(test[<span class="number">1</span>]-test[<span class="number">0</span>]);</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line"><span class="keyword">for</span>(j=i+<span class="number">1</span>;j&lt;n;j++)&#123;</span><br><span class="line">temp=<span class="built_in">abs</span>(test[i]-test[j]);</span><br><span class="line">res=res&gt;temp?temp:res;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d"</span>,res);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><p>遍历数组，相减，找到绝对值最小的差值</p><hr>]]></content>
      
      
      
        <tags>
            
            <tag> CCF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CCF 201709-1 题</title>
      <link href="/2020/04/29/CCF-201709-1-%E9%A2%98/"/>
      <url>/2020/04/29/CCF-201709-1-%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<h2 id="“打酱油”-题目要求"><a href="#“打酱油”-题目要求" class="headerlink" title="“打酱油” 题目要求"></a>“打酱油” 题目要求</h2><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/20170901.png" alt="打酱油"></p><h2 id="题目解答"><a href="#题目解答" class="headerlink" title="题目解答"></a>题目解答</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="meta-keyword">include</span> <span class="meta-string">"stdio.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> n,sum;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</span><br><span class="line">n=n/<span class="number">10</span>;</span><br><span class="line">sum=n+(n/<span class="number">5</span>)*<span class="number">2</span>+(n-(n/<span class="number">5</span>)*<span class="number">5</span>)/<span class="number">3</span>;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d"</span>, sum);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><p>将钱分成 50，30，其他=》按条件累加</p><hr>]]></content>
      
      
      
        <tags>
            
            <tag> CCF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CCF 201703-1 题</title>
      <link href="/2020/04/29/CCF-201703-1-%E9%A2%98/"/>
      <url>/2020/04/29/CCF-201703-1-%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<h2 id="“分蛋糕”-题目要求"><a href="#“分蛋糕”-题目要求" class="headerlink" title="“分蛋糕” 题目要求"></a>“分蛋糕” 题目要求</h2><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/20170301.png" alt="分蛋糕"></p><h2 id="题目解答"><a href="#题目解答" class="headerlink" title="题目解答"></a>题目解答</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="meta-keyword">include</span> <span class="meta-string">"stdio.h"</span></span></span><br><span class="line"><span class="meta"># <span class="meta-keyword">define</span> MAX 1000</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> i,n,k,sum,temp;</span><br><span class="line"><span class="keyword">int</span> cake[MAX];</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;n,&amp;k);</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;cake[i]);</span><br><span class="line">&#125;</span><br><span class="line">temp=<span class="number">0</span>;</span><br><span class="line">sum=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">temp+=cake[i];</span><br><span class="line"><span class="keyword">if</span>(temp&gt;=k)&#123;</span><br><span class="line">sum++;</span><br><span class="line">temp=<span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(temp)&#123;</span><br><span class="line">sum++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d"</span>, sum);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><p>对于每个朋友，小明总是先将自己手中编号最小的蛋糕分给他，当这个朋友所分得蛋糕的重量不到k时，再继续将剩下的蛋糕中编号最小的给他，直到小明的蛋糕分完或者这个朋友分到的蛋糕的总重量大于等于k。</p><hr>]]></content>
      
      
      
        <tags>
            
            <tag> CCF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CCF 201803-1 题</title>
      <link href="/2020/04/29/CCF-201803-1-%E9%A2%98/"/>
      <url>/2020/04/29/CCF-201803-1-%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<h2 id="“跳一跳”-题目要求"><a href="#“跳一跳”-题目要求" class="headerlink" title="“跳一跳” 题目要求"></a>“跳一跳” 题目要求</h2><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/20180301.png" alt="跳一跳"></p><h2 id="题目解答"><a href="#题目解答" class="headerlink" title="题目解答"></a>题目解答</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="meta-keyword">include</span> <span class="meta-string">"stdio.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> score,lastScore,temp;</span><br><span class="line">score=<span class="number">0</span>;</span><br><span class="line">lastScore=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">do</span>&#123;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;temp);</span><br><span class="line"><span class="keyword">switch</span>(temp)&#123;</span><br><span class="line"><span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">score+=<span class="number">1</span>;</span><br><span class="line">lastScore=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">score+=lastScore+<span class="number">2</span>;</span><br><span class="line">lastScore+=<span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;<span class="keyword">while</span>(temp!=<span class="number">0</span>);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d"</span>, score);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><ul><li>未跳到中心： score +=1;上次跳到中心的分数清0</li><li>跳到中心：score+=lastScore+2;上次调到中心分数+2</li></ul><hr>]]></content>
      
      
      
        <tags>
            
            <tag> CCF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CCF 201809-1 题</title>
      <link href="/2020/04/29/CCF-201809-1-%E9%A2%98/"/>
      <url>/2020/04/29/CCF-201809-1-%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<h2 id="“卖菜”-题目要求"><a href="#“卖菜”-题目要求" class="headerlink" title="“卖菜” 题目要求"></a>“卖菜” 题目要求</h2><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/20180901.png" alt="卖菜"></p><h2 id="题目解答"><a href="#题目解答" class="headerlink" title="题目解答"></a>题目解答</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="meta-keyword">include</span><span class="meta-string">"stdio.h"</span></span></span><br><span class="line"><span class="meta"># <span class="meta-keyword">define</span> MAX 1000</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> n,i;</span><br><span class="line"><span class="keyword">int</span> test[MAX],res[MAX];</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;test[i]);</span><br><span class="line">&#125;</span><br><span class="line">res[<span class="number">0</span>]=(test[<span class="number">0</span>]+test[<span class="number">1</span>])/<span class="number">2</span>;</span><br><span class="line">res[n<span class="number">-1</span>]=(test[n<span class="number">-1</span>]+test[n<span class="number">-2</span>])/<span class="number">2</span>;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">1</span>;i&lt;n<span class="number">-1</span>;i++)&#123;</span><br><span class="line">res[i]=(test[i<span class="number">-1</span>]+test[i]+test[i+<span class="number">1</span>])/<span class="number">3</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d "</span>, res[i]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><ul><li>第一个店铺： （第一个+第二个）/2</li><li>最后的店铺： （倒数第一+倒数第二）/2</li><li>其他店铺： （左侧+自己+右侧）/3</li></ul><hr>]]></content>
      
      
      
        <tags>
            
            <tag> CCF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CCF 201812-1 题</title>
      <link href="/2020/04/29/CCF-201812-1-%E9%A2%98/"/>
      <url>/2020/04/29/CCF-201812-1-%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<h2 id="“小明上学”-题目要求"><a href="#“小明上学”-题目要求" class="headerlink" title="“小明上学” 题目要求"></a>“小明上学” 题目要求</h2><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/20181201.png" alt="小明上学"></p><h2 id="题目解答"><a href="#题目解答" class="headerlink" title="题目解答"></a>题目解答</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="meta-keyword">include</span> <span class="meta-string">"stdio.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAX 100</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> x,y,g;</span><br><span class="line"><span class="keyword">int</span> i,n,sum;</span><br><span class="line"><span class="keyword">int</span> test[MAX][<span class="number">2</span>];</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d%d%d%d"</span>, &amp;x, &amp;y, &amp;g, &amp;n);</span><br><span class="line">sum=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;test[<span class="number">0</span>][i],&amp;test[<span class="number">1</span>][i]);</span><br><span class="line"><span class="keyword">switch</span>(test[<span class="number">0</span>][i]) &#123;</span><br><span class="line"><span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">sum+=test[<span class="number">1</span>][i];</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">sum+=test[<span class="number">1</span>][i];</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">sum+=test[<span class="number">1</span>][i]+x;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d"</span>, sum);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><p>绿灯不需要等，不加，红灯+剩余时间，黄灯+剩余时间+红灯时间；求和即可。</p><hr>]]></content>
      
      
      
        <tags>
            
            <tag> CCF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CCF 201903-1 题</title>
      <link href="/2020/04/29/CCF-201903-1-%E9%A2%98/"/>
      <url>/2020/04/29/CCF-201903-1-%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<h2 id="“小中大”-题目要求"><a href="#“小中大”-题目要求" class="headerlink" title="“小中大” 题目要求"></a>“小中大” 题目要求</h2><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/20190301.png" alt="小中大"></p><h2 id="题目解答"><a href="#题目解答" class="headerlink" title="题目解答"></a>题目解答</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="meta-keyword">include</span> <span class="meta-string">"stdio.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> i,n,temp;</span><br><span class="line"><span class="keyword">int</span> <span class="built_in">max</span>,<span class="built_in">min</span>,pos,flag;</span><br><span class="line"><span class="keyword">float</span> middle;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</span><br><span class="line">pos=n/<span class="number">2</span><span class="number">-1</span>;</span><br><span class="line">flag=n%<span class="number">2</span>;</span><br><span class="line">middle=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;temp);</span><br><span class="line"><span class="keyword">if</span>(i==<span class="number">0</span>)&#123;</span><br><span class="line"><span class="built_in">max</span>=temp;</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span>(i==n<span class="number">-1</span>)&#123;</span><br><span class="line"><span class="built_in">min</span>=temp;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(i==pos || i==pos+<span class="number">1</span>)&#123;</span><br><span class="line"><span class="keyword">if</span>(flag)&#123;</span><br><span class="line">middle=temp;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">middle+=temp;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(!flag)&#123;</span><br><span class="line">middle=middle/<span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(<span class="built_in">max</span>&lt;<span class="built_in">min</span>)&#123;</span><br><span class="line">temp=<span class="built_in">min</span>;</span><br><span class="line"><span class="built_in">min</span>=<span class="built_in">max</span>;</span><br><span class="line"><span class="built_in">max</span>=temp;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(middle==(<span class="keyword">int</span>)middle)&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d %d %d"</span>, <span class="built_in">max</span>,(<span class="keyword">int</span>)middle,<span class="built_in">min</span>);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">middle=middle;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d %.1f %d"</span>, <span class="built_in">max</span>,middle,<span class="built_in">min</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><p>由题目知，按顺序排列，所以只需要记录第一位，中间位，最后一位然后再做处理</p><p><strong>PS:</strong></p><ol><li>浮点数转整数， (int)middle</li><li>整数浮点数的输出格式是严格匹配的</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 栗子1</span><br><span class="line">int middle &#x3D; 0;</span><br><span class="line">printf(&quot;%f&quot;, middle);</span><br><span class="line">&#x2F;&#x2F; 栗子2</span><br><span class="line">float middle&#x3D;1;</span><br><span class="line">printf(&quot;%d&quot;, middle);</span><br></pre></td></tr></table></figure><hr>]]></content>
      
      
      
        <tags>
            
            <tag> CCF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CCF 201909-1 题</title>
      <link href="/2020/04/29/CCF-201909-1-%E9%A2%98/"/>
      <url>/2020/04/29/CCF-201909-1-%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<h2 id="“小明种苹果”-题目要求"><a href="#“小明种苹果”-题目要求" class="headerlink" title="“小明种苹果” 题目要求"></a>“小明种苹果” 题目要求</h2><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/20190901.png" alt="小明种苹果"></p><h2 id="题目解答"><a href="#题目解答" class="headerlink" title="题目解答"></a>题目解答</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="meta-keyword">include</span><span class="meta-string">"stdio.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> apple[<span class="number">4</span>];</span><br><span class="line"><span class="keyword">int</span> i,j;</span><br><span class="line"><span class="keyword">int</span> m,n,sum,tree,number;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;m,&amp;n);</span><br><span class="line">tree=<span class="number">1</span>;</span><br><span class="line">number=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;m;i++)&#123;</span><br><span class="line">apple[<span class="number">3</span>]=<span class="number">0</span>;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;apple[<span class="number">0</span>]);</span><br><span class="line">apple[<span class="number">2</span>]=apple[<span class="number">0</span>];</span><br><span class="line"><span class="keyword">for</span>(j=<span class="number">0</span>;j&lt;n;j++)&#123;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;apple[<span class="number">1</span>]);</span><br><span class="line">apple[<span class="number">2</span>]+=apple[<span class="number">1</span>];</span><br><span class="line">&#125;</span><br><span class="line">apple[<span class="number">3</span>]=apple[<span class="number">0</span>]-apple[<span class="number">2</span>];</span><br><span class="line">sum+=apple[<span class="number">2</span>];</span><br><span class="line"><span class="keyword">if</span>(apple[<span class="number">3</span>]&gt;number)&#123;</span><br><span class="line">number=apple[<span class="number">3</span>];</span><br><span class="line">tree=i+<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d %d %d"</span>, sum,tree,number);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><p>根据问题可知，求疏果后总的苹果数，以及疏果最多的苹果树的位置以及疏果的个数。</p><hr>]]></content>
      
      
      
        <tags>
            
            <tag> CCF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CCF 201912-1 题</title>
      <link href="/2020/04/29/CCF-201912-1-%E9%A2%98/"/>
      <url>/2020/04/29/CCF-201912-1-%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<h2 id="“报数”-题目要求"><a href="#“报数”-题目要求" class="headerlink" title="“报数” 题目要求"></a>“报数” 题目要求</h2><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/20191201.png" alt="报数"></p><h2 id="题目解答"><a href="#题目解答" class="headerlink" title="题目解答"></a>题目解答</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="meta-keyword">include</span> <span class="meta-string">"stdio.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">judgeSeven</span> <span class="params">(<span class="keyword">int</span> test)</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> temp;</span><br><span class="line"><span class="keyword">if</span> (test%<span class="number">7</span> == <span class="number">0</span>)&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">while</span>(test)&#123;</span><br><span class="line">temp=test%<span class="number">10</span>;</span><br><span class="line"><span class="keyword">if</span>(temp==<span class="number">7</span>)&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line">test=test/<span class="number">10</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> res[<span class="number">4</span>];</span><br><span class="line"><span class="keyword">int</span> i,j,number,n,temp;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;<span class="number">4</span>;i++)&#123;</span><br><span class="line">res[i]=<span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">number=<span class="number">1</span>;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;n;)&#123;</span><br><span class="line"><span class="keyword">for</span>(j=<span class="number">0</span>;j&lt;<span class="number">4</span>;j++)&#123;</span><br><span class="line">temp=judgeSeven(number++);</span><br><span class="line">res[j]+=temp;</span><br><span class="line">i+=<span class="number">1</span>-temp;</span><br><span class="line"><span class="keyword">if</span>(i&gt;=n)&#123;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;<span class="number">4</span>;i++)&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d\n"</span>,res[i]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><p><strong>问题解析：</strong></p><ol><li>数字中含有7或者是7的倍数则跳过</li><li>跳过的数字不计入报数</li></ol><p><strong>思路：</strong></p><p>number用来记录报数，i用来记录有效的数字，judgeSeve()函数来判断是否满足条件1；</p><p>PS：当i&gt;=n时跳出循环；</p><hr>]]></content>
      
      
      
        <tags>
            
            <tag> CCF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>解决 this..push 无法在新窗口打开</title>
      <link href="/2020/04/26/%E8%A7%A3%E5%86%B3-this-push-%E6%97%A0%E6%B3%95%E5%9C%A8%E6%96%B0%E7%AA%97%E5%8F%A3%E6%89%93%E5%BC%80/"/>
      <url>/2020/04/26/%E8%A7%A3%E5%86%B3-this-push-%E6%97%A0%E6%B3%95%E5%9C%A8%E6%96%B0%E7%AA%97%E5%8F%A3%E6%89%93%E5%BC%80/</url>
      
        <content type="html"><![CDATA[<h2 id="解决办法"><a href="#解决办法" class="headerlink" title="解决办法"></a>解决办法</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> routeData = <span class="keyword">this</span>.$router.resolve(&#123; <span class="attr">path</span>: <span class="string">'/reportpreview'</span>, <span class="attr">query</span>: &#123;  <span class="attr">id</span>: id &#125; &#125;);</span><br><span class="line"><span class="built_in">window</span>.open(routeData.href, <span class="string">'_blank'</span>);</span><br></pre></td></tr></table></figure><hr>]]></content>
      
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JavaScript 错误处理的方式的正常姿势</title>
      <link href="/2020/04/21/JavaScript-%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86%E7%9A%84%E6%96%B9%E5%BC%8F%E7%9A%84%E6%AD%A3%E5%B8%B8%E5%A7%BF%E5%8A%BF/"/>
      <url>/2020/04/21/JavaScript-%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86%E7%9A%84%E6%96%B9%E5%BC%8F%E7%9A%84%E6%AD%A3%E5%B8%B8%E5%A7%BF%E5%8A%BF/</url>
      
        <content type="html"><![CDATA[<h2 id="逻辑"><a href="#逻辑" class="headerlink" title="逻辑"></a>逻辑</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">  something</span><br><span class="line">&#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">  <span class="built_in">window</span>.location.href=<span class="string">"http://stackoverflow/search?q=[js]+"</span> + e.message</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="来源"><a href="#来源" class="headerlink" title="来源"></a>来源</h2><ul><li><a href="https://www.weibo.com/1401880315/DgqKTmDoR?from=page_1005051401880315_profile&wvr=6&mod=weibotime&type=comment#_loginLayer_1587456534161" target="_blank" rel="noopener">微博-左耳朵耗子</a></li></ul><hr>]]></content>
      
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>单行写一个星评组件</title>
      <link href="/2020/04/21/%E5%8D%95%E8%A1%8C%E5%86%99%E4%B8%80%E4%B8%AA%E6%98%9F%E8%AF%84%E7%BB%84%E4%BB%B6/"/>
      <url>/2020/04/21/%E5%8D%95%E8%A1%8C%E5%86%99%E4%B8%80%E4%B8%AA%E6%98%9F%E8%AF%84%E7%BB%84%E4%BB%B6/</url>
      
        <content type="html"><![CDATA[<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"★★★★★☆☆☆☆☆"</span>.slice(<span class="number">5</span> - rate, <span class="number">10</span> - rate);</span><br></pre></td></tr></table></figure><h2 id="来源"><a href="#来源" class="headerlink" title="来源"></a>来源</h2><ul><li><a href="https://www.zhihu.com/question/46943112/answer/113583615" target="_blank" rel="noopener">知乎-短小却令人惊叹的 JS 代码</a></li></ul><hr>]]></content>
      
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>前端适配的解决方案-vuex+enquire.js</title>
      <link href="/2020/04/20/%E5%89%8D%E7%AB%AF%E9%80%82%E9%85%8D%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88-vuex+enquire-js/"/>
      <url>/2020/04/20/%E5%89%8D%E7%AB%AF%E9%80%82%E9%85%8D%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88-vuex+enquire-js/</url>
      
        <content type="html"><![CDATA[<p>原文：<a href="https://blog.csdn.net/qq_35793301/article/details/100512124" target="_blank" rel="noopener">https://blog.csdn.net/qq_35793301/article/details/100512124</a></p><h2 id="enquire-js"><a href="#enquire-js" class="headerlink" title="enquire.js"></a>enquire.js</h2><ul><li><a href="https://wicky.nillia.ms/enquire.js/" target="_blank" rel="noopener">官网</a></li><li><a href="https://www.cnblogs.com/holajulie/p/7891354.html" target="_blank" rel="noopener">其他资料</a></li><li><a href="https://github.com/sendya/ant-design-pro-vue" target="_blank" rel="noopener">参考项目:ant-design-pro-vue</a></li></ul><h3 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h3><p>enquire.js是一个轻量级的纯JavaScript库，用于响应CSS媒体查询</p><ul><li>JavaScript 回调媒体查询，匹配或者不匹配</li><li>干净直观的 API</li><li>超轻量级 —— 大约 0.8kb minified &amp; gzipped!</li><li>无依赖</li></ul><h3 id="应用"><a href="#应用" class="headerlink" title="应用"></a>应用</h3><ol><li><p>安装 enquire.js: npm install enquire.js –save</p></li><li><p>创建 device.js src/store/device.js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * <span class="doctag">@description</span>:监控屏幕宽度</span></span><br><span class="line"><span class="comment">  * <span class="doctag">@author</span>: Snowy</span></span><br><span class="line"><span class="comment">  * <span class="doctag">@create</span>: 2020-04-20 </span></span><br><span class="line"><span class="comment">  **/</span></span><br><span class="line"><span class="keyword">import</span> enquireJs <span class="keyword">from</span> <span class="string">'enquire.js'</span> <span class="comment">// 引入enquire.js</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> DEVICE_TYPE = &#123;</span><br><span class="line">  DESKTOP: <span class="string">'desktop'</span>,</span><br><span class="line">  TABLET: <span class="string">'tablet'</span>,</span><br><span class="line">  MOBILE: <span class="string">'mobile'</span></span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> deviceEnquire = <span class="function"><span class="keyword">function</span> (<span class="params">callback</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> matchDesktop = &#123;</span><br><span class="line">    match: <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">      callback &amp;&amp; callback(DEVICE_TYPE.DESKTOP)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> matchLablet = &#123;</span><br><span class="line">    match: <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">      callback &amp;&amp; callback(DEVICE_TYPE.TABLET)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> matchMobile = &#123;</span><br><span class="line">    match: <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">      callback &amp;&amp; callback(DEVICE_TYPE.MOBILE)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * enquireJs.register(mediaQuery, handler).</span></span><br><span class="line"><span class="comment">  * mediaQuery: 字符串，需要响应的媒体。</span></span><br><span class="line"><span class="comment">  * handler: 函数或对象。</span></span><br><span class="line"><span class="comment">  * handler Object:</span></span><br><span class="line"><span class="comment">  * match: 函数。媒体匹配时的回调。</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line">  enquireJs</span><br><span class="line">    .register(<span class="string">'screen and (max-width: 576px)'</span>, matchMobile) <span class="comment">// mobile: 宽度小于576px时判断为mobile</span></span><br><span class="line">    .register(<span class="string">'screen and (min-width: 577px) and (max-width: 1299px)'</span>, matchLablet) <span class="comment">// 宽度介于577px - 1299px 时判断为平板电脑</span></span><br><span class="line">    .register(<span class="string">'screen and (min-width: 1300px)'</span>, matchDesktop) <span class="comment">// 宽度大于1300px时判断为pc电脑</span></span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure></li><li><p>测试 device.js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 在 App.vue 中加入</span></span><br><span class="line"><span class="keyword">import</span> &#123; deviceEnquire &#125; <span class="keyword">from</span> <span class="string">'@/utils/enquire'</span></span><br><span class="line"></span><br><span class="line">mounted () &#123;</span><br><span class="line">  deviceEnquire(<span class="function"><span class="params">deviceType</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'deviceType'</span>, deviceType)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>运行，打开控制台 console, 缩放浏览器的大小查看打印的结果。</p></li></ol><h2 id="vuex"><a href="#vuex" class="headerlink" title="vuex"></a>vuex</h2><ul><li>(vuex 文档)[<a href="https://vuex.vuejs.org/zh/]" target="_blank" rel="noopener">https://vuex.vuejs.org/zh/]</a></li><li>(Vue 状态管理)[<a href="https://cn.vuejs.org/v2/guide/state-management.html]" target="_blank" rel="noopener">https://cn.vuejs.org/v2/guide/state-management.html]</a></li></ul><h3 id="简介-1"><a href="#简介-1" class="headerlink" title="简介"></a>简介</h3><ul><li>Vuex 是一个专为 Vue.js 应用程序开发的状态管理模式。它采用集中式存储管理应用的所有组件的状态，并以相应的规则保证状态以一种可预测的方式发生变化。</li></ul><h3 id="应用-1"><a href="#应用-1" class="headerlink" title="应用"></a>应用</h3><ol><li><p>src/store/index.js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* <span class="doctag">@description</span>: Vuex 状态管理</span></span><br><span class="line"><span class="comment">* <span class="doctag">@author</span>: Snowy</span></span><br><span class="line"><span class="comment">* <span class="doctag">@create</span>: 2020-04-20 </span></span><br><span class="line"><span class="comment">**/</span></span><br><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></span><br><span class="line"><span class="keyword">import</span> Vuex <span class="keyword">from</span> <span class="string">'vuex'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> getters <span class="keyword">from</span> <span class="string">'./getters'</span></span><br><span class="line"><span class="keyword">import</span> app <span class="keyword">from</span> <span class="string">'./modules/app'</span></span><br><span class="line">Vue.use(Vuex)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> Vuex.Store(&#123;</span><br><span class="line">  modules: &#123;</span><br><span class="line">    app</span><br><span class="line">  &#125;,</span><br><span class="line">  state: &#123;</span><br><span class="line"></span><br><span class="line">  &#125;,</span><br><span class="line">  mutations: &#123;</span><br><span class="line"></span><br><span class="line">  &#125;,</span><br><span class="line">  actions: &#123;</span><br><span class="line"></span><br><span class="line">  &#125;,</span><br><span class="line">  getters</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li><li><p>src/store/getter.js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* <span class="doctag">@description</span>:store中使用到的计算属性</span></span><br><span class="line"><span class="comment">* <span class="doctag">@author</span>: Snowy</span></span><br><span class="line"><span class="comment">* <span class="doctag">@create</span>: 2020-04-20 </span></span><br><span class="line"><span class="comment">**/</span></span><br><span class="line"><span class="keyword">const</span> getters = &#123;</span><br><span class="line">  device: <span class="function"><span class="params">state</span> =&gt;</span> state.app.device</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> getters</span><br></pre></td></tr></table></figure></li><li><p>src/store/mutation-types.js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* <span class="doctag">@description</span>: 将mutation归纳，避免耦合性</span></span><br><span class="line"><span class="comment">* <span class="doctag">@author</span>: Snowy</span></span><br><span class="line"><span class="comment">* <span class="doctag">@create</span>: 2020-04-20 </span></span><br><span class="line"><span class="comment">**/</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> APP_TOKEN = <span class="string">'Token'</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> APP_DEVICE = <span class="string">'Device'</span></span><br></pre></td></tr></table></figure></li><li><p>src/store/mudules/app.js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* <span class="doctag">@description</span>: 项目的一些状态</span></span><br><span class="line"><span class="comment">* <span class="doctag">@author</span>: Snowy</span></span><br><span class="line"><span class="comment">* <span class="doctag">@create</span>: 2020-04-20 </span></span><br><span class="line"><span class="comment">**/</span></span><br><span class="line"><span class="keyword">import</span> &#123; APP_DEVICE &#125; <span class="keyword">from</span> <span class="string">'../mutation-types'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = &#123;</span><br><span class="line">  state: &#123;</span><br><span class="line">    device: <span class="string">'desktop'</span></span><br><span class="line">  &#125;,</span><br><span class="line">  action: &#123;</span><br><span class="line">    Device (&#123; commit &#125;, device) &#123;</span><br><span class="line">      <span class="comment">// store.dispatch 触发 分发到mutations</span></span><br><span class="line">      <span class="built_in">console</span>.info(<span class="string">'action Device'</span>)</span><br><span class="line">      commit(APP_DEVICE, device)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  mutations: &#123;</span><br><span class="line">    Device: <span class="function">(<span class="params">state, device</span>) =&gt;</span> &#123;</span><br><span class="line">   S   <span class="comment">// store.commit 触发</span></span><br><span class="line">      <span class="built_in">console</span>.info(<span class="string">'mutations Device'</span>)</span><br><span class="line">      state.device = device</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> app</span><br></pre></td></tr></table></figure></li><li><p>App.vue</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;a-locale-provider :locale=<span class="string">"zhCN"</span>&gt;</span><br><span class="line">    &lt;div id=<span class="string">"app"</span>&gt;</span><br><span class="line">      &lt;h1&gt;</span><br><span class="line">        &#123;&#123; device &#125;&#125;</span><br><span class="line">      &lt;<span class="regexp">/h1&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>div&gt;</span><br><span class="line">  &lt;<span class="regexp">/a-locale-provider&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="keyword">import</span> zhCN <span class="keyword">from</span> <span class="string">'ant-design-vue/lib/locale-provider/zh_CN'</span></span><br><span class="line">  <span class="keyword">import</span> &#123; APP_DEVICE &#125; <span class="keyword">from</span> <span class="string">'./store/mutation-types'</span></span><br><span class="line">  <span class="keyword">import</span> &#123; deviceEnquire &#125; <span class="keyword">from</span> <span class="string">'./util/device'</span></span><br><span class="line">  <span class="keyword">import</span> &#123; mapGetters &#125; <span class="keyword">from</span> <span class="string">'vuex'</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    name: <span class="string">'App'</span>,</span><br><span class="line">    components: &#123;&#125;,</span><br><span class="line">    data () &#123;</span><br><span class="line">      <span class="keyword">return</span> &#123;</span><br><span class="line">        zhCN</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    mounted () &#123;</span><br><span class="line">      deviceEnquire(<span class="function"><span class="params">deviceType</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'deviceType'</span>, deviceType)</span><br><span class="line">        <span class="comment">// 媒体改变时 将新的状态传给store</span></span><br><span class="line">        <span class="keyword">this</span>.$store.commit(APP_DEVICE, deviceType)</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;,</span><br><span class="line">    computed: &#123;</span><br><span class="line">      <span class="comment">// 将 store 中的 getter 映射到局部计算属性</span></span><br><span class="line">      ...mapGetters([</span><br><span class="line">        <span class="string">'device'</span></span><br><span class="line">      ])</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp">&lt;style&gt;</span></span><br><span class="line"><span class="regexp">  #app &#123;</span></span><br><span class="line"><span class="regexp">    font-family: 'Avenir', Helvetica, Arial, sans-serif;</span></span><br><span class="line"><span class="regexp">    -webkit-font-smoothing: antialiased;</span></span><br><span class="line"><span class="regexp">    -moz-osx-font-smoothing: grayscale;</span></span><br><span class="line"><span class="regexp">    text-align: center;</span></span><br><span class="line"><span class="regexp">    color: #2c3e50;</span></span><br><span class="line"><span class="regexp">    margin-top: 60px;</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp">&lt;/</span>style&gt;</span><br></pre></td></tr></table></figure></li><li><p>main.js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">'./App.vue'</span></span><br><span class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">'./store/'</span> <span class="comment">// 引入vuex状态管理</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'./core/demand-loading'</span> <span class="comment">// 引入按需加载的组件</span></span><br><span class="line"></span><br><span class="line">Vue.config.productionTip = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  store,</span><br><span class="line">  render: <span class="function"><span class="params">h</span> =&gt;</span> h(App)</span><br><span class="line">&#125;).$mount(<span class="string">'#app'</span>)</span><br></pre></td></tr></table></figure></li><li><p>运行程序，拉动浏览器界面查看结果。</p></li></ol><hr>]]></content>
      
      
      
        <tags>
            
            <tag> 前端开发文档 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue 项目运行报错 sockjs-node/info 的解决方案</title>
      <link href="/2020/04/16/Vue-%E9%A1%B9%E7%9B%AE%E8%BF%90%E8%A1%8C%E6%8A%A5%E9%94%99-sockjs-node-info-%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/"/>
      <url>/2020/04/16/Vue-%E9%A1%B9%E7%9B%AE%E8%BF%90%E8%A1%8C%E6%8A%A5%E9%94%99-sockjs-node-info-%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/</url>
      
        <content type="html"><![CDATA[<h2 id="Bug-情况展示"><a href="#Bug-情况展示" class="headerlink" title="Bug 情况展示"></a>Bug 情况展示</h2><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/sockjsBug.png" alt="sockjs-node/info"></p><h2 id="报错分析"><a href="#报错分析" class="headerlink" title="报错分析"></a>报错分析</h2><ul><li>sockjs-node: 一个JavaScript库，提供跨浏览器JavaScript的API，创建了一个低延迟、全双工的浏览器和web服务器之间通信通道。</li><li>那么在各端表现为：<ul><li>服务端：sockjs-node（<a href="https://github.com/sockjs/sockjs-node）" target="_blank" rel="noopener">https://github.com/sockjs/sockjs-node）</a></li><li>客户端：sockjs-clien（<a href="https://github.com/sockjs/sockjs-client）" target="_blank" rel="noopener">https://github.com/sockjs/sockjs-client）</a></li></ul></li></ul><h2 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h2><ol><li><p>注释法</p><p>顾名思义，找到依赖包中的源码，将其注释：</p><ul><li>进入路径 /node_modules/sockjs-client/dist/sockjs.js</li><li>代码1605行注释掉：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">try &#123;</span><br><span class="line">  &#x2F;&#x2F; self.xhr.send(payload);  &#x2F;&#x2F;本行注释</span><br><span class="line">&#125; catch (e) &#123;</span><br><span class="line">  self.emit(&#39;finish&#39;, 0, &#39;&#39;);</span><br><span class="line">  self._cleanup(false);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>重启项目</li><li><span style="color:red">此方法虽然能阻止报错，但注释后的修改代码 不能进行热更新</span></li></ul></li><li><p>配置vue.config.js</p></li></ol><ul><li>vue.config.js中的module.xports中添加如下，然后重启：<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  devServer: &#123;</span><br><span class="line">    disableHostCheck: <span class="literal">true</span>,</span><br><span class="line">    port: <span class="string">"your port"</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><ol start="3"><li><p>解决 https 协议的问题</p><p><strong>webpack 默认是 http 协议，所以 https 会出现调不通的现象，因此解决方案有两种：</strong></p><ul><li>配置 webpack <a href="https://www.it-swarm.dev/zh/ssl/webpack-dev-server%E5%9C%A8httpsweb-sockets-secure%E4%B8%8A%E8%BF%90%E8%A1%8C/1048742144/" target="_blank" rel="noopener">Webpack Dev Server 在 HTTPS/Web Sockets Secure 上运行</a></li><li>配置 nginx 将 https 换成 http<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">  listen      80;</span><br><span class="line">  #listen      443 ssl;</span><br><span class="line">  server_name *****************;</span><br><span class="line">  #ssl_certificate &#x2F;nginx-1.16.1&#x2F;conf&#x2F;cert&#x2F;_.jsh.com.crt;</span><br><span class="line">  #ssl_certificate_key &#x2F;nginx-1.16.1&#x2F;conf&#x2F;cert&#x2F;_.jsh.com.key;</span><br><span class="line">  # ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li></ol><h2 id="附录"><a href="#附录" class="headerlink" title="附录"></a>附录</h2><ul><li><a href="https://www.jianshu.com/p/b358a91bdf2d" target="_blank" rel="noopener">vue.config.js 配置</a></li><li><a href="https://medium.com/%E4%BA%BA%E7%94%9F%E6%AF%94%E5%AF%AB-code-%E9%9B%A3%E4%B8%80%E9%BB%9E%E9%BB%9E/rails-webpacker-%E7%9A%84-https-%E8%A8%AD%E5%AE%9A-104d8ae7ee9" target="_blank" rel="noopener">Webpacker的HTTPS设置</a></li><li><a href="https://www.it-swarm.dev/zh/ssl/webpack-dev-server%E5%9C%A8httpsweb-sockets-secure%E4%B8%8A%E8%BF%90%E8%A1%8C/1048742144/" target="_blank" rel="noopener">Webpack Dev Server 在 HTTPS/Web Sockets Secure 上运行</a></li></ul><p>如有其他问题，欢迎讨论区讨论。</p><hr>]]></content>
      
      
      
        <tags>
            
            <tag> Vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SCRM, Saas, CRM</title>
      <link href="/2020/04/16/SCRM-Saas-CRM/"/>
      <url>/2020/04/16/SCRM-Saas-CRM/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>前端开发备忘录</title>
      <link href="/2020/04/16/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91%E5%A4%87%E5%BF%98%E5%BD%95/"/>
      <url>/2020/04/16/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91%E5%A4%87%E5%BF%98%E5%BD%95/</url>
      
        <content type="html"><![CDATA[<h2 id="Nginx"><a href="#Nginx" class="headerlink" title="Nginx"></a>Nginx</h2><h3 id="关闭-80-端口号的方法"><a href="#关闭-80-端口号的方法" class="headerlink" title="关闭 80 端口号的方法"></a>关闭 80 端口号的方法</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">netsh http show servicestate</span><br><span class="line">taskkill &#x2F;f &#x2F;t &#x2F;im &quot;进程id&quot;</span><br></pre></td></tr></table></figure><h3 id="开启-Nginx"><a href="#开启-Nginx" class="headerlink" title="开启 Nginx"></a>开启 Nginx</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd c:&#x2F;nginx-1.16.1</span><br><span class="line">start nginx</span><br><span class="line">nginx -s reload</span><br></pre></td></tr></table></figure><h3 id="关闭-Nginx"><a href="#关闭-Nginx" class="headerlink" title="关闭 Nginx"></a>关闭 Nginx</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tasklist &#x2F;fi &quot;imagename eq nginx.exe&quot;，该命令是查看所有nginx.exe 进程</span><br><span class="line">taskkill &#x2F;fi &quot;imagename eq nginx.exe&quot; &#x2F;f，该命令作用是结束这些进程</span><br></pre></td></tr></table></figure><h3 id="清除-DNS-缓存"><a href="#清除-DNS-缓存" class="headerlink" title="清除 DNS 缓存"></a>清除 DNS 缓存</h3><pre><code>- 命令行清除DNS缓存 ipconfig/flushdns</code></pre><h2 id="hosts"><a href="#hosts" class="headerlink" title="hosts"></a>hosts</h2><ul><li>C:\Windows\System32\drivers\etc\hosts</li></ul><h2 id="Git"><a href="#Git" class="headerlink" title="Git"></a>Git</h2><ul><li><p>提交代码到本地仓库</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git add -A</span><br><span class="line"> git commit -m &quot;&quot;</span><br></pre></td></tr></table></figure></li><li><p>提交代码到远程</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git pull</span><br><span class="line">git push</span><br></pre></td></tr></table></figure></li><li><p>切换到 master 分支，合并 dev 分支</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git checkout master</span><br><span class="line">git merge dev</span><br></pre></td></tr></table></figure><h2 id="vscode-运行代码"><a href="#vscode-运行代码" class="headerlink" title="vscode 运行代码"></a>vscode 运行代码</h2><ul><li>npm run dev</li></ul></li></ul><hr>]]></content>
      
      
      
        <tags>
            
            <tag> 前端开发文档 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>前端代码开发之 Git 常用命令(2)</title>
      <link href="/2020/04/15/%E5%89%8D%E7%AB%AF%E4%BB%A3%E7%A0%81%E5%BC%80%E5%8F%91%E4%B9%8B-Git-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4-2/"/>
      <url>/2020/04/15/%E5%89%8D%E7%AB%AF%E4%BB%A3%E7%A0%81%E5%BC%80%E5%8F%91%E4%B9%8B-Git-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4-2/</url>
      
        <content type="html"><![CDATA[<h4 id="保存内容到本地仓库"><a href="#保存内容到本地仓库" class="headerlink" title="保存内容到本地仓库"></a>保存内容到本地仓库</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git add -A</span><br><span class="line">$ git commit -m &quot;说明&quot;</span><br></pre></td></tr></table></figure><h4 id="保存本地内容到远程仓库"><a href="#保存本地内容到远程仓库" class="headerlink" title="保存本地内容到远程仓库"></a>保存本地内容到远程仓库</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git pull  &#x2F;&#x2F; pull 远程仓库内容到本地以获取最新版本内容</span><br><span class="line">$ git push   &#x2F;&#x2F; 将本地仓库内容 push 到远程仓库</span><br></pre></td></tr></table></figure><h4 id="合并分支内容到远程仓库"><a href="#合并分支内容到远程仓库" class="headerlink" title="合并分支内容到远程仓库"></a>合并分支内容到远程仓库</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git pull</span><br><span class="line">$ git merge branch_name</span><br><span class="line">$ git push</span><br></pre></td></tr></table></figure><h4 id="查看分支"><a href="#查看分支" class="headerlink" title="查看分支"></a>查看分支</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git branch</span><br><span class="line">$ git branch -b</span><br><span class="line">$ git branch -a</span><br></pre></td></tr></table></figure><h4 id="切换分支"><a href="#切换分支" class="headerlink" title="切换分支"></a>切换分支</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout branch_name</span><br><span class="line">$ git checkout -b branch_name &#x2F;&#x2F; 创建并切换分支</span><br></pre></td></tr></table></figure><h4 id="删除本地分支"><a href="#删除本地分支" class="headerlink" title="删除本地分支"></a>删除本地分支</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git branch -d branch_name &#x2F;&#x2F; 删除本地分支</span><br><span class="line">$ git branch -D branch_name &#x2F;&#x2F; 强制删除本地分支</span><br></pre></td></tr></table></figure><h4 id="删除远程分支"><a href="#删除远程分支" class="headerlink" title="删除远程分支"></a>删除远程分支</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git push origin --delete branch_name</span><br></pre></td></tr></table></figure><hr>]]></content>
      
      
      
        <tags>
            
            <tag> 前端开发文档 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>前端代码开发之提测发版</title>
      <link href="/2020/04/15/%E5%89%8D%E7%AB%AF%E4%BB%A3%E7%A0%81%E5%BC%80%E5%8F%91%E4%B9%8B%E6%8F%90%E6%B5%8B%E5%8F%91%E7%89%88/"/>
      <url>/2020/04/15/%E5%89%8D%E7%AB%AF%E4%BB%A3%E7%A0%81%E5%BC%80%E5%8F%91%E4%B9%8B%E6%8F%90%E6%B5%8B%E5%8F%91%E7%89%88/</url>
      
        <content type="html"><![CDATA[<h2 id="以控制台前端发布为例："><a href="#以控制台前端发布为例：" class="headerlink" title="以控制台前端发布为例："></a>以控制台前端发布为例：</h2><h3 id="本地提交前准备："><a href="#本地提交前准备：" class="headerlink" title="本地提交前准备："></a>本地提交前准备：</h3><ol><li>去除浏览器 console log 信息</li><li>浏览器兼容性问题：内部应用仅支持Chrome，外部应用支持Edge、IE8及以上</li><li>本地测试完成且无bug</li><li>检查前端工程中的nginx配置</li></ol><h3 id="打包："><a href="#打包：" class="headerlink" title="打包："></a>打包：</h3><ol><li>合并要发版的分支到 master</li><li>打包：获取镜像</li></ol><p><strong>登录 <a href="http://x.haier.net" target="_blank" rel="noopener">http://x.haier.net</a>, 菜单栏找到【持续集成】</strong></p><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90.png" alt="持续集成"></p><p><strong>点击 xconsole → 进入持续集成详情页, 点击配置 →进入 持续集成配置页</strong></p><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90xconsole.png" alt="持续集成xconsole"></p><p><strong>查看持续集成配置页，根据需求修改打包命令 和 dockerfile 内容</strong></p><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90xconsole%E9%85%8D%E7%BD%AE.png" alt="持续集成xconsole配置"></p><p><strong>修改完配置后，点击保存 回到 持续集成详情页，选择分支打包（生产 master, 测试 dev）</strong></p><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90xconsole%E6%89%93%E5%8C%85.png" alt="持续集成xconsole打包"></p><p><strong>打包完成后，从最近镜像点击复制，获取打包镜像，进而进入下一步</strong></p><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90xconole%E9%95%9C%E5%83%8F.png" alt="持续集成xconsole镜像"></p><h3 id="发版准备："><a href="#发版准备：" class="headerlink" title="发版准备："></a>发版准备：</h3><p><strong>登录 <a href="http://d.haier.net，菜单栏找到【应用管理】-【无状态服务】" target="_blank" rel="noopener">http://d.haier.net，菜单栏找到【应用管理】-【无状态服务】</a></strong></p><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/%E5%BA%94%E7%94%A8%E7%AE%A1%E7%90%86%E6%97%A0%E7%8A%B6%E6%80%81%E6%9C%8D%E5%8A%A1.png" alt="应用管理无状态服务"></p><p><strong>根据分区过滤（生产（console 分区），测试（console-dev 分区））</strong></p><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/%E6%A0%B9%E6%8D%AE%E5%88%86%E5%8C%BA%E8%BF%87%E6%BB%A4.png" alt="根据分区过滤"></p><p><strong>选择要发版的应用(web)：更新镜像</strong></p><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/%E6%9B%B4%E6%96%B0%E9%95%9C%E5%83%8F.png" alt="更新镜像"></p><p><strong>负载均衡：</strong></p><ul><li>每一个服务对应着一个一个负载均衡，如果说添加了新的服务记得添加新的负载均衡</li><li>路由分发配置：前端和API<br><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1.png" alt="负载均衡"></li></ul><h3 id="发版后："><a href="#发版后：" class="headerlink" title="发版后："></a>发版后：</h3><p>测试上线部分是否运行正常</p>]]></content>
      
      
      
        <tags>
            
            <tag> 前端开发文档 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>前端代码开发之 Git 常用命令(1)</title>
      <link href="/2020/04/15/%E5%89%8D%E7%AB%AF%E4%BB%A3%E7%A0%81%E5%BC%80%E5%8F%91%E4%B9%8B-Git-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4(1)/"/>
      <url>/2020/04/15/%E5%89%8D%E7%AB%AF%E4%BB%A3%E7%A0%81%E5%BC%80%E5%8F%91%E4%B9%8B-Git-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4(1)/</url>
      
        <content type="html"><![CDATA[<h2 id="将代码提交到本地仓库"><a href="#将代码提交到本地仓库" class="headerlink" title="将代码提交到本地仓库"></a>将代码提交到本地仓库</h2><ol><li><p>新建分支</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git branch test</span><br></pre></td></tr></table></figure></li><li><p>切换分支</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout test</span><br></pre></td></tr></table></figure></li><li><p>提交代码到本地仓库</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git add -A</span><br><span class="line">$ git commit -m "当前提交说明"</span><br></pre></td></tr></table></figure></li><li><p>查看文件状态</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git status</span><br></pre></td></tr></table></figure></li></ol><h2 id="将代码提交到远程仓库"><a href="#将代码提交到远程仓库" class="headerlink" title="将代码提交到远程仓库"></a>将代码提交到远程仓库</h2><ol><li><p>拉取远程仓库的最新代码</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git pull origin dev</span><br></pre></td></tr></table></figure></li><li><p>切换分支并合并代码</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout dev</span><br><span class="line">$ git merge test</span><br></pre></td></tr></table></figure></li><li><p>将代码提交到远程仓库</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git push origin dev</span><br></pre></td></tr></table></figure></li></ol><h2 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h2><ul><li>在自己的分支上开发</li><li>经常提交代码到自己仓库</li><li>在提交代码到远程仓库前，先拉取最新代码</li><li>merge 代码，解决冲突</li></ul><p>简洁版：<a href="https://blog-1259017696.cos-website.ap-chengdu.myqcloud.com/2020/04/15/%E5%89%8D%E7%AB%AF%E4%BB%A3%E7%A0%81%E5%BC%80%E5%8F%91%E4%B9%8B-Git-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4-2/" target="_blank" rel="noopener">前端代码开发之 Git 常用命令(2)</a></p><hr>]]></content>
      
      
      
        <tags>
            
            <tag> 前端开发文档 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>chrome 禁止 http 跳转 https</title>
      <link href="/2020/04/07/chrome-%E7%A6%81%E6%AD%A2-http-%E8%B7%B3%E8%BD%AC-https/"/>
      <url>/2020/04/07/chrome-%E7%A6%81%E6%AD%A2-http-%E8%B7%B3%E8%BD%AC-https/</url>
      
        <content type="html"><![CDATA[<h2 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h2><ul><li>在 chrome 地址栏输入 chrome://net-internals/#hsts</li><li><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/chrome.png" alt="chrome"></li><li>在上图圈出的地方输入域名，并按下 delete 按钮</li></ul><p>此时再在 chrome 地址栏输入你的域名，将会显示 http</p><h2 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h2><h3 id="解决方案不起作用怎么办？？？"><a href="#解决方案不起作用怎么办？？？" class="headerlink" title="解决方案不起作用怎么办？？？"></a>解决方案不起作用怎么办？？？</h3><ol><li>Chrome 63 开始 *.dev 域名强制使用 https // 换域名</li><li>清除 DNS 缓存 地址栏输入 chrome://net-internals/#dns 点击 Clear host cache</li><li>清除缓存 ctrl + shift + del 点击 clear data</li></ol>]]></content>
      
      
      
        <tags>
            
            <tag> Chrome </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CCF 201403-5 题</title>
      <link href="/2020/04/03/CCF-201403-5-%E9%A2%98/"/>
      <url>/2020/04/03/CCF-201403-5-%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<h2 id="“I’m-stuck-”-题目要求"><a href="#“I’m-stuck-”-题目要求" class="headerlink" title="“I’m stuck!” 题目要求"></a>“I’m stuck!” 题目要求</h2><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/20131205.png" alt="I&#39;m struck"></p><h2 id="题目解答"><a href="#题目解答" class="headerlink" title="题目解答"></a>题目解答</h2><pre><code class="c"></code></pre><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><hr>]]></content>
      
      
      
        <tags>
            
            <tag> CCF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CCF 201403-4 题</title>
      <link href="/2020/04/03/CCF-201403-4-%E9%A2%98/"/>
      <url>/2020/04/03/CCF-201403-4-%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<h2 id="“无线网络”-题目要求"><a href="#“无线网络”-题目要求" class="headerlink" title="“无线网络” 题目要求"></a>“无线网络” 题目要求</h2><blockquote><p><strong>问题描述:</strong><br>　　目前在一个很大的平面房间里有 n 个无线路由器,每个无线路由器都固定在某个点上。任何两个无线路由器只要距离不超过 r 就能互相建立网络连接。<br>　　除此以外,另有 m 个可以摆放无线路由器的位置。你可以在这些位置中选择至多 k 个增设新的路由器。<br>　　你的目标是使得第 1 个路由器和第 2 个路由器之间的网络连接经过尽量少的中转路由器。请问在最优方案下中转路由器的最少个数是多少?<br><strong>输入格式:</strong><br>　　第一行包含四个正整数 n,m,k,r。(2 ≤ n ≤ 100,1 ≤ k ≤ m ≤ 100, 1 ≤ r ≤ 108)。<br>　　接下来 n 行,每行包含两个整数 xi 和 yi,表示一个已经放置好的无线 路由器在 (xi, yi) 点处。输入数据保证第 1 和第 2 个路由器在仅有这 n 个路由器的情况下已经可以互相连接(经过一系列的中转路由器)。<br>　　接下来 m 行,每行包含两个整数 xi 和 yi,表示 (xi, yi) 点处可以增设 一个路由器。<br>　　输入中所有的坐标的绝对值不超过 108,保证输入中的坐标各不相同。<br><strong>输出格式:</strong><br>　　输出只有一个数,即在指定的位置中增设 k 个路由器后,从第 1 个路 由器到第 2 个路由器最少经过的中转路由器的个数。<br><strong>样例输入:</strong><br>5 3 1 3<br>0 0<br>5 5<br>0 3<br>0 5<br>3 5<br>3 3<br>4 4<br>3 0<br><strong>样例输出:</strong><br>2</p></blockquote><h2 id="题目解答"><a href="#题目解答" class="headerlink" title="题目解答"></a>题目解答</h2><pre><code class="c"></code></pre><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><hr>]]></content>
      
      
      
        <tags>
            
            <tag> CCF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CCF 201403-3 题</title>
      <link href="/2020/04/03/CCF-201403-3-%E9%A2%98/"/>
      <url>/2020/04/03/CCF-201403-3-%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<h2 id="“命令行选项”-题目要求"><a href="#“命令行选项”-题目要求" class="headerlink" title="“命令行选项” 题目要求"></a>“命令行选项” 题目要求</h2><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/20140303.png" alt="命令行选项"></p><h2 id="题目解答"><a href="#题目解答" class="headerlink" title="题目解答"></a>题目解答</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="meta-keyword">include</span> <span class="meta-string">"stdio.h"</span></span></span><br><span class="line"><span class="meta"># <span class="meta-keyword">include</span><span class="meta-string">"string.h"</span></span></span><br><span class="line"><span class="meta"># <span class="meta-keyword">define</span> WORD 52</span></span><br><span class="line"><span class="meta"># <span class="meta-keyword">define</span> ROW 20</span></span><br><span class="line"><span class="meta"># <span class="meta-keyword">define</span> CONTENT 256</span></span><br><span class="line"><span class="meta"># <span class="meta-keyword">define</span> WORDS 26</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 返回值 0: false;1: 无参数；2：有参数 </span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">judgeType</span><span class="params">(<span class="keyword">char</span> target[], <span class="keyword">char</span> test[], <span class="keyword">int</span> targetLen, <span class="keyword">int</span> testLen)</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> i,j;</span><br><span class="line"><span class="keyword">if</span>(testLen == <span class="number">2</span> &amp;&amp; test[<span class="number">0</span>]==<span class="string">'-'</span>)&#123;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;targetLen;i++)&#123;</span><br><span class="line"><span class="keyword">if</span>(test[<span class="number">1</span>]==target[i])&#123;</span><br><span class="line"><span class="keyword">return</span> (target[i+<span class="number">1</span>]==<span class="string">':'</span>? <span class="number">2</span>: <span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 符合条件的字符串 =&gt;  res</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">copyCorrectWord</span><span class="params">(<span class="keyword">char</span> test[], <span class="keyword">char</span> res[][CONTENT],<span class="keyword">int</span> i, <span class="keyword">int</span> k,<span class="keyword">int</span> testLen)</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> j;</span><br><span class="line"><span class="keyword">for</span>(j=<span class="number">0</span>;j&lt;testLen;j++)&#123;</span><br><span class="line">res[i][k++]=test[j];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> k;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">char</span> target[WORD],test[CONTENT],res[ROW][CONTENT],temp,words[WORDS];</span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"><span class="keyword">int</span> i,j,k,count,flag,tempFlag,targetLen,testLen;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%s%d"</span>, target,&amp;n);</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%c"</span>,&amp;temp);</span><br><span class="line">targetLen = <span class="built_in">strlen</span>(target);</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;WORDS;i++)&#123;</span><br><span class="line">words[i]=<span class="string">'a'</span>+i;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">count=<span class="number">0</span>;</span><br><span class="line">k=<span class="number">0</span>;</span><br><span class="line">flag=<span class="number">1</span>;</span><br><span class="line">tempFlag=<span class="number">1</span>;</span><br><span class="line"><span class="keyword">do</span>&#123;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%s%c"</span>, test, &amp;temp);</span><br><span class="line">testLen = <span class="built_in">strlen</span>(test);</span><br><span class="line">count++;</span><br><span class="line"><span class="keyword">if</span>(count&gt;<span class="number">1</span>&amp;&amp;flag)&#123;</span><br><span class="line"><span class="keyword">if</span>(flag==<span class="number">1</span>)&#123;</span><br><span class="line">tempFlag= judgeType(target,test,targetLen,testLen);</span><br><span class="line"><span class="keyword">if</span>(tempFlag)&#123;</span><br><span class="line">res[i][k++]=<span class="string">'/'</span>;</span><br><span class="line">&#125;</span><br><span class="line">k=tempFlag?copyCorrectWord(test,res,i,k,testLen):k;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">k=copyCorrectWord(test,res,i,k,testLen);</span><br><span class="line">tempFlag=<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">flag = tempFlag;</span><br><span class="line">&#125;<span class="keyword">while</span>(temp!=<span class="string">'\n'</span>);</span><br><span class="line"><span class="keyword">if</span>(flag==<span class="number">2</span>)&#123;</span><br><span class="line">res[i][k<span class="number">-2</span>]=<span class="string">'\0'</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">res[i][k]=<span class="string">'/'</span>;</span><br><span class="line">res[i][k+<span class="number">1</span>]=<span class="string">'\0'</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">temp=<span class="string">' '</span>;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"Case %d: "</span>, i+<span class="number">1</span>);</span><br><span class="line"><span class="keyword">for</span>(j=<span class="number">0</span>;j&lt;WORDS;j++)&#123;</span><br><span class="line"><span class="keyword">for</span>(k=<span class="built_in">strlen</span>(res[i])<span class="number">-1</span>;k&gt;<span class="number">0</span>;k--)&#123;</span><br><span class="line"><span class="keyword">if</span>(words[j]==res[i][k] &amp;&amp; res[i][k<span class="number">-2</span>]==<span class="string">'/'</span>)&#123;</span><br><span class="line">count=k<span class="number">-1</span>;</span><br><span class="line">flag=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span>(res[i][count]!=<span class="string">'/'</span>)&#123;</span><br><span class="line"><span class="keyword">if</span>(flag==<span class="number">2</span>)&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%c"</span>, temp);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%c"</span>, res[i][count++]);</span><br><span class="line">flag++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%c"</span>, temp);</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><div style="border:1px solid #eee;padding:15px 15px"><p>1. 当前行的命令属于格式化字符串，如若不属于则屏蔽当前行的后续指令</p><p>2. 命令按小写字母从小到大排序输出</p><p>3. 相同的命令只记录最后一个（无参数，有参数的带上最后一个参数）</p><p>第一个条件就是遍历格式化字符串，如果符合条件就放到结果中，不符合则后续的命令都不做处理</p><p>第二个条件跟第三个条件看起来比较复杂，但是既然是记录最后一个，可以从后向前遍历，而按小写字母顺序输出的话，可以定义一个小写字母的数组，两个结合遍历输出。</p></div><hr>]]></content>
      
      
      
        <tags>
            
            <tag> CCF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CCF 201403-2 题</title>
      <link href="/2020/04/03/CCF-201403-2-%E9%A2%98/"/>
      <url>/2020/04/03/CCF-201403-2-%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<h2 id="“窗口”-题目要求"><a href="#“窗口”-题目要求" class="headerlink" title="“窗口” 题目要求"></a>“窗口” 题目要求</h2><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/20140302.png" alt="窗口"></p><h2 id="题目解答"><a href="#题目解答" class="headerlink" title="题目解答"></a>题目解答</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="meta-keyword">include</span> <span class="meta-string">"stdio.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdbool.h&gt;</span></span></span><br><span class="line"><span class="meta"># <span class="meta-keyword">define</span> MAX 10</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> i,j,k,s,M,N,flag,arr[MAX+<span class="number">1</span>][<span class="number">5</span>],<span class="built_in">click</span>[MAX][<span class="number">2</span>];</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;N,&amp;M);</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;N;i++)&#123;</span><br><span class="line">arr[i][<span class="number">4</span>]=i+<span class="number">1</span>;</span><br><span class="line"><span class="keyword">for</span>(j=<span class="number">0</span>;j&lt;<span class="number">4</span>;j++)&#123;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;arr[i][j]);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;M;i++)&#123;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;<span class="built_in">click</span>[i][<span class="number">0</span>],&amp;<span class="built_in">click</span>[i][<span class="number">1</span>]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;M;i++)&#123;</span><br><span class="line">flag=<span class="number">1</span>;</span><br><span class="line"><span class="keyword">for</span>(j=N<span class="number">-1</span>;j&gt;=<span class="number">0</span>;j--)&#123;</span><br><span class="line"><span class="keyword">if</span>(arr[j][<span class="number">0</span>]&lt;=<span class="built_in">click</span>[i][<span class="number">0</span>] &amp;&amp; arr[j][<span class="number">2</span>]&gt;=<span class="built_in">click</span>[i][<span class="number">0</span>] &amp;&amp; arr[j][<span class="number">1</span>]&lt;=<span class="built_in">click</span>[i][<span class="number">1</span>] &amp;&amp; arr[j][<span class="number">3</span>]&gt;=<span class="built_in">click</span>[i][<span class="number">1</span>])&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d \n"</span>,arr[j][<span class="number">4</span>]);</span><br><span class="line"><span class="keyword">for</span>(s=<span class="number">0</span>;s&lt;<span class="number">5</span>;s++)&#123;</span><br><span class="line">arr[N][s]=arr[j][s];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(k=j;k&lt;N;k++)&#123;</span><br><span class="line"><span class="keyword">for</span>(s=<span class="number">0</span>;s&lt;<span class="number">5</span>;s++)&#123;</span><br><span class="line">arr[k][s]=arr[k+<span class="number">1</span>][s];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">flag=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(flag)&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"IGNORED\n"</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><ol><li>窗口设置 N+1，其中第 N+1 个用来存放点击的窗口</li><li>点击窗口后，窗口位置依次移动，最后 arr[N-1][i] = arr[N][i]</li><li>从后向前遍历寻找点击的窗口</li></ol><hr>]]></content>
      
      
      
        <tags>
            
            <tag> CCF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CCF 201403-1 题</title>
      <link href="/2020/04/03/CCF-201403-1-%E9%A2%98/"/>
      <url>/2020/04/03/CCF-201403-1-%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<h2 id="“相反数”-题目要求"><a href="#“相反数”-题目要求" class="headerlink" title="“相反数” 题目要求"></a>“相反数” 题目要求</h2><blockquote><p><strong>问题描述:</strong><br>　　有 N 个非零且各不相同的整数。请你编一个程序求出它们中有多少对相反数(a 和 -a 为一对相反数)。<br><strong>输入格式:</strong><br>　　第一行包含一个正整数 N。(1 ≤ N ≤ 500)。<br>　　第二行为 N 个用单个空格隔开的非零整数,每个数的绝对值不超过1000,保证这些整数各不相同。<br><strong>输出格式:</strong><br>　　只输出一个整数,即这 N 个数中包含多少对相反数。<br><strong>样例输入:</strong><br>5<br>1 2 3 -1 -2<br><strong>样例输出:</strong><br>2</p></blockquote><h2 id="题目解答"><a href="#题目解答" class="headerlink" title="题目解答"></a>题目解答</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="meta-keyword">include</span><span class="meta-string">"stdio.h"</span> </span></span><br><span class="line"><span class="meta"># <span class="meta-keyword">define</span> MAX 500</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> i,j,N,arr[MAX],sum;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;N);</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;N;i++)&#123;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;arr[i]);</span><br><span class="line">&#125;</span><br><span class="line">sum = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;N;i++)&#123;</span><br><span class="line"><span class="keyword">for</span>(j=i+<span class="number">1</span>;j&lt;N;j++)&#123;</span><br><span class="line">sum = arr[i]+arr[j] == <span class="number">0</span> ? sum+<span class="number">1</span> : sum;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d"</span>, sum);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><p>双层循环，当两个数的加起来是 0 的时候是相反数，记录即可。</p><hr>]]></content>
      
      
      
        <tags>
            
            <tag> CCF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CCF 201312-5 题</title>
      <link href="/2020/03/27/CCF-201312-5-%E9%A2%98/"/>
      <url>/2020/03/27/CCF-201312-5-%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<h2 id="“I’m-stuck-”-题目要求"><a href="#“I’m-stuck-”-题目要求" class="headerlink" title="“I’m stuck!” 题目要求"></a>“I’m stuck!” 题目要求</h2><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/20131205.png" alt="I&#39;m struck"></p><h2 id="题目解答"><a href="#题目解答" class="headerlink" title="题目解答"></a>题目解答</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"stdio.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAX 50</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> R,C,i,j,m,n;</span><br><span class="line"><span class="keyword">int</span> count, x1,y1,x2,y2;</span><br><span class="line"><span class="keyword">char</span> <span class="built_in">map</span>[MAX][MAX];</span><br><span class="line"><span class="keyword">int</span> mapS[MAX][MAX],mapT[MAX][MAX],mapB[MAX][MAX];</span><br><span class="line"><span class="keyword">char</span> temp;</span><br><span class="line"><span class="comment">// 深度搜索 </span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DFS</span><span class="params">(<span class="keyword">int</span> i, <span class="keyword">int</span> j, <span class="keyword">char</span> <span class="built_in">map</span>[MAX][MAX], <span class="keyword">int</span> mapTemp[MAX][MAX])</span> </span>&#123;</span><br><span class="line"><span class="comment">// 终止条件处理 </span></span><br><span class="line"><span class="comment">// 1. 移出地图</span></span><br><span class="line"><span class="comment">// 2. 遇到 #</span></span><br><span class="line"><span class="comment">// 3. 已经搜索过了 </span></span><br><span class="line"><span class="keyword">if</span> (i&lt;<span class="number">0</span> || i&gt;=R || j&lt;<span class="number">0</span> || j&gt;=C || <span class="built_in">map</span>[i][j]==<span class="string">'#'</span> || mapTemp[i][j] == <span class="number">1</span>)&#123;</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line">mapTemp[i][j] = <span class="number">1</span>;</span><br><span class="line"><span class="comment">// 规则&amp;&amp;方向 </span></span><br><span class="line"><span class="keyword">switch</span> (<span class="built_in">map</span>[i][j]) &#123;</span><br><span class="line"><span class="keyword">case</span> <span class="string">'S'</span>:</span><br><span class="line"><span class="keyword">case</span> <span class="string">'T'</span>:</span><br><span class="line"><span class="keyword">case</span> <span class="string">'+'</span>: </span><br><span class="line">DFS(i<span class="number">-1</span>, j, <span class="built_in">map</span>, mapTemp);</span><br><span class="line">DFS(i+<span class="number">1</span>, j, <span class="built_in">map</span>, mapTemp);</span><br><span class="line">DFS(i, j<span class="number">-1</span>, <span class="built_in">map</span>, mapTemp);</span><br><span class="line">DFS(i, j+<span class="number">1</span>, <span class="built_in">map</span>, mapTemp);</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="string">'-'</span>:</span><br><span class="line">DFS(i, j<span class="number">-1</span>, <span class="built_in">map</span>, mapTemp);</span><br><span class="line">DFS(i, j+<span class="number">1</span>, <span class="built_in">map</span>, mapTemp);</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="string">'|'</span>:</span><br><span class="line">DFS(i<span class="number">-1</span>, j, <span class="built_in">map</span>, mapTemp);</span><br><span class="line">DFS(i+<span class="number">1</span>, j, <span class="built_in">map</span>, mapTemp);</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="string">'.'</span>:</span><br><span class="line">DFS(i+<span class="number">1</span>, j, <span class="built_in">map</span>, mapTemp);</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;                  </span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;R,&amp;C);</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%c"</span>,&amp;temp);</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;R;i++)&#123;</span><br><span class="line"><span class="keyword">for</span>(j=<span class="number">0</span>;j&lt;C;j++)&#123;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%c"</span>,&amp;<span class="built_in">map</span>[i][j]);</span><br><span class="line">mapS[i][j]=<span class="number">0</span>;</span><br><span class="line">mapT[i][j]=<span class="number">0</span>;</span><br><span class="line">mapB[i][j]=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">if</span>(<span class="built_in">map</span>[i][j]==<span class="string">'S'</span>)&#123;</span><br><span class="line">x1=i;</span><br><span class="line">y1=j;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(<span class="built_in">map</span>[i][j]==<span class="string">'T'</span>)&#123;</span><br><span class="line">x2=i;</span><br><span class="line">y2=j;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%c"</span>,&amp;temp);</span><br><span class="line">&#125;</span><br><span class="line">DFS(x1,y1,<span class="built_in">map</span>, mapS);</span><br><span class="line">count = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;R;i++)&#123;</span><br><span class="line"><span class="keyword">for</span>(j=<span class="number">0</span>;j&lt;C;j++)&#123;</span><br><span class="line">count +=mapS[i][j];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(count==<span class="number">1</span>)&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"I'm stuck!"</span>);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;R;i++)&#123;</span><br><span class="line"><span class="keyword">for</span>(j=<span class="number">0</span>;j&lt;C;j++)&#123;</span><br><span class="line"><span class="keyword">if</span>(mapS[i][j])&#123;</span><br><span class="line"><span class="keyword">for</span>(m=<span class="number">0</span>;m&lt;R;m++)&#123;</span><br><span class="line"><span class="keyword">for</span>(n=<span class="number">0</span>;n&lt;C;n++)&#123;</span><br><span class="line">mapB[m][n] = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">DFS(i,j,<span class="built_in">map</span>,mapB);</span><br><span class="line">mapT[i][j] = mapB[x2][y2] ? <span class="number">1</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">count = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;R;i++)&#123;</span><br><span class="line"><span class="keyword">for</span>(j=<span class="number">0</span>;j&lt;C;j++)&#123;</span><br><span class="line"><span class="keyword">if</span> (mapS[i][j] &amp;&amp; mapT[i][j]==<span class="number">0</span>)&#123;</span><br><span class="line">count ++;                   </span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d"</span>, count);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><p>按深度搜索 找出从 S 出发遇到的点集 mapS, 然后搜索 mapS 中的每一个点看其是否可以到达终点 T。</p><ul><li>mapS: S 出发到达的点集；</li><li>mapT: mapS中可以到终点 T 的点集</li><li>mapS[i][j]==1 &amp;&amp; mapT[i][j]==0: 可以从 S 到 目标点，但从目标点 无法到达 T。</li></ul><h2 id="深度搜索算法-DFS"><a href="#深度搜索算法-DFS" class="headerlink" title="深度搜索算法 (DFS)"></a>深度搜索算法 (DFS)</h2><ul><li>简介： <a href="https://zh.wikipedia.org/wiki/%E6%B7%B1%E5%BA%A6%E4%BC%98%E5%85%88%E6%90%9C%E7%B4%A2" target="_blank" rel="noopener">https://zh.wikipedia.org/wiki/%E6%B7%B1%E5%BA%A6%E4%BC%98%E5%85%88%E6%90%9C%E7%B4%A2</a></li></ul><blockquote><ul><li>深度优先搜索算法（英语：Depth-First-Search，DFS）是一种用于遍历或搜索树或图的算法。这个算法会尽可能深的搜索树的分支。当节点v的所在边都己被探寻过，搜索将回溯到发现节点v的那条边的起始节点。这一过程一直进行到已发现从源节点可达的所有节点为止。如果还存在未被发现的节点，则选择其中一个作为源节点并重复以上过程，整个进程反复进行直到所有节点都被访问为止。</li><li>深度优先搜索是图论中的经典算法，利用深度优先搜索算法可以产生目标图的拓扑排序表</li><li>因发明“深度优先搜索算法”，约翰·霍普克洛夫特与罗伯特·塔扬在1986年共同获得计算机领域的最高奖：图灵奖。</li></ul></blockquote><h3 id="算法过程"><a href="#算法过程" class="headerlink" title="算法过程"></a>算法过程</h3><ol><li>首先将根节点放入stack中。</li><li>从stack中取出第一个节点，并检验它是否为目标。<ul><li>如果找到目标，则结束搜寻并回传结果。</li><li>否则将它某一个尚未检验过的直接子节点加入stack中。</li></ul></li><li>重复步骤2。</li><li>如果不存在未检测过的直接子节点。<ul><li>将上一级节点加入stack中。</li><li>重复步骤2。</li></ul></li><li>重复步骤4。</li><li>若stack为空，表示整张图都检查过了——亦即图中没有欲搜寻的目标。结束搜寻并回传“找不到目标”。</li></ol><hr>]]></content>
      
      
      
        <tags>
            
            <tag> CCF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CCF 201312-4 题</title>
      <link href="/2020/03/27/CCF-201312-4-%E9%A2%98/"/>
      <url>/2020/03/27/CCF-201312-4-%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<h2 id="“有趣的数”-题目要求"><a href="#“有趣的数”-题目要求" class="headerlink" title="“有趣的数” 题目要求"></a>“有趣的数” 题目要求</h2><blockquote><p><strong>问题描述</strong><br>　　我们把一个数称为有趣的，当且仅当：<br>　　1. 它的数字只包含0, 1, 2, 3，且这四个数字都出现过至少一次。<br>　　2. 所有的0都出现在所有的1之前，而所有的2都出现在所有的3之前。<br>　　3. 最高位数字不为0。<br>　　因此，符合我们定义的最小的有趣的数是2013。除此以外，4位的有趣的数还有两个：2031和2301。<br>　　请计算恰好有n位的有趣的数的个数。由于答案可能非常大，只需要输出答案除以1000000007的余数。<br><strong>输入格式</strong><br>　　输入只有一行，包括恰好一个正整数n (4 ≤ n ≤ 1000)。<br><strong>输出格式</strong><br>　　输出只有一行，包括恰好n 位的整数中有趣的数的个数除以1000000007的余数。<br><strong>样例输入</strong><br>4<br><strong>样例输出</strong><br>3</p></blockquote><h2 id="题目解答"><a href="#题目解答" class="headerlink" title="题目解答"></a>题目解答</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="meta-keyword">include</span><span class="meta-string">"stdio.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> TAG 1000000007</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAX 1001</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> PRO 6</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> m,i;</span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> dp[MAX][PRO];</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;m);</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;PRO;i++)&#123;</span><br><span class="line">dp[<span class="number">0</span>][i]=<span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (i=<span class="number">0</span>;i&lt;m;i++) &#123;</span><br><span class="line">dp[i+<span class="number">1</span>][<span class="number">0</span>]=<span class="number">1</span>;</span><br><span class="line">dp[i+<span class="number">1</span>][<span class="number">1</span>]=(<span class="number">2</span>*dp[i][<span class="number">1</span>]%TAG + dp[i][<span class="number">0</span>]%TAG)%TAG;</span><br><span class="line">dp[i+<span class="number">1</span>][<span class="number">2</span>]=(dp[i][<span class="number">2</span>]%TAG + dp[i][<span class="number">0</span>]%TAG)%TAG;</span><br><span class="line">dp[i+<span class="number">1</span>][<span class="number">3</span>]=(<span class="number">2</span>*dp[i][<span class="number">3</span>]%TAG + dp[i][<span class="number">1</span>]%TAG)%TAG;</span><br><span class="line">dp[i+<span class="number">1</span>][<span class="number">4</span>]=(<span class="number">2</span>*dp[i][<span class="number">4</span>]%TAG + dp[i][<span class="number">2</span>]%TAG + dp[i][<span class="number">1</span>]%TAG)%TAG;</span><br><span class="line">dp[i+<span class="number">1</span>][<span class="number">5</span>]=(<span class="number">2</span>*dp[i][<span class="number">5</span>]%TAG + dp[i][<span class="number">3</span>]%TAG + dp[i][<span class="number">4</span>]%TAG)%TAG;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d"</span>, dp[m][<span class="number">5</span>]);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><ol><li>最高位是2；</li><li>0，1，2，3都至少出现过一次；</li><li>所有的0都出现在所有的1之前，而所有的2都出现在所有的3之前；</li></ol><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/20131204.png" alt="可能出现的情况"></p><ul><li>2</li><li>2，0</li><li>2，3</li><li>2，0，3</li><li>2，0，1</li><li>2，0，1，3</li></ul><p>根据题目分析可以知道： 2，0，1，3 的出现可以由图推算出，所以我们可以采用（DP 算法，将其拆分然后求出最优解）</p><h2 id="动态规划-Dynamic-Programming"><a href="#动态规划-Dynamic-Programming" class="headerlink" title="动态规划(Dynamic Programming)"></a>动态规划(Dynamic Programming)</h2><blockquote><p>动态规划（英语：Dynamic programming，简称DP）是一种在数学、管理科学、计算机科学、经济学和生物信息学中使用的，通过把原问题分解为相对简单的子问题的方式求解复杂问题的方法。</p></blockquote><blockquote><p>动态规划常常适用于有<strong>重叠子问题</strong>和<strong>最优子结构</strong>（英语：Optimal substructure）性质的问题，动态规划方法所耗时间往往远少于朴素解法。</p></blockquote><blockquote><p>动态规划背后的基本思想非常简单。大致上，若要解一个给定问题，我们需要解其不同部分（即子问题），再根据子问题的解以得出原问题的解。</p></blockquote><blockquote><p>通常许多子问题非常相似，为此动态规划法试图仅仅解决每个子问题一次，从而减少计算量：一旦某个给定子问题的解已经算出，则将其记忆化存储，以便下次需要同一个子问题解之时直接查表。这种做法在重复子问题的数目关于输入的规模呈指数增长时特别有用。</p></blockquote><ol><li><p>最优子结构性质: 如果问题的最优解所包含的子问题的解也是最优的，我们就称该问题具有最优子结构性质（即满足最优化原理）。最优子结构性质为动态规划算法解决问题提供了重要线索。<br>无后效性。即子问题的解一旦确定，就不再改变，不受在这之后、包含它的更大的问题的求解决策影响。</p></li><li><p>子问题重叠性质: 子问题重叠性质是指在用递归算法自顶向下对问题进行求解时，每次产生的子问题并不总是新问题，有些子问题会被重复计算多次。动态规划算法正是利用了这种子问题的重叠性质，对每一个子问题只计算一次，然后将其计算结果保存在一个表格中，当再次需要计算已经计算过的子问题时，只是在表格中简单地查看一下结果，从而获得较高的效率。</p></li></ol><hr>]]></content>
      
      
      
        <tags>
            
            <tag> CCF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CCF 201312-3 题</title>
      <link href="/2020/03/27/CCF-201312-3-%E9%A2%98/"/>
      <url>/2020/03/27/CCF-201312-3-%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<h2 id="“最大的矩形”-题目要求"><a href="#“最大的矩形”-题目要求" class="headerlink" title="“最大的矩形” 题目要求"></a>“最大的矩形” 题目要求</h2><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/20131203.png" alt="最大的矩形"></p><h2 id="题目解答"><a href="#题目解答" class="headerlink" title="题目解答"></a>题目解答</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">"stdio.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAX 1000</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> arr[MAX],s[MAX];</span><br><span class="line"><span class="keyword">int</span> m,i,j,k,Smax=<span class="number">0</span>;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;m);</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;m;i++)&#123;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;arr[i]);</span><br><span class="line">s[i]=arr[i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;m;i++)&#123;</span><br><span class="line"><span class="keyword">for</span>(j=i+<span class="number">1</span>;j&lt;m;j++)&#123;</span><br><span class="line"><span class="keyword">if</span>(arr[j] &gt;= arr[i])&#123;</span><br><span class="line">s[i] += arr[i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(k=i<span class="number">-1</span>;k&gt;=<span class="number">0</span>;k--)&#123;</span><br><span class="line"><span class="keyword">if</span>(arr[k]&gt;=arr[i])&#123;</span><br><span class="line">s[i]+=arr[i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;m;i++)&#123;</span><br><span class="line">Smax = Smax &lt; s[i] ? s[i] : Smax; </span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d"</span>, Smax);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><ol><li>记录每个矩形组成的最大矩形面积</li><li>从中挑选出最大的那一块</li></ol><hr>]]></content>
      
      
      
        <tags>
            
            <tag> CCF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CCF 201312-2 题</title>
      <link href="/2020/03/27/CCF-201312-2-%E9%A2%98/"/>
      <url>/2020/03/27/CCF-201312-2-%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<h2 id="“ISBN号码”题目要求"><a href="#“ISBN号码”题目要求" class="headerlink" title="“ISBN号码”题目要求"></a>“ISBN号码”题目要求</h2><blockquote><p><strong>问题描述</strong><br>　　每一本正式出版的图书都有一个ISBN号码与之对应，ISBN码包括9位数字、1位识别码和3位分隔符，其规定格式如“x-xxx-xxxxx-x”，其中符号“-”是分隔符（键盘上的减号），最后一位是识别码，例如0-670-82162-4就是一个标准的ISBN码。ISBN码的首位数字表示书籍的出版语言，例如0代表英语；第一个分隔符“-”之后的三位数字代表出版社，例如670代表维京出版社；第二个分隔之后的五位数字代表该书在出版社的编号；最后一位为识别码。<br>　　识别码的计算方法如下：<br>　　首位数字乘以1加上次位数字乘以2……以此类推，用所得的结果mod 11，所得的余数即为识别码，如果余数为10，则识别码为大写字母X。例如ISBN号码0-670-82162-4中的识别码4是这样得到的：对067082162这9个数字，从左至右，分别乘以1，2，…，9，再求和，即0×1+6×2+……+2×9=158，然后取158 mod 11的结果4作为识别码。<br>　　编写程序判断输入的ISBN号码中识别码是否正确，如果正确，则仅输出“Right”；如果错误，则输出是正确的ISBN号码。<br><strong>输入格式</strong><br>　　输入只有一行，是一个字符序列，表示一本书的ISBN号码（保证输入符合ISBN号码的格式要求）。<br><strong>输出格式</strong><br>　　输出一行，假如输入的ISBN号码的识别码正确，那么输出“Right”，否则，按照规定的格式，输出正确的ISBN号码（包括分隔符“-”）。<br><strong>样例输入</strong><br>0-670-82162-4<br><strong>样例输出</strong><br>Right<br><strong>样例输入</strong><br>0-670-82162-0<br><strong>样例输出</strong><br>0-670-82162-4</p></blockquote><h2 id="题目解答"><a href="#题目解答" class="headerlink" title="题目解答"></a>题目解答</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="meta-keyword">include</span> <span class="meta-string">"stdio.h"</span></span></span><br><span class="line"><span class="meta"># <span class="meta-keyword">define</span> ALL 13</span></span><br><span class="line"><span class="meta"># <span class="meta-keyword">define</span> SOM 10</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">char</span> arr[ALL];</span><br><span class="line"><span class="keyword">int</span> i, num[SOM],j=<span class="number">0</span>,result=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;ALL;i++)&#123;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%c"</span>, &amp;arr[i]);</span><br><span class="line"><span class="keyword">if</span>(arr[i]!=<span class="string">'-'</span>)&#123;</span><br><span class="line">num[j] = arr[i]-<span class="string">'0'</span>;</span><br><span class="line">j++;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;SOM<span class="number">-1</span>;i++)&#123;</span><br><span class="line">result += num[i]*(i+<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line">result=result % <span class="number">11</span>;</span><br><span class="line"><span class="keyword">if</span>(result==num[SOM<span class="number">-1</span>])&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"Right"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(result==<span class="number">10</span>) &#123;</span><br><span class="line"><span class="keyword">if</span>(arr[ALL<span class="number">-1</span>] == <span class="string">'X'</span>)&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"Right"</span>);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;ALL<span class="number">-1</span>;i++)&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%c"</span>, arr[i]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"X"</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;ALL<span class="number">-1</span>;i++)&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%c"</span>, arr[i]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d"</span>, result);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><p>根据规则计算最后一位的值， 判断是否正确并输出结果。</p><hr>]]></content>
      
      
      
        <tags>
            
            <tag> CCF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CCF 201312-1 题</title>
      <link href="/2020/03/27/CCF-201312-1-%E9%A2%98/"/>
      <url>/2020/03/27/CCF-201312-1-%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<h2 id="“出现次数最多的数”-题目要求"><a href="#“出现次数最多的数”-题目要求" class="headerlink" title="“出现次数最多的数” 题目要求"></a>“出现次数最多的数” 题目要求</h2><blockquote><p><strong>问题描述:</strong><br>给定n个正整数，找出它们中出现次数最多的数。如果这样的数有多个，请输出其中最小的一个。<br><strong>输入格式</strong><br>输入的第一行只有一个正整数n(1 ≤ n ≤ 1000)，表示数字的个数。<br>输入的第二行有n个整数s1, s2, …, sn (1 ≤ si ≤ 10000, 1 ≤ i ≤ n)。相邻的数用空格分隔。<br><strong>输出格式</strong><br>输出这n个次数中出现次数最多的数。如果这样的数有多个，输出其中最小的一个。<br><strong>样例输入</strong><br>6<br>0 1 10 20 30 20<br><strong>样例输出</strong><br>10</p></blockquote><h2 id="题目解答"><a href="#题目解答" class="headerlink" title="题目解答"></a>题目解答</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="meta-keyword">include</span><span class="meta-string">"stdio.h"</span></span></span><br><span class="line"><span class="meta"># <span class="meta-keyword">define</span> MAX 1000</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> m,i,j;</span><br><span class="line"><span class="keyword">int</span> arr[MAX];</span><br><span class="line"><span class="keyword">int</span> <span class="built_in">min</span>, len,before,now;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;m);</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;m;i++)&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;arr[i]);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;m;i++)&#123;</span><br><span class="line">  <span class="keyword">for</span>(j=i+<span class="number">1</span>;j&lt;m;j++)&#123;</span><br><span class="line">  <span class="keyword">if</span>(arr[j]&lt;arr[i])&#123;</span><br><span class="line">  <span class="keyword">int</span> tag = arr[i];</span><br><span class="line">  arr[i]=arr[j];</span><br><span class="line">  arr[j]=tag;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;m;i++)&#123;</span><br><span class="line"><span class="built_in">min</span> = arr[<span class="number">0</span>];</span><br><span class="line">len=<span class="number">0</span>;</span><br><span class="line">before=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">if</span>(arr[i]&gt;arr[<span class="number">0</span>])&#123;</span><br><span class="line">len=i;</span><br><span class="line">before=i;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(len)&#123;</span><br><span class="line"><span class="keyword">for</span>(i=len;i&lt;m;i++)&#123;</span><br><span class="line"><span class="keyword">if</span>(arr[i]&gt;arr[len])&#123;</span><br><span class="line">now=i-len;</span><br><span class="line"><span class="keyword">if</span>(now&gt;before)&#123;</span><br><span class="line"><span class="built_in">min</span>=arr[len];</span><br><span class="line">before=now;</span><br><span class="line">&#125;</span><br><span class="line">len=i;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d"</span>, <span class="built_in">min</span>);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><p>先从小到大排序，在找出众数。</p><hr>]]></content>
      
      
      
        <tags>
            
            <tag> CCF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>初识 内存条</title>
      <link href="/2020/03/26/%E5%88%9D%E8%AF%86-%E5%86%85%E5%AD%98%E6%9D%A1/"/>
      <url>/2020/03/26/%E5%88%9D%E8%AF%86-%E5%86%85%E5%AD%98%E6%9D%A1/</url>
      
        <content type="html"><![CDATA[<h2 id="内存条-Random-Access-Memory-概念"><a href="#内存条-Random-Access-Memory-概念" class="headerlink" title="内存条(Random Access Memory) 概念"></a>内存条(Random Access Memory) 概念</h2><blockquote><ul><li>内存条是CPU可通过总线寻址，并进行读写操作的电脑部件。我们通常所说电脑内存（RAM）的大小，即是指内存条的总容量。内存条是电脑必不可少的组成部分，CPU可通过数据总线对内存寻址。</li><li>历史上的电脑主板上有主内存，内存条是主内存的扩展。以后的电脑主板上没有主内存，CPU完全依赖内存条。所有外存上的内容必须通过内存才能发挥作用</li></ul></blockquote><h2 id="内存条-Random-Access-Memory-厂商"><a href="#内存条-Random-Access-Memory-厂商" class="headerlink" title="内存条(Random Access Memory) 厂商"></a>内存条(Random Access Memory) 厂商</h2><ul><li><p>内存条主流产商</p><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/%E5%86%85%E5%AD%98%E6%9D%A1%E5%8E%82%E5%95%86.png" alt="内存条主流厂商"></p></li><li><p>内存条主流厂商市场份额</p><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/%E5%86%85%E5%AD%98%E6%9D%A1%E4%BB%BD%E9%A2%9D.png" alt="内存条主流厂商市场份额"></p></li><li><p>内存条厂商简介</p></li></ul><ol><li><p>英睿达(Crucial)</p><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/crucial.png" alt="英睿达"></p><blockquote><p>Crucial英睿达是美光（Micron）旗下的一个品牌。Crucial专注于销售采用美光芯片与技术制造的计算机内存、随身碟及固态硬盘产品，其铂胜（Ballistix）系列的内存拥有良好的超频效能，故多被发烧友所采用。</p></blockquote></li><li><p>金士顿(Kingston)</p><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/kingston.png" alt="金士顿"></p><blockquote><p>金士顿科技公司（英语：Kingston Technology Corporation）是一家美国内存产品生产商, 是现今全球最大的独立内存产品制造商，2015年拥有64.7%全球市场份额。以性能为主的DRAM产品线名为HyperX，所有金士顿内存都享有终身保固服务。</p></blockquote></li><li><p>海盗船(Corsair)</p><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/corsair.png" alt="海盗船"></p><blockquote><p>美商海盗船是一家美国电脑周边设备和硬件公司，总部设在加利福尼亚州弗里蒙特市。 起初该公司为英特尔生产COAST模组。后来Corsair专注于生产标准电脑内存。在90年代后期Corsair再一次由专注于生产标准内存改为生产高规格的内存，普遍称为超频内存。Corsair为电脑设计和销售一系列产品，包括高速DRAM模块、电源、U盘、内存、机箱、散热器、游戏外设、固态硬盘和扬声器。</p></blockquote></li><li><p>威刚(ADATA)</p><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/adata.png" alt="威刚"></p><blockquote><p>威刚科技股份有限公司，是台湾一家内存应用产品厂商。营业初期系以内存（DRAM）模块为主要产品线，其后投入闪存应用产品之开发。目前主要产品线，涵盖DRAM及NAND型闪存及外围应用产品领域，包含内存模块、快闪记忆碟、记忆卡、固态硬盘及外接式硬盘。</p></blockquote></li><li><p>十铨(Team)</p><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/team.png" alt="十铨"></p><blockquote><p>十铨科技股份有限公司(Team Group Inc.)是一家内存制造商，主要生产Team Group内存模块、各款记忆卡、随身碟、固态硬盘、行动外围产品及工规记忆储存产品。</p></blockquote></li></ol><h2 id="内存条-Random-Access-Memory-标识"><a href="#内存条-Random-Access-Memory-标识" class="headerlink" title="内存条(Random Access Memory) 标识"></a>内存条(Random Access Memory) 标识</h2><p><a href="https://zhuanlan.zhihu.com/p/26255460" target="_blank" rel="noopener">内存条标识</a></p><p>更新…</p><hr>]]></content>
      
      
      
        <tags>
            
            <tag> 计算机 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>初识 GPU</title>
      <link href="/2020/03/25/%E5%88%9D%E8%AF%86-GPU/"/>
      <url>/2020/03/25/%E5%88%9D%E8%AF%86-GPU/</url>
      
        <content type="html"><![CDATA[<h2 id="GPU-Graphics-Processing-Unit-概念"><a href="#GPU-Graphics-Processing-Unit-概念" class="headerlink" title="GPU (Graphics Processing Unit) 概念"></a>GPU (Graphics Processing Unit) 概念</h2><blockquote><ul><li>GPU (Graphics Processing Unit) 是一种专门在个人电脑、工作站、游戏机和一些移动设备（如平板电脑、智能手机等）上运行绘图运算工作的微处理器。</li><li>图形处理器是英伟达公司（NVIDIA）在1999年8月发表 NVIDIA GeForce 256（GeForce 256）绘图处理芯片时首先提出的概念，在此之前，电脑中处理影像输出的显示芯片，通常很少被视为是一个独立的运算单元。图形处理器使显卡减少对中央处理器（CPU）的依赖，并分担部分原本是由中央处理器所担当的工作，尤其是在进行三维绘图运算时，功效更加明显。图形处理器所采用的核心技术有硬件坐标转换与光源、立体环境材质贴图和顶点混合、纹理压缩和凹凸映射贴图、双重纹理四像素256位渲染引擎等。</li><li>图形处理器可单独与专用电路板以及附属组件组成显卡，或单独一片芯片直接内嵌入到主板上，或者内置于主板的北桥芯片中，现在也有内置于CPU上组成SoC的。</li><li>GPU 不同于传统的 CPU，如 Intel i5 或 i7 处理器，其内核数量较少，专为通用计算而设计。相反，GPU 是一种特殊类型的处理器，具有数百或数千个内核，经过优化，可并行运行大量计算。虽然 GPU 在游戏中以 3D 渲染而闻名，但它们对运行分析、深度学习和机器学习算法尤其有用。GPU 允许某些计算比传统 CPU 上运行相同的计算速度快10倍至100倍。</li></ul></blockquote><h2 id="GPU-Graphics-Processing-Unit-厂商"><a href="#GPU-Graphics-Processing-Unit-厂商" class="headerlink" title="GPU (Graphics Processing Unit) 厂商"></a>GPU (Graphics Processing Unit) 厂商</h2><ul><li><p>NVIDIA(英伟达)</p><p>NVIDIA公司（纳斯达克代码：NVDA）是全球可编程图形处理技术领袖。与ATI（后被AMD收购）齐名，专注于打造能够增强个人和专业计算平台的人机交互体验的产品。公司的图形和通信处理器拥有广泛的市场，已被多种多样的计算平台采用，包括个人数字媒体PC、商用PC、专业工作站、数字内容创建系统、笔记本电脑、军用导航系统和视频游戏控制台等。</p></li><li><p>AMD(超微半导体)</p><p>AMD是目前业内唯一一个可以提供高性能CPU、高性能独立显卡GPU、主板芯片组三大组件的半导体公司，为了明确其优势，AMD提出3A平台的新标志，在笔记本领域有“AMD VISION”标志的就表示该电脑采用3A构建方案。AMD 生产显卡的子品牌有 ATI 和 Radeon。</p></li></ul><h2 id="GPU-Graphics-Processing-Unit-标识"><a href="#GPU-Graphics-Processing-Unit-标识" class="headerlink" title="GPU (Graphics Processing Unit) 标识"></a>GPU (Graphics Processing Unit) 标识</h2><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/NVIDIA%E6%98%BE%E5%8D%A1.png" alt="NVIDIA 显卡标识"></p><ul><li><p>一个栗子</p><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/GPU%E5%91%BD%E5%90%8D.png" alt="NVIDIA 显卡命名"></p><ol><li>NVIDIA即英伟达，品牌名</li><li>GeForce是显卡系列名称</li><li>10：代表的是第几代</li><li>6：是显卡性能档次的定位</li><li>0：不是0就是5, 十位一样, 基本上性能5&gt;0</li></ol><p>英文前缀: 英伟达的显卡会区分几个档次，“GTX”是系列中的高端显卡，”GTS”是系列中的中端显卡，“GT”是系列中的普通显卡，也就是我们说的入门级显卡。<br>英文后缀: 性能上 Ti BOOST&gt;Ti&gt;无后缀&gt;SE. 举个例子, 性能上 GTX 560Ti &gt; GTX 560 &gt; GTX 560 SE<br>ps: GTX Titan=单芯卡皇</p></li><li><p><a href="http://www.mydrivers.com/zhuanti/tianti/gpu/" target="_blank" rel="noopener">GPU 性能天梯图</a></p></li></ul><h2 id="GPU-Graphics-Processing-Unit-参数"><a href="#GPU-Graphics-Processing-Unit-参数" class="headerlink" title="GPU (Graphics Processing Unit) 参数"></a>GPU (Graphics Processing Unit) 参数</h2><ul><li><p>显卡 参数图</p><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/%E6%98%BE%E5%8D%A1%E5%8F%82%E6%95%B0.png" alt="显卡参数"></p></li><li><p>显卡 参数意义</p></li></ul><ol><li>核心代号: 就是指显卡的显示核心（GPU）的开发代号。待更新…</li><li>制造工艺：这个代表芯片制作工艺，表示芯片内部元件管线宽度,数值越小,工艺越先进,集成度越高，越先进。</li><li>流处理器/RT核心/Tensor核心：流处理器单元是统一架构GPU内通用标量着色器的称谓。 流处理单元直接影响处理能力，因为流处理单元是显卡的核心。流处理单元个数越多则处理能力越强，一般成正比关系，但这仅限于NVIDIA自家的核心或者AMD自家的核心比较范畴。</li><li>核心频率(MHz): 显卡的核心频率是指显示核心的工作频率，其工作频率在一定程度上可以反映出显示核心的性能，但显卡的性能是由核心频率、显存、像素管线、像素填充率等等多方面的情况所决定的，因此在显示核心不同的情况下，核心频率高并不代表此显卡性能强劲。</li><li>加速频率(MHz): 是N卡在GPU未达到TDP之时可以“睿频”达到的频率</li><li>显存位宽(-bit): 显存对显示芯片的通道，决定显存在一个运算周期瞬间的吞吐量；(位宽不足会引起高分辨率下画面不流畅，或帧数不稳定现象)。所以，同架构下，显卡位宽决定了数据的吞吐量，越大越好。</li><li>显存容量：显存可缓冲存储数据的容量</li><li>显存频率(GHz): 显存的数据传输速度<ul><li>显存带宽（GB/s）= 显存实际频率（MHz）* 显存数据倍率 * 显存等效位宽（bit）/ 8</li><li>显存带宽（GB/s）= 显存数据频率（Gbps）* 显存等效位宽（bit）/ 8</li></ul></li><li>整卡功耗(W): 显卡满载的功耗，不含超频后功耗，和峰值功耗</li></ol><h2 id="显存-工作原理"><a href="#显存-工作原理" class="headerlink" title="显存 工作原理"></a>显存 工作原理</h2><ul><li>显存工作过程（按顺序）：</li></ul><blockquote><ul><li>从系统总线 进入 GPU：将Cpu送来的数据送到主板芯片组在传输到GPU进行处理</li><li>从GPU芯片进入显存：将显卡芯片处理完的数据送到显存；</li><li>从显存进入数字模拟转换器：从显存读取出数据送到Ram DAC进行数据信号转换工作（俗称数字信号转模拟信号）</li><li>从DAC进入显示器：将转换完的模拟信号数据送到显示屏 显卡性能由2和3两个中间环节决定。</li></ul></blockquote><ul><li>显卡的性能结构</li></ul><blockquote><p>图形芯片： 决定着显卡的图形运算性能、特效渲染、虚拟技术等“大”项目<br>显存： 决定图形处理数据的传输量与速度。<br>它几个参数的作用如下：</p><ol><li>显存位宽 显存对显示芯片的通道，决定显存在一个运算周期瞬间的吞吐量；(位宽不足会引起高分辨率下画面不流畅，或帧数不稳定现象)</li><li>显存带宽 显存与显卡芯片之间的的数据传输量 其大小由显存位宽决定，计算公式：显存带宽=工作频率*显存位宽/8；3.显存频率 显存的数据传输速度4.显存容量 显存可缓冲存储数据的容量1与3是决定性能的关键。</li><li>显存频率 显存的数据传输速度</li><li>显存容量 显存可缓冲存储数据的容量1与3是决定性能的关键。</li></ol></blockquote><ul><li>关注点：</li></ul><blockquote><p>在以前的游戏与设计渲染程序设计当中，更依赖于显卡的频率与位宽；<br>而目前主流的游戏与设计渲染程序设计，更偏向于显存的容量与位宽应用，因为现在的程序基本在高分辨率的情况下运行，而且加入了更多更大的渲染贴图，需要更大的位宽与容量来满足GPU运算的胃口。<br><strong>如果在显存/位宽/频率，里面必须做一个抉择的话，目前购买显卡考虑 显卡芯片&gt;位宽&gt;显存&gt;频率</strong></p></blockquote><hr>]]></content>
      
      
      
        <tags>
            
            <tag> 计算机 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>初识 CPU</title>
      <link href="/2020/03/24/%E5%88%9D%E8%AF%86-CPU/"/>
      <url>/2020/03/24/%E5%88%9D%E8%AF%86-CPU/</url>
      
        <content type="html"><![CDATA[<h2 id="CPU-Central-Processing-Unit-概念"><a href="#CPU-Central-Processing-Unit-概念" class="headerlink" title="CPU (Central Processing Unit) 概念"></a>CPU (Central Processing Unit) 概念</h2><blockquote><ul><li>CPU (Central Processing Unit) ，即中央处理器，是一块超大规模的集成电路，是一台计算机的运算核心（Core）和控制核心（ Control Unit），也被称为计算机的“大脑”。CPU的主要功能是解释计算机指令以及处理计算机软件中的数据.</li><li>CPU 包括运算器（算术逻辑运算单元，ALU，Arithmetic Logic Unit）和高速缓冲存储器（Cache）及实现它们之间联系的数据（Data）、控制及状态的总线（Bus）。它与内部存储器（Memory，简称“内存”）和输入/输出（I/O）设备（包括鼠标/键盘、显示器、打印机、音响麦克风等）合称为电子计算机三大核心部件。</li></ul></blockquote><h2 id="CPU-Central-Processing-Unit-厂商"><a href="#CPU-Central-Processing-Unit-厂商" class="headerlink" title="CPU (Central Processing Unit) 厂商"></a>CPU (Central Processing Unit) 厂商</h2><blockquote><p>1971年，世界上第一块微处理器4004在Intel公司诞生了。从它的诞生到现在已经有47年历史，在这划时代产品诞生起，就为人类社会的的进步加入了助推剂。其中，Intel、AMD是CPU发展史的中坚力量。</p></blockquote><ul><li><p>Intel(英特尔)</p><p>英特尔（网民俗称“牙膏厂”）是美国一家主要以研制CPU处理器的公司，是全球最大的个人计算机零件和CPU制造商，它成立于1968年，具有49年产品创新和市场领导的历史。1971年11月15日发布世界上第一块个人微型处理器4004。当前 Intel 最新的 CPU 为第 10 代。</p></li><li><p>AMD(超微半导体)</p><p>美国超微半导体公司（AMD，Advanced Micro Devices，网民俗称“农企”、“按摩店”）专门为计算机、通信和消费电子行业设计和制造各种创新的微处理器（CPU、GPU、APU、主板芯片组、电视卡芯片等)，以及提供闪存和低功率处理器解决方案，公司成立于1969年。其CPU芯片技术是目前唯一能与英特尔CPU竞争的产品，最早在1995年开发出K5系列CPU对标英特尔的奔腾CPU。当前AMD的最新CPU型号为Ryzen系列。</p></li></ul><h2 id="CPU-Central-Processing-Unit-标识"><a href="#CPU-Central-Processing-Unit-标识" class="headerlink" title="CPU (Central Processing Unit) 标识"></a>CPU (Central Processing Unit) 标识</h2><ul><li><p>CPU 各个标识符的意义</p><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/CPU%E6%A0%87%E8%AF%86.png" alt="CPU 标识"></p></li><li><p><a href="http://www.mydrivers.com/zhuanti/tianti/cpu/" target="_blank" rel="noopener">CPU 性能天梯图</a></p></li></ul><h2 id="CPU-Central-Processing-Unit-参数"><a href="#CPU-Central-Processing-Unit-参数" class="headerlink" title="CPU (Central Processing Unit) 参数"></a>CPU (Central Processing Unit) 参数</h2><ul><li><p>CPU 参数图</p><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/CPU%20%E5%8F%82%E6%95%B0.png" alt="CPU 参数图"></p></li><li><p>CPU 参数意义</p><ol><li>核心架构： 待更新…</li><li>制造工艺：CPU 制造工艺又叫做 CPU 制程，它的先进与否决定了 CPU 的性能优劣.(优秀的 CPU：小+集成度高)</li><li>核心/线程：<ul><li>CPU的核心数是指物理上，也就是硬件上存在着几个核心。（双核就是包括2个相对独立的CPU核心单元组）</li><li>线程数是一种逻辑的概念，简单地说，就是模拟出的CPU核心数。（一个CPU核心数模拟出2线程的CPU，也就是说它可以同时运行两个线程）</li></ul></li><li>核心频率(GHz): 即 CPU 的主频，CPU 内核在正常工作的情况下所能达到的性能水准。</li><li>加速频率(GHz): 即 CPU 的睿频，CPU 内核在超常发挥的情况下所能达到的频率，此数值更能代表一款芯片的真实实力，并且现在的CPU一般上都可以自动睿频。</li><li>三级缓存(MB): 在一级缓存中，CPU可以找到需要数据的80%，其他20%可以在二级或三级缓存以及内存中找到，但是因为一级缓存很小(大部分都是 64 K),没有对比价值，所以厂商会显示三级缓存</li><li>核显：CPU 带的是集成显卡（优点：基本的看电影啥的可以实现。其他：如果玩游戏需装独显，这个时候为了性能看，不带集成显卡的 CPU 会更合适）</li><li>热设计功耗：<ul><li>CPU的热设计功耗越小越好。</li><li>散热设计功耗主要是提供给计算机系统厂商，散热片/风扇厂商，以及机箱厂商等等进行系统设计时使用的。</li><li>一般TDP主要应用于CPU，CPU TDP(Thermal Design Power)值对应系列CPU 的最终版本在满负荷可能会达到的最高散热热量，散热器必须保证在处理器TDP最大的时候，处理器的温度仍然在设计范围之内。</li></ul></li><li>插槽：CPU插槽主要分为Socket、Slot这两种，就是用于安装CPU的插座。目前CPU的接口都是针脚式接口，对应到主板上就有相应的插槽类型。CPU接口类型不同，在插孔数、体积、形状都有变化，所以不能互相接插。(选对主板)</li></ol></li></ul><hr>]]></content>
      
      
      
        <tags>
            
            <tag> 计算机 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>网站优化的方法</title>
      <link href="/2020/03/19/%E7%BD%91%E7%AB%99%E4%BC%98%E5%8C%96%E7%9A%84%E6%96%B9%E6%B3%95/"/>
      <url>/2020/03/19/%E7%BD%91%E7%AB%99%E4%BC%98%E5%8C%96%E7%9A%84%E6%96%B9%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<h2 id="网站优化的方向"><a href="#网站优化的方向" class="headerlink" title="网站优化的方向"></a>网站优化的方向</h2><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/%E7%BD%91%E7%AB%99%E4%BC%98%E5%8C%96.png" alt="网站优化"></p><h2 id="更多"><a href="#更多" class="headerlink" title="更多"></a>更多</h2><p>未完待续…</p><hr>]]></content>
      
      
      
        <tags>
            
            <tag> Web </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>gulp 优化博客速度(2)</title>
      <link href="/2020/03/16/gulp-%E4%BC%98%E5%8C%96%E5%8D%9A%E5%AE%A2%E9%80%9F%E5%BA%A6(2)/"/>
      <url>/2020/03/16/gulp-%E4%BC%98%E5%8C%96%E5%8D%9A%E5%AE%A2%E9%80%9F%E5%BA%A6(2)/</url>
      
        <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><ul><li><a href="https://www.gulpjs.com.cn/docs/getting-started/quick-start/" target="_blank" rel="noopener">Gulp 官方文档</a></li><li><a href="https://snowysound.github.io/2020/03/06/gulp-%E4%BC%98%E5%8C%96%E5%8D%9A%E5%AE%A2%E9%80%9F%E5%BA%A6(1)/" target="_blank" rel="noopener">gulp 优化博客速度(1)</a></li></ul><h2 id="依赖"><a href="#依赖" class="headerlink" title="依赖"></a>依赖</h2><ul><li>gulp: npm install gulp –save</li><li>gitalk: npm install gitalk –save</li><li>gulp-htmlclean: npm install gulp-htmlclean –save</li><li>gulp-imagemin: npm install gulp-imagemin –save</li><li>gulp-minify-css: npm install gulp-minify-css –save</li><li>gulp-uglify: npm install gulp-uglify –save</li><li>imagemin-pngquant: npm install imagemin-pngquant –save</li></ul><h2 id="Gulp-代码"><a href="#Gulp-代码" class="headerlink" title="Gulp 代码"></a>Gulp 代码</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> gulp = <span class="built_in">require</span>(<span class="string">'gulp'</span>);</span><br><span class="line"><span class="keyword">const</span> imagemin = <span class="built_in">require</span>(<span class="string">'gulp-imagemin'</span>);</span><br><span class="line"><span class="keyword">const</span> pngquant = <span class="built_in">require</span>(<span class="string">'imagemin-pngquant'</span>);</span><br><span class="line"><span class="keyword">const</span> minifycss = <span class="built_in">require</span>(<span class="string">'gulp-minify-css'</span>);</span><br><span class="line"><span class="keyword">const</span> uglify = <span class="built_in">require</span>(<span class="string">'gulp-uglify'</span>);</span><br><span class="line"><span class="keyword">const</span> htmlmin = <span class="built_in">require</span>(<span class="string">'gulp-htmlmin'</span>);</span><br><span class="line"><span class="keyword">const</span> htmlclean = <span class="built_in">require</span>(<span class="string">'gulp-htmlclean'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 压缩 public 图片</span></span><br><span class="line">gulp.task(<span class="string">'minify-image'</span>, done =&gt; &#123;</span><br><span class="line">gulp.src(<span class="string">'./public/img/*.*'</span>)</span><br><span class="line">.pipe(imagemin(&#123;</span><br><span class="line">progressive: <span class="literal">true</span>,</span><br><span class="line">use: gulp.parallel(pngquant())</span><br><span class="line">&#125;))</span><br><span class="line">.pipe(gulp.dest(<span class="string">'./public/img'</span>));</span><br><span class="line">done();</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// 压缩 public 目录 css</span></span><br><span class="line">gulp.task(<span class="string">'minify-css'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="keyword">return</span> gulp.src(<span class="string">'./public/**/*.css'</span>)</span><br><span class="line">.pipe(minifycss())</span><br><span class="line">.pipe(gulp.dest(<span class="string">'./public'</span>));</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// 压缩 public 目录 html</span></span><br><span class="line">gulp.task(<span class="string">'minify-html'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> gulp.src(<span class="string">'./public/**/*.html'</span>)</span><br><span class="line">.pipe(htmlclean())</span><br><span class="line">.pipe(htmlmin(&#123;</span><br><span class="line">collapseWhitespace: <span class="literal">true</span>,</span><br><span class="line">minifyCSS: <span class="literal">true</span>,</span><br><span class="line">minifyJS: <span class="literal">true</span>,</span><br><span class="line">minifyURLs: <span class="literal">true</span>,</span><br><span class="line">removeComments: <span class="literal">true</span>,</span><br><span class="line">removeEmptyAttributes: <span class="literal">true</span>,</span><br><span class="line">removeRedundantAttributes: <span class="literal">true</span></span><br><span class="line">&#125;))</span><br><span class="line">.pipe(gulp.dest(<span class="string">'./public'</span>));</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// 压缩 public 目录 js</span></span><br><span class="line">gulp.task(<span class="string">'minify-js'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="keyword">return</span> gulp.src(<span class="string">'./public/**/*.js'</span>)</span><br><span class="line">.pipe(uglify())</span><br><span class="line">.pipe(gulp.dest(<span class="string">'./public'</span>));</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">gulp.task(<span class="string">'default'</span>, gulp.parallel(<span class="string">'minify-image'</span>,<span class="string">'minify-css'</span>,<span class="string">'minify-html'</span>,<span class="string">'minify-js'</span>), (done) =&gt; done());</span><br></pre></td></tr></table></figure><h2 id="部分代码解释"><a href="#部分代码解释" class="headerlink" title="部分代码解释"></a>部分代码解释</h2><ol><li>gulp4.0 开始不再支持 [] 语法，而是 series()顺序执行， parallel()并行执行</li><li>src() 表示获取括号中匹配到的路径的文件其中“./public/<em>*/</em>.js”可以匹配到从public,目录下所有的js,文件（包括子文件下的 js 文件）</li><li>dest() 表示将压缩后的文件存入的目录</li></ol><h2 id="可能出现的错误及解决方法"><a href="#可能出现的错误及解决方法" class="headerlink" title="可能出现的错误及解决方法"></a>可能出现的错误及解决方法</h2><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/unhandlePromiseRejectWarning.png" alt="unhandlePromiseRejectWarning错误"></p><ul><li>解决办法（实现 promise）</li></ul><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm install optipng-bin --save</span><br><span class="line">// 或者是</span><br><span class="line">npm install imagemin-optipng --save</span><br></pre></td></tr></table></figure><hr>]]></content>
      
      
      
        <tags>
            
            <tag> Gulp </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>OSS + PicGo 搭建图床</title>
      <link href="/2020/03/16/OSS%20+%20PicGo%20%E6%90%AD%E5%BB%BA%E5%9B%BE%E5%BA%8A/"/>
      <url>/2020/03/16/OSS%20+%20PicGo%20%E6%90%AD%E5%BB%BA%E5%9B%BE%E5%BA%8A/</url>
      
        <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>作者在搭建个人博客时，采用 Gulp 压缩图片来提高网站的加载速度，但是发现加载图片还是很慢。<br>后来经大佬的指导，作者将图片放到图床明显的提高了网站的加载速度。<br>所以作者记录下来 OSS + PicGo 搭建图床的方法，希望可以给需要的小伙伴一个帮助。<br>（Ps: 当前博客的背景图7M多）</p><h2 id="阿里云OSS过程"><a href="#阿里云OSS过程" class="headerlink" title="阿里云OSS过程"></a>阿里云OSS过程</h2><h3 id="注册阿里云账号"><a href="#注册阿里云账号" class="headerlink" title="注册阿里云账号"></a>注册阿里云账号</h3><p>从控制台搜索找到OSS并开启服务(作者在这个地方购买了一年40G的存储空间)</p><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/OSS%E6%9C%8D%E5%8A%A1%E5%BC%80%E9%80%9A.png" alt="对象存储OSS"></p><h3 id="创建存储空间"><a href="#创建存储空间" class="headerlink" title="创建存储空间"></a>创建存储空间</h3><p>链接： <a href="https://help.aliyun.com/document_detail/31885.html" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/31885.html</a></p><ul><li><p>进入对象存储 OSS，点击 Bucket 列表中自己新建的 bucket</p><p>PS：读写权限选择公共读，其他可以看需求</p><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/%E5%88%9B%E5%BB%BAbucket.png" alt="创建 bucket"></p></li></ul><h3 id="新建授权策略"><a href="#新建授权策略" class="headerlink" title="新建授权策略"></a>新建授权策略</h3><p>返回控制台，搜索访问控制点击进入(类似第一步操作)</p><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/bucket%E6%96%B0%E5%BB%BA%E7%AD%96%E7%95%A5.png" alt="新建授权策略"></p><ul><li>yourBucketName 换成你的 bucket 名字<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;Statement&quot;: [</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;Action&quot;: &quot;oss:*&quot;,</span><br><span class="line">      &quot;Effect&quot;: &quot;Allow&quot;,</span><br><span class="line">      &quot;Resource&quot;: [</span><br><span class="line">        &quot;acs:oss:*:*:yourBucketName&quot;,</span><br><span class="line">        &quot;acs:oss:*:*:yourBucketName&#x2F;*&quot;</span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">  ],</span><br><span class="line">  &quot;Version&quot;: &quot;1&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h3 id="新建用户"><a href="#新建用户" class="headerlink" title="新建用户"></a>新建用户</h3><ul><li><p>点击用户，新建用户</p><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/bucket%E6%96%B0%E5%BB%BA%E7%94%A8%E6%88%B7.png" alt="bucket新建用户"></p></li><li><p>成功后，记录下自己的 ID 跟密码</p><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/bucket%E5%88%9B%E5%BB%BA%E7%94%A8%E6%88%B7%E6%88%90%E5%8A%9F.png" alt="bucket创建用户成功"></p></li></ul><h3 id="添加用户权限"><a href="#添加用户权限" class="headerlink" title="添加用户权限"></a>添加用户权限</h3><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/bucket%E6%B7%BB%E5%8A%A0%E7%94%A8%E6%88%B7%E6%9D%83%E9%99%90.png" alt="bucket添加用户权限"></p><h3 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h3><ul><li>注册阿里云账号，开通 OSS 服务</li><li>新建 bucket</li><li>新建授权策略</li><li>新建用户</li><li>给新建的用户添加授权策略</li></ul><h2 id="PicGo-上传图床图片"><a href="#PicGo-上传图床图片" class="headerlink" title="PicGo 上传图床图片"></a>PicGo 上传图床图片</h2><h3 id="下载-PicGo"><a href="#下载-PicGo" class="headerlink" title="下载 PicGo"></a>下载 PicGo</h3><ul><li><a href="https://github.com/Molunerfinn/PicGo" target="_blank" rel="noopener">GitHub地址</a></li><li><a href="https://molunerfinn.com/PicGo/" target="_blank" rel="noopener">PicGo 官方文档</a></li></ul><h3 id="PicGo-设置-阿里云-OSS-图床"><a href="#PicGo-设置-阿里云-OSS-图床" class="headerlink" title="PicGo 设置 阿里云 OSS 图床"></a>PicGo 设置 阿里云 OSS 图床</h3><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/PicGo%E5%9B%BE%E5%BA%8A%E8%AE%BE%E7%BD%AE.png" alt="设置阿里云OSS"></p><p><strong>解释</strong></p><ul><li>KeyId: 前面步骤记录的 id</li><li>KeySecret: 前面步骤记录的 secret</li><li>存储空间名：前面步骤创建的 bucket 名字</li><li>存储区域：外网下的前缀</li></ul><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/OSSbucket%E6%A6%82%E8%A7%88.png" alt="阿里云 OSS bucket 概览"></p><ul><li>存储路径： 可以自己设置，在 bucket 下多一个目录</li></ul><h3 id="PicGo-上传图片"><a href="#PicGo-上传图片" class="headerlink" title="PicGo 上传图片"></a>PicGo 上传图片</h3><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/picgo%E4%B8%8A%E4%BC%A0%E5%9B%BE%E7%89%87.png" alt="PicGo上传图片"></p><h3 id="结果"><a href="#结果" class="headerlink" title="结果"></a>结果</h3><ul><li>存储路径的意义</li></ul><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/%E5%9B%BE%E7%89%87%E4%BD%8D%E7%BD%AE.png" alt="bucket文件根目录"></p><ul><li>上传的图片的位置</li></ul><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/PicGo%E5%9B%BE%E7%89%87%E4%BD%8D%E7%BD%AE.png" alt="PicGo上传图片成功后图片的存储位置"></p><ul><li>更多用法可以继续探索…</li></ul><hr>]]></content>
      
      
      
        <tags>
            
            <tag> OSS </tag>
            
            <tag> PicGo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>gulp 优化博客速度(1)</title>
      <link href="/2020/03/06/gulp-%E4%BC%98%E5%8C%96%E5%8D%9A%E5%AE%A2%E9%80%9F%E5%BA%A6(1)/"/>
      <url>/2020/03/06/gulp-%E4%BC%98%E5%8C%96%E5%8D%9A%E5%AE%A2%E9%80%9F%E5%BA%A6(1)/</url>
      
        <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>我们可以通过 hexo + github 搭建自己的博客，但是随着文章的增多，网站的加载速度会变慢。<br>为了优化网站的速度，一个最容易想到的办法就是压缩当前文件。<br>这篇文章主要讲述了使用 gulp 压缩文件从而达到优化网站运行速度的方法</p><h2 id="第一步-下载安装-gulp"><a href="#第一步-下载安装-gulp" class="headerlink" title="第一步 下载安装 gulp"></a>第一步 下载安装 gulp</h2><h3 id="全局安装-gulp"><a href="#全局安装-gulp" class="headerlink" title="全局安装 gulp"></a>全局安装 gulp</h3><ul><li><p>首先 如果根目录下没有 package.json</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm init // 初始化</span><br></pre></td></tr></table></figure></li><li><p>其次 如果对自己安装的 gulp 不放心的话</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm rm --global gulp // 删除 gulp 再重新安装</span><br></pre></td></tr></table></figure></li><li><p>最后， 全局安装 gulp || 在当前博客根目录下安装 gulp</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm install --global gulp // 全局安装</span><br><span class="line">npm install gulp --save-dev // 生产环境下安装</span><br><span class="line">gulp --version // 安装结束后 查看是否安装成功</span><br></pre></td></tr></table></figure></li></ul><h2 id="在需要优化的项目根目录新建-gulpfile-js"><a href="#在需要优化的项目根目录新建-gulpfile-js" class="headerlink" title="在需要优化的项目根目录新建 gulpfile.js"></a>在需要优化的项目根目录新建 gulpfile.js</h2><h3 id="压缩图片"><a href="#压缩图片" class="headerlink" title="压缩图片"></a>压缩图片</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// gulpfile.js</span></span><br><span class="line"><span class="keyword">const</span> gulp = <span class="built_in">require</span>(<span class="string">'gulp'</span>);</span><br><span class="line"><span class="keyword">const</span> imagemin = <span class="built_in">require</span>(<span class="string">'gulp-imagemin'</span>); <span class="comment">// 安装依赖 npm install gulp-imagemin --save -dev</span></span><br><span class="line"><span class="keyword">const</span> pngquant = <span class="built_in">require</span>(<span class="string">'imagemin-pngquant'</span>); <span class="comment">// 安装依赖 npm install imagemin-pngquant --save -dev</span></span><br><span class="line"></span><br><span class="line">gulp.task(<span class="string">'minify-image'</span>, done =&gt; &#123;</span><br><span class="line">gulp.src(<span class="string">'./public/img/*.*'</span>)</span><br><span class="line">.pipe(imagemin(&#123;</span><br><span class="line">progressive: <span class="literal">true</span>,</span><br><span class="line">use: gulp.parallel(pngquant())</span><br><span class="line">&#125;))</span><br><span class="line">.pipe(gulp.dest(<span class="string">'./public/img'</span>));</span><br><span class="line">done();</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">gulp.task(<span class="string">'default'</span>, gulp.parallel(<span class="string">'minify-image'</span>), (done) =&gt; done());</span><br></pre></td></tr></table></figure><ul><li>PS:<br>因为作者博客的所有图片都是 png 格式的，所以在此压缩图片选用 imagemin-pngquant 插件来压缩 png 图片</li></ul><h2 id="运行"><a href="#运行" class="headerlink" title="运行"></a>运行</h2><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gulp</span><br></pre></td></tr></table></figure><h2 id="结果"><a href="#结果" class="headerlink" title="结果"></a>结果</h2><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">15</span>:<span class="number">51</span>:<span class="number">49</span>] Using gulpfile D:\LXH\Snowyblog\gulpfile.js</span><br><span class="line">[<span class="number">15</span>:<span class="number">51</span>:<span class="number">49</span>] Starting 'default'...</span><br><span class="line">[<span class="number">15</span>:<span class="number">51</span>:<span class="number">49</span>] Starting 'minify-image'...</span><br><span class="line">[<span class="number">15</span>:<span class="number">51</span>:<span class="number">49</span>] Finished 'minify-image' after <span class="number">18</span> ms</span><br><span class="line">[<span class="number">15</span>:<span class="number">51</span>:<span class="number">49</span>] Finished 'default' after <span class="number">23</span> ms</span><br><span class="line">[<span class="number">15</span>:<span class="number">52</span>:<span class="number">02</span>] gulp-imagemin: Minified <span class="number">32</span> images (saved <span class="number">1</span>.<span class="number">53</span> MB - <span class="number">42</span>.<span class="number">4</span>%)</span><br></pre></td></tr></table></figure><h2 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h2><ul><li><a href="https://snowysound.github.io/2020/03/16/gulp-%E4%BC%98%E5%8C%96%E5%8D%9A%E5%AE%A2%E9%80%9F%E5%BA%A6(2)/" target="_blank" rel="noopener">Gulp 优化博客速度(2)</a></li><li><a href="通过阿里云OSS-提高网站的加载速度.md">通过添加图床来实现博客加载优化</a></li><li><a href="https://www.gulpjs.com.cn/docs/getting-started/quick-start/" target="_blank" rel="noopener">Gulp 语法官方文档</a></li></ul><hr>]]></content>
      
      
      
        <tags>
            
            <tag> Gulp </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo + coding 部署博客</title>
      <link href="/2020/03/06/hexo-coding-%E9%83%A8%E7%BD%B2%E5%8D%9A%E5%AE%A2/"/>
      <url>/2020/03/06/hexo-coding-%E9%83%A8%E7%BD%B2%E5%8D%9A%E5%AE%A2/</url>
      
        <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p><a href="https://snowysound.github.io/2019/09/11/gitHub%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/" target="_blank" rel="noopener">知识基础</a></p><h2 id="过程"><a href="#过程" class="headerlink" title="过程"></a>过程</h2><h3 id="注册-coding-账号"><a href="#注册-coding-账号" class="headerlink" title="注册 coding 账号"></a>注册 coding 账号</h3><ul><li><a href="https://coding.net/" target="_blank" rel="noopener">官网</a></li></ul><h3 id="coding-创建仓库过程"><a href="#coding-创建仓库过程" class="headerlink" title="coding 创建仓库过程"></a>coding 创建仓库过程</h3><ul><li><p>新建项目</p><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/coding%E6%96%B0%E5%BB%BA%E9%A1%B9%E7%9B%AE.png" alt="新建项目"></p></li><li><p>选择项目模板</p><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/coding%E9%80%89%E6%8B%A9%E9%A1%B9%E7%9B%AE%E6%A8%A1%E6%9D%BF.png" alt="选择项目模板"></p></li><li><p>创建项目</p><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE.png" alt="创建项目"></p></li><li><p>初始化 coding 仓库</p><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/coding%E4%BB%93%E5%BA%93%E5%9C%B0%E5%9D%80.png" alt="coding 仓库地址"></p></li><li><p>coding 部署公钥(SSH)</p><p><a href="https://help.coding.net/docs/project/features/ssh.html" target="_blank" rel="noopener">coding 部署公钥</a></p><ul><li>在终端输入 open ~/.ssh，用文本编辑器打开 id_deploy.pub 文件（此处部署公钥名称为 id_deploy.pub，您在生成部署公钥的时候完全可以自定义名称），复制全部内容。</li><li>登录 CODING，进入目标项目，点击【代码仓库】-&gt; 【仓库设置】-&gt; 【部署公钥】-&gt;【新建部署公钥】。</li></ul><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/coding%E9%83%A8%E7%BD%B2%E5%85%AC%E9%92%A5.png" alt="coding 部署公钥"></p></li></ul><h3 id="博客根目录下的-config-yml"><a href="#博客根目录下的-config-yml" class="headerlink" title="博客根目录下的 _config.yml"></a>博客根目录下的 _config.yml</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">deploy:</span><br><span class="line">  type: git</span><br><span class="line">  repo:</span><br><span class="line">    github: git@github.com:yourGit</span><br><span class="line">    coding: git@e.coding.net:yourGit &#x2F;&#x2F; your coding git</span><br><span class="line">  branch: master</span><br></pre></td></tr></table></figure><h3 id="提交代码"><a href="#提交代码" class="headerlink" title="提交代码"></a>提交代码</h3><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo generate</span><br><span class="line">hexo deploy</span><br></pre></td></tr></table></figure><h3 id="创建静态网站"><a href="#创建静态网站" class="headerlink" title="创建静态网站"></a>创建静态网站</h3><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/coding%E9%9D%99%E6%80%81%E7%BD%91%E7%AB%99.png" alt="创建静态网站"></p><h3 id="coding-建立的静态网站地址"><a href="#coding-建立的静态网站地址" class="headerlink" title="coding 建立的静态网站地址"></a>coding 建立的静态网站地址</h3><ul><li>点击链接即可以访问搭建的静态网站(截止到发布博客时间，coding 服务器部署在国外可能会有部分运营商无法访问网址)</li><li>点击设置可以绑定自己的域名 &amp;&amp; 强制开启 https</li></ul><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/coding%E5%BB%BA%E7%AB%99.png" alt="coding 建立静态网站的地址"></p><hr>]]></content>
      
      
      
        <tags>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>js 之 栈与堆</title>
      <link href="/2020/03/03/js-%E4%B9%8B-%E6%A0%88%E4%B8%8E%E5%A0%86/"/>
      <url>/2020/03/03/js-%E4%B9%8B-%E6%A0%88%E4%B8%8E%E5%A0%86/</url>
      
        <content type="html"><![CDATA[<p><a href="https://blog.csdn.net/u014608280/article/details/82218079" target="_blank" rel="noopener">深入理解堆与栈</a><br><a href="https://www.jianshu.com/p/67c0323aef1e" target="_blank" rel="noopener">JS 的堆与栈</a><br><a href="https://blog.csdn.net/K346K346/article/details/80849966/" target="_blank" rel="noopener">堆与栈的区别</a></p><h2 id="堆与栈的概念"><a href="#堆与栈的概念" class="headerlink" title="堆与栈的概念"></a>堆与栈的概念</h2><p>对于开发人员而言，或多或少都会接触过堆跟栈的概念。</p><ul><li>对于计算机存储而言： 堆与栈是两种不同的内存管理</li><li>对于数据结构而言：堆与栈是两种常用的数据结构</li></ul><h2 id="计算机存储下的堆-heap-与栈-stack"><a href="#计算机存储下的堆-heap-与栈-stack" class="headerlink" title="计算机存储下的堆(heap)与栈(stack)"></a>计算机存储下的堆(heap)与栈(stack)</h2><h4 id="栈：栈由操作系统自动分配释放-，用于存放函数的参数值、局部变量等。"><a href="#栈：栈由操作系统自动分配释放-，用于存放函数的参数值、局部变量等。" class="headerlink" title="栈：栈由操作系统自动分配释放 ，用于存放函数的参数值、局部变量等。"></a>栈：栈由操作系统自动分配释放 ，用于存放函数的参数值、局部变量等。</h4><p><strong>举个栗子</strong><br>对于前端 js 而言，栈主要用于存储各种基本类型的变量，包括 Boolean、Number、String、Undefined、Null，以及对象变量的指针。</p><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/%E6%A0%88.png" alt="左栈右堆"></p><p>PS：当我们定义一个const对象的时候，我们说的常量其实是指针，就是const对象对应的堆内存指向是不变的，但是堆内存中的数据本身的大小或者属性是可变的。而对于const定义的基础变量而言，这个值就相当于const对象的指针，是不可变。</p><h4 id="堆：堆由开发人员分配和释放，-若开发人员不释放，程序结束时由-OS-回收。"><a href="#堆：堆由开发人员分配和释放，-若开发人员不释放，程序结束时由-OS-回收。" class="headerlink" title="堆：堆由开发人员分配和释放， 若开发人员不释放，程序结束时由 OS 回收。"></a>堆：堆由开发人员分配和释放， 若开发人员不释放，程序结束时由 OS 回收。</h4><p><strong>举个栗子</strong><br>对于前端 js 而言，堆主要用于存储引用类型，包括 Object, Array, Date, RegExp, Function 类型。(new 出来的都存在堆里面)</p><p>小结：我们常说的值类型和引用类型其实说的就是栈内存变量和堆内存变量，与此同时，值传递和引用传递、深拷贝和浅拷贝，都是围绕堆栈内存展开的。</p><h4 id="堆与栈的区别"><a href="#堆与栈的区别" class="headerlink" title="堆与栈的区别"></a>堆与栈的区别</h4><ul><li><p>栈(stack)会自动分配内存空间，会自动释放。堆(heap)动态分配的内存，大小不定也不会自动释放。</p></li><li><p>堆：队列优先,先进先出；由操作系统自动分配释放 ，存放函数的参数值，局部变量的值等。</p></li><li><p>栈：先进后出；动态分配的空间 一般由程序员分配释放， 若程序员不释放，程序结束时可能由OS回收，分配方式倒是类似于链表。</p></li><li><p>栈的访问效率会高一些，原理：<a href="https://blog.csdn.net/qq_28098067/article/details/53219086" target="_blank" rel="noopener">https://blog.csdn.net/qq_28098067/article/details/53219086</a></p></li></ul><h2 id="数据结构下的的堆-heap-与栈-stack"><a href="#数据结构下的的堆-heap-与栈-stack" class="headerlink" title="数据结构下的的堆(heap)与栈(stack)"></a>数据结构下的的堆(heap)与栈(stack)</h2><p>未完待续…</p><hr>]]></content>
      
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>js 之放大镜</title>
      <link href="/2020/02/28/js-%E4%B9%8B%E6%94%BE%E5%A4%A7%E9%95%9C/"/>
      <url>/2020/02/28/js-%E4%B9%8B%E6%94%BE%E5%A4%A7%E9%95%9C/</url>
      
        <content type="html"><![CDATA[<p><a href="https://www.snowysound.github.io/2019/11/19/CSS%E6%BB%9A%E5%8A%A8%E6%9D%A1%E8%87%AA%E5%8A%A8%E6%BB%9A%E5%8A%A8%E5%88%B0%E9%A1%B5%E9%9D%A2%E5%BA%95%E9%83%A8/" target="_blank" rel="noopener">准备知识</a><br><a href="https://www.jianshu.com/p/278a3fa52a8d" target="_blank" rel="noopener">参考1</a><br><a href="https://www.cnblogs.com/tangyuqi/p/11218563.html" target="_blank" rel="noopener">参考2</a></p><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>在开发一些商品售卖的网站时，我们经常会遇到这样的需求： 放大商品的局部从而使消费者可以很轻松的观察商品的局部特征。</p><h2 id="实现代码"><a href="#实现代码" class="headerlink" title="实现代码"></a>实现代码</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!doctype <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>放大镜<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">        * &#123;</span><br><span class="line">            margin: 0;</span><br><span class="line">            padding: 0</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-id">#demo</span> &#123;</span></span><br><span class="line">            display: block;</span><br><span class="line">            width: 400px;</span><br><span class="line">            height: 255px;</span><br><span class="line">            margin: 50px;</span><br><span class="line">            position: relative;</span><br><span class="line"><span class="css">            <span class="selector-tag">border</span>: 1<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#ccc</span>;</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-id">#small-box</span> &#123;</span></span><br><span class="line">            position: relative;</span><br><span class="line">            z-index: 1;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-id">#float-box</span> &#123;</span></span><br><span class="line">            display: none;</span><br><span class="line">            width: 160px;</span><br><span class="line">            height: 120px;</span><br><span class="line">            position: absolute;</span><br><span class="line"><span class="css">            <span class="selector-tag">background</span>: <span class="selector-id">#ffffcc</span>;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">border</span>: 1<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#ccc</span>;</span></span><br><span class="line">            filter: alpha(opacity=50);</span><br><span class="line"><span class="css">            <span class="selector-tag">opacity</span>: 0<span class="selector-class">.5</span>;</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-id">#mark</span> &#123;</span></span><br><span class="line">            position: absolute;</span><br><span class="line">            display: block;</span><br><span class="line">            width: 400px;</span><br><span class="line">            height: 255px;</span><br><span class="line"><span class="css">            <span class="selector-tag">background-color</span>: <span class="selector-id">#fff</span>;</span></span><br><span class="line">            filter: alpha(opacity=0);</span><br><span class="line">            opacity: 0;</span><br><span class="line">            z-index: 10;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-id">#big-box</span> &#123;</span></span><br><span class="line">            display: none;</span><br><span class="line">            position: absolute;</span><br><span class="line">            top: 0;</span><br><span class="line">            left: 460px;</span><br><span class="line">            width: 400px;</span><br><span class="line">            height: 300px;</span><br><span class="line">            overflow: hidden;</span><br><span class="line"><span class="css">            <span class="selector-tag">border</span>: 1<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#ccc</span>;</span></span><br><span class="line">            z-index: 1;;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-id">#big-box</span> <span class="selector-tag">img</span> &#123;</span></span><br><span class="line">            position: absolute;</span><br><span class="line">            z-index: 5</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="actionscript">        <span class="comment">//页面加载完毕后执行</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> objDemo = <span class="built_in">document</span>.getElementById(<span class="string">"demo"</span>);</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> objSmallBox = <span class="built_in">document</span>.getElementById(<span class="string">"small-box"</span>);</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> objMark = <span class="built_in">document</span>.getElementById(<span class="string">"mark"</span>);</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> objFloatBox = <span class="built_in">document</span>.getElementById(<span class="string">"float-box"</span>);</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> objBigBox = <span class="built_in">document</span>.getElementById(<span class="string">"big-box"</span>);</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">var</span> objBigBoxImage = objBigBox.getElementsByTagName(<span class="string">"img"</span>)[<span class="number">0</span>];</span></span><br><span class="line"></span><br><span class="line"><span class="actionscript">            objMark.onmouseover = <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">                objFloatBox.style.display = <span class="string">"block"</span></span></span><br><span class="line"><span class="actionscript">                objBigBox.style.display = <span class="string">"block"</span></span></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"><span class="actionscript">            objMark.onmouseout = <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">                objFloatBox.style.display = <span class="string">"none"</span></span></span><br><span class="line"><span class="actionscript">                objBigBox.style.display = <span class="string">"none"</span></span></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"><span class="actionscript">            objMark.onmousemove = <span class="function"><span class="keyword">function</span> <span class="params">(ev)</span> </span>&#123;</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> _event = ev || <span class="built_in">window</span>.event;  <span class="comment">//兼容多个浏览器的event参数模式</span></span></span><br><span class="line"></span><br><span class="line"><span class="actionscript">                <span class="keyword">var</span> left = _event.clientX - objDemo.offsetLeft - objSmallBox.offsetLeft - objFloatBox.offsetWidth / <span class="number">2</span>;</span></span><br><span class="line"><span class="actionscript">                <span class="keyword">var</span> top = _event.clientY - objDemo.offsetTop - objSmallBox.offsetTop - objFloatBox.offsetHeight / <span class="number">2</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="actionscript">                <span class="comment">//设置边界处理，防止移出小图片</span></span></span><br><span class="line">                if (left &lt; 0) &#123;</span><br><span class="line">                    left = 0;</span><br><span class="line"><span class="actionscript">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (left &gt; (objMark.offsetWidth - objFloatBox.offsetWidth)) &#123;</span></span><br><span class="line">                    left = objMark.offsetWidth - objFloatBox.offsetWidth;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                if (top &lt; 0) &#123;</span><br><span class="line">                    top = 0;</span><br><span class="line"><span class="actionscript">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (top &gt; (objMark.offsetHeight - objFloatBox.offsetHeight)) &#123;</span></span><br><span class="line">                    top = objMark.offsetHeight - objFloatBox.offsetHeight;</span><br><span class="line"></span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line"><span class="actionscript">                objFloatBox.style.left = left + <span class="string">"px"</span>;   <span class="comment">//oSmall.offsetLeft的值是相对什么而言</span></span></span><br><span class="line"><span class="actionscript">                objFloatBox.style.top = top + <span class="string">"px"</span>;</span></span><br><span class="line">                </span><br><span class="line"><span class="actionscript">                <span class="comment">//求其比值</span></span></span><br><span class="line"><span class="actionscript">                <span class="keyword">var</span> percentX = left / (objMark.offsetWidth - objFloatBox.offsetWidth);</span></span><br><span class="line"><span class="actionscript">                <span class="keyword">var</span> percentY = top / (objMark.offsetHeight - objFloatBox.offsetHeight);</span></span><br><span class="line">                </span><br><span class="line"><span class="actionscript">                <span class="comment">//方向相反，小图片鼠标移动方向与大图片相反，故而是负值</span></span></span><br><span class="line"><span class="actionscript">                objBigBoxImage.style.left = -percentX * (objBigBoxImage.offsetWidth - objBigBox.offsetWidth) + <span class="string">"px"</span>;</span></span><br><span class="line"><span class="actionscript">                objBigBoxImage.style.top = -percentY * (objBigBoxImage.offsetHeight - objBigBox.offsetHeight) + <span class="string">"px"</span>;</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"demo"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"small-box"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"mark"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"float-box"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"img/macbook-small.jpg"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"big-box"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"img/macbook-big.jpg"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="代码解释"><a href="#代码解释" class="headerlink" title="代码解释"></a>代码解释</h2><p>放大镜的实现原理：通过鼠标移动来实现，选中的小部分可以放大展示在屏幕上</p><p>主要的方法：</p><ul><li>onmouseout</li><li>onmouseover</li><li>onmousemove</li></ul><h2 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h2><p>放大镜实现的核心代码就是计算当前所处的位置是否是需要放大的地方。</p><p>这就要求需要计算(以横轴为例)：</p><ul><li>offsetLeft:子元素相对父元素的左边距离</li><li>offsetWidth:盒子的宽度，不报括滚动条</li><li>event.clientX:鼠标的X轴，相对于整个页面</li></ul><p>当当前页面的需放大部分据页面左边还存在其他标签的影响时，需要减去这些标签的宽度 或者是 offsetLeft</p><hr>]]></content>
      
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vue-cli 创建工程出现错误</title>
      <link href="/2020/02/27/vue-cli-%E5%88%9B%E5%BB%BA%E5%B7%A5%E7%A8%8B%E5%87%BA%E7%8E%B0%E9%94%99%E8%AF%AF/"/>
      <url>/2020/02/27/vue-cli-%E5%88%9B%E5%BB%BA%E5%B7%A5%E7%A8%8B%E5%87%BA%E7%8E%B0%E9%94%99%E8%AF%AF/</url>
      
        <content type="html"><![CDATA[<h2 id="出现的错误"><a href="#出现的错误" class="headerlink" title="出现的错误"></a>出现的错误</h2><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/vue%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E4%BF%A1%E6%81%AF.png" alt="vue 创建项目出错信息"></p><h2 id="出错原因"><a href="#出错原因" class="headerlink" title="出错原因"></a>出错原因</h2><p>该问题是vue-cli脚手架的一个bug，原因是chromedriver的部分文件被国内网络给墙掉了，无法下载完整的chromedirver包</p><h2 id="解决办法"><a href="#解决办法" class="headerlink" title="解决办法"></a>解决办法</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install chromedriver --chromedriver_cdnurl&#x3D;http:&#x2F;&#x2F;cdn.npm.taobao.org&#x2F;dist&#x2F;chromedriver</span><br></pre></td></tr></table></figure><p>成功解决问题</p><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/vue%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE%E6%88%90%E5%8A%9F.png" alt="vue 创建项目成功"></p><hr>]]></content>
      
      
      
        <tags>
            
            <tag> Vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>css 滚动条的实现</title>
      <link href="/2020/02/26/html-css-%E6%BB%9A%E5%8A%A8%E6%9D%A1%E7%9A%84%E5%AE%9E%E7%8E%B0/"/>
      <url>/2020/02/26/html-css-%E6%BB%9A%E5%8A%A8%E6%9D%A1%E7%9A%84%E5%AE%9E%E7%8E%B0/</url>
      
        <content type="html"><![CDATA[<p>MDN 文献： <a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/::-webkit-scrollbar" target="_blank" rel="noopener">https://developer.mozilla.org/zh-CN/docs/Web/CSS/::-webkit-scrollbar</a><br><br>W3C 文献：<a href="https://www.w3cschool.cn/css/css-scrollbar.html" target="_blank" rel="noopener">https://www.w3cschool.cn/css/css-scrollbar.html</a></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*滚动条样式*/</span></span><br><span class="line"><span class="selector-pseudo">::-webkit-scrollbar</span> &#123;<span class="comment">/*滚动条整体样式*/</span></span><br><span class="line">  <span class="attribute">width</span>: <span class="number">8px</span>;     <span class="comment">/*高宽分别对应横竖滚动条的尺寸*/</span></span><br><span class="line">  <span class="attribute">height</span>: <span class="number">8px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-pseudo">::-webkit-scrollbar-thumb</span> &#123;<span class="comment">/*滚动条里面小方块*/</span></span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">box-shadow</span>: inset <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span> <span class="built_in">rgba</span>(<span class="number">255</span>,<span class="number">255</span>,<span class="number">255</span>,<span class="number">0.9</span>);</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">255</span>,<span class="number">255</span>,<span class="number">255</span>,<span class="number">0.9</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-pseudo">::-webkit-scrollbar-track</span> &#123;<span class="comment">/*滚动条里面轨道*/</span></span><br><span class="line">  <span class="attribute">box-shadow</span>: inset <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span> <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0.2</span>);</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0.1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>vue-cli 生成一个 Vue 项目</title>
      <link href="/2020/02/26/Vue-%E5%85%A8%E5%AE%B6%E6%A1%B6/"/>
      <url>/2020/02/26/Vue-%E5%85%A8%E5%AE%B6%E6%A1%B6/</url>
      
        <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>Vue 是目前比较流行的前端框架，这篇文章将介绍如何使用 vue-cli 搭建一个 Vue 全家桶项目。</p><h2 id="环境安装"><a href="#环境安装" class="headerlink" title="环境安装"></a>环境安装</h2><h3 id="安装-node-js"><a href="#安装-node-js" class="headerlink" title="安装 node.js"></a>安装 node.js</h3><p>官网： <a href="https://nodejs.org/zh-cn/" target="_blank" rel="noopener">https://nodejs.org/zh-cn/</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 检查 node 是否安装成功</span><br><span class="line">node -v</span><br></pre></td></tr></table></figure><h3 id="安装-webpack"><a href="#安装-webpack" class="headerlink" title="安装 webpack"></a>安装 webpack</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install webpack -g</span><br></pre></td></tr></table></figure><h3 id="安装-vue-cli"><a href="#安装-vue-cli" class="headerlink" title="安装 vue-cli"></a>安装 vue-cli</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">npm install --global vue-cli</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 检查 vue-cli 是否 安装成功</span><br><span class="line">vue -V</span><br></pre></td></tr></table></figure><h2 id="构建工程"><a href="#构建工程" class="headerlink" title="构建工程"></a>构建工程</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vue init webpack projectName</span><br></pre></td></tr></table></figure><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/vue%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE.png" alt="Vue创建项目"></p><p><strong>PS:</strong> 如果报错，请点击超链 <a href="https://www.snowysound.github.io/2020/02/27/vue-cli-%E5%88%9B%E5%BB%BA%E5%B7%A5%E7%A8%8B%E5%87%BA%E7%8E%B0%E9%94%99%E8%AF%AF/" target="_blank" rel="noopener">Vue 创建项目出错问题解决办法</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 运行项目</span><br><span class="line">npm run dev</span><br></pre></td></tr></table></figure><p>点击生成的 超链接如果出现下图则说明，搭建 Vue 项目成功</p><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/vue%E5%88%9D%E5%A7%8B%E9%A1%B5%E9%9D%A2.png" alt="Vue初始页面"></p><hr>]]></content>
      
      
      
        <tags>
            
            <tag> Vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>js 之 导出 excel 文件</title>
      <link href="/2020/02/26/js-%E4%B9%8B-%E5%AF%BC%E5%87%BA-excel-%E6%96%87%E4%BB%B6/"/>
      <url>/2020/02/26/js-%E4%B9%8B-%E5%AF%BC%E5%87%BA-excel-%E6%96%87%E4%BB%B6/</url>
      
        <content type="html"><![CDATA[<h2 id="使用场景"><a href="#使用场景" class="headerlink" title="使用场景"></a>使用场景</h2><p>这篇文章，主要讲述了如何使用js 实现 excel 文件的下载（导出）</p><h2 id="实现代码"><a href="#实现代码" class="headerlink" title="实现代码"></a>实现代码</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">excel() &#123;</span><br><span class="line">  <span class="keyword">this</span>.loading = <span class="literal">true</span>;</span><br><span class="line">  axios(&#123;</span><br><span class="line">    method: <span class="string">"post"</span>,</span><br><span class="line">    data: <span class="keyword">this</span>.excelData,</span><br><span class="line">    url: <span class="keyword">this</span>.excelUrl,</span><br><span class="line">    responseType: <span class="string">"blob"</span>,</span><br><span class="line">    headers: &#123;</span><br><span class="line">      Authorization: <span class="string">"Bearer "</span> + getTokenInfo().token,</span><br><span class="line">      <span class="string">"Content-Type"</span>: <span class="string">"application/json;charset=UTF-8 "</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">this</span>.loading = <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">this</span>.download(res.data, res.headers[<span class="string">"content-disposition"</span>]);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;,</span><br><span class="line">download(data) &#123;</span><br><span class="line">  <span class="keyword">if</span> (!data) &#123;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">var</span> blob = <span class="keyword">new</span> Blob([data], &#123;</span><br><span class="line">    type:</span><br><span class="line">      <span class="string">"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=utf-8"</span></span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="keyword">const</span> url = <span class="built_in">window</span>.URL.createObjectURL(blob);</span><br><span class="line">  <span class="keyword">const</span> aLink = <span class="built_in">document</span>.createElement(<span class="string">"a"</span>);</span><br><span class="line">  aLink.style.display = <span class="string">"none"</span>; <span class="comment">//</span></span><br><span class="line">  aLink.href = url;</span><br><span class="line">  aLink.setAttribute(<span class="string">"download"</span>, <span class="keyword">this</span>.excelName + <span class="string">".xlsx"</span>);</span><br><span class="line">  <span class="built_in">document</span>.body.appendChild(aLink);</span><br><span class="line">  aLink.click();</span><br><span class="line">  <span class="built_in">document</span>.body.removeChild(aLink);</span><br><span class="line">  <span class="built_in">window</span>.URL.revokeObjectURL(url);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h2><p>插件（js-xlsx）方法：<a href="https://www.cnblogs.com/liuxianan/p/js-excel.html" target="_blank" rel="noopener">https://www.cnblogs.com/liuxianan/p/js-excel.html</a></p><hr>]]></content>
      
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>前端代码编写规范</title>
      <link href="/2020/02/05/%E5%89%8D%E7%AB%AF%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%E8%A7%84%E8%8C%83/"/>
      <url>/2020/02/05/%E5%89%8D%E7%AB%AF%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%E8%A7%84%E8%8C%83/</url>
      
        <content type="html"><![CDATA[<p>原文： <a href="https://github.com/fex-team/styleguide" target="_blank" rel="noopener">https://github.com/fex-team/styleguide</a></p><h1 id="前端代码编写规范"><a href="#前端代码编写规范" class="headerlink" title="前端代码编写规范"></a>前端代码编写规范</h1><h2 id="HTML-编写规范"><a href="#HTML-编写规范" class="headerlink" title="HTML 编写规范"></a>HTML 编写规范</h2><h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><p>本文档的目标是使HTML代码风格保持一致，容易被理解和被维护。</p><h3 id="代码风格"><a href="#代码风格" class="headerlink" title="代码风格"></a>代码风格</h3><h4 id="缩进与换行"><a href="#缩进与换行" class="headerlink" title="缩进与换行"></a>缩进与换行</h4><ul><li><strong>[强制] 使用 2 个空格做为一个缩进层级，不允许使用 4 个空格 或 tab 字符</strong><br></li><li><strong>[建议] 每行不得超过 120 个字符</strong>(过长的代码不容易阅读与维护)</li></ul><h4 id="命名"><a href="#命名" class="headerlink" title="命名"></a>命名</h4><ul><li><strong>[强制] class 必须单词全字母小写，单词间以 - 分隔</strong></li><li><strong>[强制] class 必须代表相应模块或部件的内容或功能，不得以样式信息进行命名</strong><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 示例： --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- good --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"sidebar"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- bad --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"left"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><strong>[强制] 元素 id 必须保证页面唯一</strong>(同一个页面中，不同的元素包含相同的 id，不符合 id 的属性含义。并且使用 document.getElementById 时可能导致难以追查的问题。)</li><li><strong>[建议] id 建议单词全字母小写，单词间以 - 分隔。同项目必须保持风格一致</strong></li><li><strong>[建议] id、class 命名，在避免冲突并描述清楚的前提下尽可能短</strong><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- good --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"nav"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- bad --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"navigation"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- good --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"comment"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- bad --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"com"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- good --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"author"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- bad --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"red"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ul><h4 id="标签"><a href="#标签" class="headerlink" title="标签"></a>标签</h4><ul><li><strong>[强制] 标签名必须使用小写字母</strong></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 示例： --&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- good --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>Hello StyleGuide!<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- bad --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">P</span>&gt;</span>Hello StyleGuide!<span class="tag">&lt;/<span class="name">P</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li><strong>[强制] 对于无需自闭合的标签，不允许自闭合</strong></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">示例：</span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- good --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"title"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- bad --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"title"</span> /&gt;</span></span><br></pre></td></tr></table></figure><ul><li><strong>[强制] 对 HTML5 中规定允许省略的闭合标签，不允许省略闭合标签</strong></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 解释：</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">对代码体积要求非常严苛的场景，可以例外。比如：第三方页面使用的投放系统。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">示例： --&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- good --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>first<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>second<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- bad --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>first</span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>second</span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li><p><strong>[强制] 标签使用必须符合标签嵌套规则</strong>(比如 div 不得置于 p 中，tbody 必须置于 table)</p></li><li><p><strong>[建议] HTML 标签的使用应该遵循标签的语义</strong></p><pre><code>解释：下面是常见标签语义p - 段落h1,h2,h3,h4,h5,h6 - 层级标题strong,em - 强调ins - 插入del - 删除abbr - 缩写code - 代码标识cite - 引述来源作品的标题q - 引用blockquote - 一段或长篇引用ul - 无序列表ol - 有序列表dl,dt,dd - 定义列表</code></pre><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 示例： --&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- good --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>Esprima serves as an important <span class="tag">&lt;<span class="name">strong</span>&gt;</span>building block<span class="tag">&lt;/<span class="name">strong</span>&gt;</span> for some JavaScript language tools.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- bad --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span>Esprima serves as an important <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"strong"</span>&gt;</span>building block<span class="tag">&lt;/<span class="name">span</span>&gt;</span> for some JavaScript language tools.<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p><strong>[建议] 在 CSS 可以实现相同需求的情况下不得使用表格进行布局</strong></p></li></ul><pre><code>解释：在兼容性允许的情况下应尽量保持语义正确性。对网格对齐和拉伸性有严格要求的场景允许例外，如多列复杂表单。</code></pre><ul><li><strong>[建议] 标签的使用应尽量简洁，减少不必要的标签</strong></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 示例： --&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- good --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">"avatar"</span> <span class="attr">src</span>=<span class="string">"image.png"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- bad --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"avatar"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"image.png"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="属性"><a href="#属性" class="headerlink" title="属性"></a>属性</h4><ul><li><strong>[强制] 属性名必须使用小写字母</strong></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 示例： --&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- good --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">table</span> <span class="attr">cellspacing</span>=<span class="string">"0"</span>&gt;</span>...<span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- bad --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">table</span> <span class="attr">cellSpacing</span>=<span class="string">"0"</span>&gt;</span>...<span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li><strong>[强制] 属性值必须用双引号包围</strong></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">示例：</span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- good --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"esl.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- bad --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">'esl.js'</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">esl.js</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li><strong>[建议] 布尔类型的属性，建议不添加属性值</strong></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 示例： --&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">disabled</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">value</span>=<span class="string">"1"</span> <span class="attr">checked</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li><strong>[建议] 自定义属性建议以 xxx- 为前缀，推荐使用 data-</strong></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 使用前缀有助于区分自定义属性和标准定义的属性。 --&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 示例： --&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">ol</span> <span class="attr">data-ui-type</span>=<span class="string">"Select"</span>&gt;</span><span class="tag">&lt;/<span class="name">ol</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="通用"><a href="#通用" class="headerlink" title="通用"></a>通用</h3><ul><li><strong>[强制] 禁止 img 的 src 取值为空。延迟加载的图片也要增加默认的 src</strong></li></ul><pre><code>解释：src 取值为空，会导致部分浏览器重新加载一次当前页面参考：https://developer.yahoo.com/performance/rules.html#emptysrc</code></pre><ul><li><p><strong>[建议] 避免为 img 添加不必要的 title 属性</strong>（多余的 title 影响看图体验，并且增加了页面尺寸）</p></li><li><p><strong>[建议] 为重要图片添加 alt 属性。</strong>(可以提高图片加载失败时的用户体验)</p></li><li><p><strong>[建议] 添加 width 和 height 属性，以避免页面抖动</strong></p></li><li><p><strong>[建议] 有下载需求的图片采用 img 标签实现，无下载需求的图片采用 CSS 背景图实现</strong></p><pre><code>解释：产品 logo、用户头像、用户产生的图片等有潜在下载需求的图片，以 img 形式实现，能方便用户下载。无下载需求的图片，比如：icon、背景、代码使用的图片等，尽可能采用 css 背景图实现。</code></pre></li><li><p><strong>[建议] 只在必要的时候开启音视频的自动播放</strong></p></li><li><p><strong>[建议] 在 object 标签内部提供指示浏览器不支持该标签的说明</strong></p></li></ul><hr><h2 id="JavaScript-编写规范"><a href="#JavaScript-编写规范" class="headerlink" title="JavaScript 编写规范"></a>JavaScript 编写规范</h2><h3 id="前言-1"><a href="#前言-1" class="headerlink" title="前言"></a>前言</h3><p>JavaScript在百度一直有着广泛的应用，特别是在浏览器端的行为管理。本文档的目标是使JavaScript代码风格保持一致，容易被理解和被维护。</p><h3 id="代码风格-1"><a href="#代码风格-1" class="headerlink" title="代码风格"></a>代码风格</h3><h4 id="文件"><a href="#文件" class="headerlink" title="文件"></a>文件</h4><ul><li><strong>[建议] JavaScript 文件使用无 BOM 的 UTF-8 编码</strong></li><li><strong>[建议] 在文件结尾处，保留一个空行</strong></li></ul><h3 id="结构"><a href="#结构" class="headerlink" title="结构"></a>结构</h3><h4 id="缩进"><a href="#缩进" class="headerlink" title="缩进"></a>缩进</h4><ul><li><strong>[强制] 使用 2 个空格做为一个缩进层级，不允许使用 4 个空格 或 tab 字符</strong></li><li><strong>[强制] switch 下的 case 和 default 必须增加一个缩进层级</strong></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//示例：</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">switch</span> (variable) &#123;</span><br><span class="line">  <span class="keyword">case</span> <span class="string">'1'</span>:</span><br><span class="line">    <span class="comment">// do...</span></span><br><span class="line">    <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">case</span> <span class="string">'2'</span>:</span><br><span class="line">    <span class="comment">// do...</span></span><br><span class="line">    <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">default</span>:</span><br><span class="line">    <span class="comment">// do...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">switch</span> (variable) &#123;</span><br><span class="line"><span class="keyword">case</span> <span class="string">'1'</span>:</span><br><span class="line">  <span class="comment">// do...</span></span><br><span class="line">  <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">case</span> <span class="string">'2'</span>:</span><br><span class="line">  <span class="comment">// do...</span></span><br><span class="line">  <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">default</span>:</span><br><span class="line">  <span class="comment">// do...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="空格"><a href="#空格" class="headerlink" title="空格"></a>空格</h4><ul><li><p><strong>[强制] 二元运算符两侧必须有一个空格，一元运算符与操作对象之间不允许有空格</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 示例：</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> a = !arr.length</span><br><span class="line">a++</span><br><span class="line">a = b + c</span><br></pre></td></tr></table></figure></li><li><p><strong>[强制] 用作代码块起始的左花括号 { 前必须有一个空格</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">示例：</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">if</span> (condition) &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> (condition) &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">funcName</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">if</span> (condition)&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> (condition)&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">funcName</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>[强制] if / else / for / while / function / switch / do / try / catch / finally 关键字后，必须有一个空格</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//示例：</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">if</span> (condition) &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> (condition) &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">&#125;)()</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">if</span>(condition) &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span>(condition) &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">&#125;)()</span><br></pre></td></tr></table></figure></li><li><p><strong>[强制] 在对象创建时，属性中的 : 之后必须有空格，: 之前不允许有空格</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 示例：</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">  a: <span class="number">1</span>,</span><br><span class="line">  b: <span class="number">2</span>,</span><br><span class="line">  c: <span class="number">3</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">  a : <span class="number">1</span>,</span><br><span class="line">  b:<span class="number">2</span>,</span><br><span class="line">  c :<span class="number">3</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>[强制] 函数声明、具名函数表达式、函数调用中，函数名和 ( 之间不允许有空格</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 示例：</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">funcName</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> funcName = <span class="function"><span class="keyword">function</span> <span class="title">funcName</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">funcName()</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">funcName</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> funcName = <span class="function"><span class="keyword">function</span> <span class="title">funcName</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">funcName ()</span><br></pre></td></tr></table></figure></li><li><p><strong>[强制] 在函数调用、函数声明、括号表达式、属性访问、if / for / while / switch / catch 等语句中，() 和 [] 内紧贴括号部分不允许有空格</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 示例：</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"></span><br><span class="line">callFunc(param1, param2, param3)</span><br><span class="line"></span><br><span class="line">save(<span class="keyword">this</span>.list[<span class="keyword">this</span>.indexes[i]])</span><br><span class="line"></span><br><span class="line">needIncream &amp;&amp; (variable += increament)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (num &gt; list.length) &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> (len--) &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"></span><br><span class="line">callFunc( param1, param2, param3 )</span><br><span class="line"></span><br><span class="line">save( <span class="keyword">this</span>.list[ <span class="keyword">this</span>.indexes[ i ] ] )</span><br><span class="line"></span><br><span class="line">needIncreament &amp;&amp; ( variable += increament )</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> ( num &gt; list.length ) &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> ( len-- ) &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>[强制] 单行声明的数组与对象，如果包含元素，{} 和 [] 内紧贴括号部分不允许包含空格</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 解释：</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 声明包含元素的数组与对象，只有当内部元素的形式较为简单时，才允许写在一行。元素复杂的情况，还是应该换行书写。</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例：</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">let</span> arr1 = []</span><br><span class="line"><span class="keyword">let</span> arr2 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="keyword">let</span> obj1 = &#123;&#125;</span><br><span class="line"><span class="keyword">let</span> obj2 = &#123;<span class="attr">name</span>: <span class="string">'obj'</span>&#125;</span><br><span class="line"><span class="keyword">let</span> obj3 = &#123;</span><br><span class="line">  name: <span class="string">'obj'</span>,</span><br><span class="line">  age: <span class="number">20</span>,</span><br><span class="line">  sex: <span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">let</span> arr1 = [ ]</span><br><span class="line"><span class="keyword">let</span> arr2 = [ <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span> ]</span><br><span class="line"><span class="keyword">let</span> obj1 = &#123; &#125;</span><br><span class="line"><span class="keyword">let</span> obj2 = &#123; <span class="attr">name</span>: <span class="string">'obj'</span> &#125;</span><br><span class="line"><span class="keyword">let</span> obj3 = &#123;<span class="attr">name</span>: <span class="string">'obj'</span>, <span class="attr">age</span>: <span class="number">20</span>, <span class="attr">sex</span>: <span class="number">1</span>&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>[强制] 行尾不得有多余的空格</strong></p><h4 id="换行"><a href="#换行" class="headerlink" title="换行"></a>换行</h4></li><li><p><strong>[强制] 每个独立语句结束后必须换行</strong></p></li><li><p><strong>[强制] 每行不得超过 120 个字符</strong></p></li><li><p><strong>[强制] 运算符处换行时，运算符必须在新行的行首</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">示例：</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">if</span> (user.isAuthenticated()</span><br><span class="line">  &amp;&amp; user.isInRole(<span class="string">'admin'</span>)</span><br><span class="line">  &amp;&amp; user.hasAuthority(<span class="string">'add-admin'</span>)</span><br><span class="line">  || user.hasAuthority(<span class="string">'delete-admin'</span>)</span><br><span class="line">) &#123;</span><br><span class="line">  <span class="comment">// Code</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> result = number1 + number2 + number3</span><br><span class="line">  + number4 + number5</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">if</span> (user.isAuthenticated() &amp;&amp;</span><br><span class="line">  user.isInRole(<span class="string">'admin'</span>) &amp;&amp;</span><br><span class="line">  user.hasAuthority(<span class="string">'add-admin'</span>) ||</span><br><span class="line">  user.hasAuthority(<span class="string">'delete-admin'</span>)) &#123;</span><br><span class="line">  <span class="comment">// Code</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> result = number1 + number2 + number3 +</span><br><span class="line">  number4 + number5</span><br></pre></td></tr></table></figure></li><li><p><strong>[强制] 在函数声明、函数表达式、函数调用、对象创建、数组创建、for语句等场景中，不允许在 , 或 前换行</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 示例：</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">  a: <span class="number">1</span>,</span><br><span class="line">  b: <span class="number">2</span>,</span><br><span class="line">  c: <span class="number">3</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">foo(</span><br><span class="line">  aVeryVeryLongArgument,</span><br><span class="line">  anotherVeryLongArgument,</span><br><span class="line">  callback</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">  a: <span class="number">1</span></span><br><span class="line">  , <span class="attr">b</span>: <span class="number">2</span></span><br><span class="line">  , <span class="attr">c</span>: <span class="number">3</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">foo(</span><br><span class="line">  aVeryVeryLongArgument</span><br><span class="line">  , anotherVeryLongArgument</span><br><span class="line">  , callback</span><br><span class="line">)</span><br></pre></td></tr></table></figure></li><li><p><strong>[建议] 不同行为或逻辑的语句集，使用空行隔开，更易阅读</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 示例：</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 仅为按逻辑换行的示例，不代表setStyle的最优实现</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">setStyle</span>(<span class="params">element, property, value</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (element == <span class="literal">null</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  element.style[property] = value</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>[建议] 在语句的行长度超过 120 时，根据逻辑条件合理缩进</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//示例：</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 较复杂的逻辑条件组合，将每个条件独立一行，逻辑运算符放置在行首进行分隔，或将部分逻辑按逻辑组合进行分隔。</span></span><br><span class="line"><span class="comment">// 建议最终将右括号 ) 与左大括号 &#123; 放在独立一行，保证与 if 内语句块能容易视觉辨识。</span></span><br><span class="line"><span class="keyword">if</span> (user.isAuthenticated()</span><br><span class="line">  &amp;&amp; user.isInRole(<span class="string">'admin'</span>)</span><br><span class="line">  &amp;&amp; user.hasAuthority(<span class="string">'add-admin'</span>)</span><br><span class="line">  || user.hasAuthority(<span class="string">'delete-admin'</span>)</span><br><span class="line">) &#123;</span><br><span class="line">  <span class="comment">// Code</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 按一定长度截断字符串，并使用 + 运算符进行连接。</span></span><br><span class="line"><span class="comment">// 分隔字符串尽量按语义进行，如不要在一个完整的名词中间断开。</span></span><br><span class="line"><span class="comment">// 特别的，对于HTML片段的拼接，通过缩进，保持和HTML相同的结构。</span></span><br><span class="line"><span class="keyword">let</span> html = <span class="string">''</span> <span class="comment">// 此处用一个空字符串，以便整个HTML片段都在新行严格对齐</span></span><br><span class="line">  + <span class="string">'&lt;article&gt;'</span></span><br><span class="line">  +     <span class="string">'&lt;h1&gt;Title here&lt;/h1&gt;'</span></span><br><span class="line">  +     <span class="string">'&lt;p&gt;This is a paragraph&lt;/p&gt;'</span></span><br><span class="line">  +     <span class="string">'&lt;footer&gt;Complete&lt;/footer&gt;'</span></span><br><span class="line">  + <span class="string">'&lt;/article&gt;'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 也可使用数组来进行拼接，相对 + 更容易调整缩进。</span></span><br><span class="line"><span class="keyword">let</span> html = [</span><br><span class="line">  <span class="string">'&lt;article&gt;'</span>,</span><br><span class="line">    <span class="string">'&lt;h1&gt;Title here&lt;/h1&gt;'</span>,</span><br><span class="line">    <span class="string">'&lt;p&gt;This is a paragraph&lt;/p&gt;'</span>,</span><br><span class="line">    <span class="string">'&lt;footer&gt;Complete&lt;/footer&gt;'</span>,</span><br><span class="line">  <span class="string">'&lt;/article&gt;'</span></span><br><span class="line">]</span><br><span class="line">html = html.join(<span class="string">''</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 当参数过多时，将每个参数独立写在一行上，并将结束的右括号 ) 独立一行。</span></span><br><span class="line"><span class="comment">// 所有参数必须增加一个缩进。</span></span><br><span class="line">foo(</span><br><span class="line">  aVeryVeryLongArgument,</span><br><span class="line">  anotherVeryLongArgument,</span><br><span class="line">  callback</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 也可以按逻辑对参数进行组合。</span></span><br><span class="line"><span class="comment">// 最经典的是baidu.format函数，调用时将参数分为“模板”和“数据”两块</span></span><br><span class="line">baidu.format(</span><br><span class="line">  dateFormatTemplate,</span><br><span class="line">  year, month, date, hour, minute, second</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 当函数调用时，如果有一个或以上参数跨越多行，应当每一个参数独立一行。</span></span><br><span class="line"><span class="comment">// 这通常出现在匿名函数或者对象初始化等作为参数时，如setTimeout函数等。</span></span><br><span class="line">setTimeout(</span><br><span class="line">  <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    alert(<span class="string">'hello'</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="number">200</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">order.data.read(</span><br><span class="line">  <span class="string">'id='</span> + me.model.id, </span><br><span class="line">  <span class="function"><span class="keyword">function</span> (<span class="params">data</span>) </span>&#123;</span><br><span class="line">    me.attchToModel(data.result)</span><br><span class="line">    callback()</span><br><span class="line">  &#125;, </span><br><span class="line">  <span class="number">300</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 链式调用较长时采用缩进进行调整。</span></span><br><span class="line">$(<span class="string">'#items'</span>)</span><br><span class="line">  .find(<span class="string">'.selected'</span>)</span><br><span class="line">  .highlight()</span><br><span class="line">  .end()</span><br><span class="line"></span><br><span class="line"><span class="comment">// 三元运算符由3部分组成，因此其换行应当根据每个部分的长度不同，形成不同的情况。</span></span><br><span class="line"><span class="keyword">let</span> result = thisIsAVeryVeryLongCondition</span><br><span class="line">  ? resultA : resultB</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> result = condition</span><br><span class="line">  ? thisIsAVeryVeryLongResult</span><br><span class="line">  : resultB</span><br><span class="line"></span><br><span class="line"><span class="comment">// 数组和对象初始化的混用，严格按照每个对象的 &#123; 和结束 &#125; 在独立一行的风格书写。</span></span><br><span class="line"><span class="keyword">let</span> array = [</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">  &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure></li><li><p><strong>[建议] 对于 if…else…、try…catch…finally 等语句，推荐使用在 } 号后添加一个换行 的风格，使代码层次结构更清晰，阅读性更好</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">示例：</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (condition) &#123;</span><br><span class="line">  <span class="comment">// some statements</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">  <span class="comment">// some statements</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">  <span class="comment">// some statements</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">catch</span> (ex) &#123;</span><br><span class="line">  <span class="comment">// some statements</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="语句"><a href="#语句" class="headerlink" title="语句"></a>语句</h4></li><li><p><strong>[强制] 省略语句结束的分号</strong>（Vue 模板会处理语句）</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 示例</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">let</span> a =<span class="number">12</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">let</span> a = <span class="number">12</span>;</span><br></pre></td></tr></table></figure></li><li><p><strong>[强制] 在 if / else / for / do / while 语句中，即使只有一行，也不得省略块 {…}</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 示例：</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">if</span> (condition) &#123;</span><br><span class="line">  callFunc()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">if</span> (condition) callFunc()</span><br><span class="line"><span class="keyword">if</span> (condition)</span><br><span class="line">  callFunc()</span><br></pre></td></tr></table></figure></li><li><p><strong>[强制] 函数定义结束不允许添加分号</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 示例：</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">funcName</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">funcName</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 如果是函数表达式，分号是不允许省略的。</span></span><br><span class="line"><span class="keyword">let</span> funcName = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="命名-1"><a href="#命名-1" class="headerlink" title="命名"></a>命名</h4></li><li><p><strong>[强制] 变量 使用 Camel命名法</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 示例：</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> loadingModules = &#123;&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>[强制] 常量 使用 全部字母大写，单词间下划线分隔 的命名方式</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 示例：</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> HTML_ENTITY = &#123;&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>[强制] 函数 使用 Camel命名法</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 示例：</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">stringFormat</span>(<span class="params">source</span>) </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>[强制] 函数的 参数 使用 Camel命名法</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">示例：</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">hear</span>(<span class="params">theBells</span>) </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>[强制] 类 使用 Pascal命名法</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 示例：</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">TextNode</span>(<span class="params">options</span>) </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>[强制] 类的 方法 / 属性 使用 Camel命名法</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 示例：</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">TextNode</span>(<span class="params">value, engine</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.value = value</span><br><span class="line">  <span class="keyword">this</span>.engine = engine</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">TextNode.prototype.clone = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">this</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>[强制] 枚举变量 使用 Pascal命名法，枚举的属性 使用 全部字母大写，单词间下划线分隔 的命名方式</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 示例：</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> TargetState = &#123;</span><br><span class="line">  READING: <span class="number">1</span>,</span><br><span class="line">  READED: <span class="number">2</span>,</span><br><span class="line">  APPLIED: <span class="number">3</span>,</span><br><span class="line">  READY: <span class="number">4</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>[强制] 命名空间 使用 Camel命名法</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 示例：</span></span><br><span class="line"></span><br><span class="line">equipments.heavyWeapons = &#123;&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>[强制] 由多个单词组成的缩写词，在命名中，根据当前命名法和出现的位置，所有字母的大小写与首字母的大小写保持一致</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 示例：</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">XMLParser</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">insertHTML</span>(<span class="params">element, html</span>) </span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> httpRequest = <span class="keyword">new</span> HTTPRequest()</span><br></pre></td></tr></table></figure></li><li><p><strong>[强制] 类名 使用 名词</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 示例：</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Engine</span>(<span class="params">options</span>) </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>[建议] 函数名 使用 动宾短语</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 示例：</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getStyle</span>(<span class="params">element</span>) </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>[建议] boolean 类型的变量使用 is 或 has 开头</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 示例：</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> isReady = <span class="literal">false</span></span><br><span class="line"><span class="keyword">let</span> hasMoreCommands = <span class="literal">false</span></span><br></pre></td></tr></table></figure></li><li><p><strong>[建议] Promise对象 用 动宾短语的进行时 表达</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 示例：</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> loadingData = ajax.get(<span class="string">'url'</span>)</span><br><span class="line">loadingData.then(callback)</span><br></pre></td></tr></table></figure><h3 id="注释"><a href="#注释" class="headerlink" title="注释"></a>注释</h3><h4 id="单行注释"><a href="#单行注释" class="headerlink" title="单行注释"></a>单行注释</h4></li><li><p><strong>[强制] 必须独占一行。// 后跟一个空格，缩进与下一行被注释说明的代码一致</strong></p><h4 id="多行注释"><a href="#多行注释" class="headerlink" title="多行注释"></a>多行注释</h4></li><li><p><strong>[建议] 避免使用 /<em>…</em>/ 这样的多行注释。有多行注释内容时，使用多个单行注释</strong></p><h4 id="文档化注释"><a href="#文档化注释" class="headerlink" title="文档化注释"></a>文档化注释</h4></li><li><p><strong>[强制] 为了便于代码阅读和自文档化，以下内容必须包含以 /**…*/ 形式的块注释中</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">解释：</span><br><span class="line"></span><br><span class="line">    文件</span><br><span class="line">    namespace</span><br><span class="line">    类</span><br><span class="line">    函数或方法</span><br><span class="line">    类属性</span><br><span class="line">    事件</span><br><span class="line">    全局变量</span><br><span class="line">    常量</span><br><span class="line">    AMD 模块</span><br></pre></td></tr></table></figure></li><li><p><strong>[强制] 文档注释前必须空一行</strong></p></li><li><p><strong>[建议] 自文档化的文档说明 what，而不是 how</strong></p><h4 id="类型定义"><a href="#类型定义" class="headerlink" title="类型定义"></a>类型定义</h4></li><li><p><strong>[强制] 类型定义都是以{开始, 以}结束</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">解释：</span><br><span class="line"></span><br><span class="line">常用类型如：&#123;string&#125;, &#123;number&#125;, &#123;boolean&#125;, &#123;<span class="built_in">Object</span>&#125;, &#123;<span class="built_in">Function</span>&#125;, &#123;<span class="built_in">RegExp</span>&#125;, &#123;<span class="built_in">Array</span>&#125;, &#123;<span class="built_in">Date</span>&#125;。</span><br><span class="line"></span><br><span class="line">类型不仅局限于内置的类型，也可以是自定义的类型。比如定义了一个类 Developer，就可以使用它来定义一个参数和返回值的类型。</span><br><span class="line">[强制] 对于基本类型 &#123;string&#125;, &#123;number&#125;, &#123;boolean&#125;，首字母必须小写。</span><br><span class="line">类型定义 语法示例 解释</span><br><span class="line"><span class="built_in">String</span> &#123;string&#125; --</span><br><span class="line"><span class="built_in">Number</span> &#123;number&#125; --</span><br><span class="line"><span class="built_in">Boolean</span> &#123;boolean&#125; --</span><br><span class="line"><span class="built_in">Object</span> &#123;<span class="built_in">Object</span>&#125; --</span><br><span class="line"><span class="built_in">Function</span> &#123;<span class="built_in">Function</span>&#125; --</span><br><span class="line"><span class="built_in">RegExp</span> &#123;<span class="built_in">RegExp</span>&#125; --</span><br><span class="line"><span class="built_in">Array</span> &#123;<span class="built_in">Array</span>&#125; --</span><br><span class="line"><span class="built_in">Date</span> &#123;<span class="built_in">Date</span>&#125; --</span><br><span class="line">单一类型集合 &#123;<span class="built_in">Array</span>.&lt;string&gt;&#125; string 类型的数组</span><br><span class="line">多类型 &#123;(number｜boolean)&#125; 可能是 number 类型, 也可能是 boolean 类型</span><br><span class="line">允许为<span class="literal">null</span> &#123;?number&#125; 可能是 number, 也可能是 <span class="literal">null</span></span><br><span class="line">不允许为<span class="literal">null</span> &#123;!<span class="built_in">Object</span>&#125; <span class="built_in">Object</span> 类型, 但不是 <span class="literal">null</span></span><br><span class="line"><span class="built_in">Function</span>类型 &#123;<span class="function"><span class="keyword">function</span>(<span class="params">number, boolean</span>)&#125; 函数, 形参类型</span></span><br><span class="line"><span class="function"><span class="title">Function</span>带返回值 </span>&#123;<span class="function"><span class="keyword">function</span>(<span class="params">number, boolean</span>):<span class="title">string</span>&#125; 函数, 形参, 返回值类型</span></span><br><span class="line"><span class="function">参数可选 @<span class="title">param</span> </span>&#123;string=&#125; name 可选参数, =为类型后缀</span><br><span class="line">可变参数 @param &#123;...number&#125; args 变长参数, ...为类型前缀</span><br><span class="line">任意类型 &#123;*&#125; 任意类型</span><br><span class="line">可选任意类型 @param &#123;*=&#125; name 可选参数，类型不限</span><br><span class="line">可变任意类型 @param &#123;...*&#125; args 变长参数，类型不限</span><br></pre></td></tr></table></figure><h4 id="文件注释"><a href="#文件注释" class="headerlink" title="文件注释"></a>文件注释</h4></li><li><p><strong>[强制] 文件顶部必须包含文件注释，用 @file 标识文件说明</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 示例：</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@file </span>Describe the file</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure></li><li><p><strong>[建议] 文件注释中可以用 @author 标识开发者信息</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 解释：</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 开发者信息能够体现开发人员对文件的贡献，并且能够让遇到问题或希望了解相关信息的人找到维护人。通常情况文件在被创建时标识的是创建者。随着项目的进展，越来越多的人加入，参与这个文件的开发，新的作者应该被加入 @author 标识。</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// @author 标识具有多人时，原则是按照 责任 进行排序。通常的说就是如果有问题，就是找第一个人应该比找第二个人有效。比如文件的创建者由于各种原因，模块移交给了其他人或其他团队，后来因为新增需求，其他人在新增代码时，添加 @author 标识应该把自己的名字添加在创建人的前面。</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// @author 中的名字不允许被删除。任何劳动成果都应该被尊重。</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 业务项目中，一个文件可能被多人频繁修改，并且每个人的维护时间都可能不会很长，不建议为文件增加 @author 标识。通过版本控制系统追踪变更，按业务逻辑单元确定模块的维护责任人，通过文档与wiki跟踪和查询，是更好的责任管理方式。</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 对于业务逻辑无关的技术型基础项目，特别是开源的公共项目，应使用 @author 标识。</span></span><br><span class="line"></span><br><span class="line">示例：</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@file </span>Describe the file</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author <span class="variable">author</span></span>-name(mail-name<span class="doctag">@domain</span>.com)</span></span><br><span class="line"><span class="comment"> *         author-name2(mail-name2<span class="doctag">@domain</span>.com)</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure><h4 id="命名空间注释"><a href="#命名空间注释" class="headerlink" title="命名空间注释"></a>命名空间注释</h4></li><li><p><strong>[建议] 命名空间使用 @namespace 标识</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 示例：</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@namespace</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">let</span> util = &#123;&#125;</span><br></pre></td></tr></table></figure><h4 id="类注释"><a href="#类注释" class="headerlink" title="类注释"></a>类注释</h4></li><li><p><strong>[建议] 使用 @class 标记类或构造函数</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 解释：</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 对于使用对象 constructor 属性来定义的构造函数，可以使用 @constructor 来标记。</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例：</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 描述</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@class</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Developer</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// constructor body</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>[建议] 使用 @extends 标记类的继承信息</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 示例：</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 描述</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@class</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@extends <span class="variable">Developer</span></span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Fronteer</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  Developer.call(<span class="keyword">this</span>)</span><br><span class="line">  <span class="comment">// constructor body</span></span><br><span class="line">&#125;</span><br><span class="line">util.inherits(Fronteer, Developer)</span><br></pre></td></tr></table></figure></li><li><p><strong>[强制] 使用包装方式扩展类成员时， 必须通过 @lends 进行重新指向</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 解释：</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 没有 @lends 标记将无法为该类生成包含扩展类成员的文档。</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例：</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 类描述</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@class</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@extends <span class="variable">Developer</span></span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Fronteer</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  Developer.call(<span class="keyword">this</span>)</span><br><span class="line">  <span class="comment">// constructor body</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">util.extend(</span><br><span class="line">  Fronteer.prototype,</span><br><span class="line">  <span class="comment">/** <span class="doctag">@lends </span>Fronteer.prototype */</span>&#123;</span><br><span class="line">    _getLevel: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="comment">// TODO</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure></li><li><p><strong>[强制] 类的属性或方法等成员信息使用 @public / @protected / @private 中的任意一个，指明可访问性</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 解释：</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 生成的文档中将有可访问性的标记，避免用户直接使用非 public 的属性或方法。</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例：</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 类描述</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@class</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@extends <span class="variable">Developer</span></span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">let</span> Fronteer = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  Developer.call(<span class="keyword">this</span>)</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">    * 属性描述</span></span><br><span class="line"><span class="comment">    *</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@type <span class="type">&#123;string&#125;</span></span></span></span><br><span class="line"><span class="comment">    * <span class="doctag">@private</span></span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">  <span class="keyword">this</span>._level = <span class="string">'T12'</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// constructor body</span></span><br><span class="line">&#125;</span><br><span class="line">util.inherits(Fronteer, Developer)</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 方法描述</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@private</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return <span class="type">&#123;string&#125;</span> </span>返回值描述</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">Fronteer.prototype._getLevel = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="函数-方法注释"><a href="#函数-方法注释" class="headerlink" title="函数/方法注释"></a>函数/方法注释</h4></li><li><p><strong>[强制] 函数/方法注释必须包含函数说明，有参数和返回值时必须使用注释标识</strong></p></li><li><p><strong>[强制] 参数和返回值注释必须包含类型信息和说明</strong></p></li><li><p><strong>[建议] 当函数是内部函数，外部不可访问时，可以使用 @inner 标识</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 示例：</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 函数描述</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;string&#125;</span> </span>p1 参数1的说明</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;string&#125;</span> </span>p2 参数2的说明，比较长</span></span><br><span class="line"><span class="comment"> *     那就换行了.</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;number=&#125;</span> </span>p3 参数3的说明（可选）</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return <span class="type">&#123;Object&#125;</span> </span>返回值描述</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">p1, p2, p3</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> p3 = p3 || <span class="number">10</span></span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    p1: p1,</span><br><span class="line">    p2: p2,</span><br><span class="line">    p3: p3</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>[强制] 对 Object 中各项的描述， 必须使用 @param 标识</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 示例：</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 函数描述</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;Object&#125;</span> </span>option 参数描述</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;string&#125;</span> </span>option.url option项描述</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;string=&#125;</span> </span>option.method option项描述，可选参数</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">option</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// TODO</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>[建议] 重写父类方法时， 应当添加 @override 标识。如果重写的形参个数、类型、顺序和返回值类型均未发生变化，可省略 @param、@return，仅用 @override 标识，否则仍应作完整注释</strong></p><pre><code>解释：简而言之，当子类重写的方法能直接套用父类的方法注释时可省略对参数与返回值的注释。</code></pre><h4 id="事件注释"><a href="#事件注释" class="headerlink" title="事件注释"></a>事件注释</h4></li><li><p><strong>[强制] 必须使用 @event 标识事件，事件参数的标识与方法描述的参数标识相同</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 示例：</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 值变更时触发</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@event</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;Object&#125;</span> </span>e e描述</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;string&#125;</span> </span>e.before before描述</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;string&#125;</span> </span>e.after after描述</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">onchange: <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>[强制] 在会广播事件的函数前使用 @fires 标识广播的事件，在广播事件代码前使用 @event 标识事件</strong></p></li><li><p><strong>[建议] 对于事件对象的注释，使用 @param 标识，生成文档时可读性更好</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 示例：</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 点击处理</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@fires </span>Select#change</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@private</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">Select.prototype.clickHandler = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">    * 值变更时触发</span></span><br><span class="line"><span class="comment">    *</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@event </span>Select#change</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@param <span class="type">&#123;Object&#125;</span> </span>e e描述</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@param <span class="type">&#123;string&#125;</span> </span>e.before before描述</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@param <span class="type">&#123;string&#125;</span> </span>e.after after描述</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">  <span class="keyword">this</span>.fire(</span><br><span class="line">    <span class="string">'change'</span>,</span><br><span class="line">    &#123;</span><br><span class="line">      before: <span class="string">'foo'</span>,</span><br><span class="line">      after: <span class="string">'bar'</span></span><br><span class="line">    &#125;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="常量注释"><a href="#常量注释" class="headerlink" title="常量注释"></a>常量注释</h4></li><li><p><strong>[强制] 常量必须使用 @const 标记，并包含说明和类型信息</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 示例：</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 常量说明</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@const</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@type <span class="type">&#123;string&#125;</span></span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">let</span> REQUEST_URL = <span class="string">'myurl.do'</span></span><br></pre></td></tr></table></figure><h4 id="复杂类型注释"><a href="#复杂类型注释" class="headerlink" title="复杂类型注释"></a>复杂类型注释</h4></li><li><p><strong>[建议] 对于类型未定义的复杂结构的注释，可以使用 @typedef 标识来定义</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 示例：</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// `namespaceA~` 可以换成其它 namepaths 前缀，目的是为了生成文档中能显示 `@typedef` 定义的类型和链接。</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 服务器</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@typedef <span class="type">&#123;Object&#125;</span> </span>namespaceA~Server</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@property <span class="type">&#123;string&#125;</span> </span>host 主机</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@property <span class="type">&#123;number&#125;</span> </span>port 端口</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 服务器列表</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@type <span class="type">&#123;Array.&lt;namespaceA~Server&gt;&#125;</span></span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">let</span> servers = [</span><br><span class="line">  &#123;</span><br><span class="line">    host: <span class="string">'1.2.3.4'</span>,</span><br><span class="line">    port: <span class="number">8080</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    host: <span class="string">'1.2.3.5'</span>,</span><br><span class="line">    port: <span class="number">8081</span></span><br><span class="line">  &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><h3 id="语言特性"><a href="#语言特性" class="headerlink" title="语言特性"></a>语言特性</h3><h4 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h4></li><li><p><strong>[强制]采用ES6语法</strong></p></li></ul><h4 id="条件"><a href="#条件" class="headerlink" title="条件"></a>条件</h4><ul><li><p><strong>[强制] 在 Equality Expression 中使用类型严格的 ===。仅当判断 null 或 undefined 时，允许使用 == null</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 解释：</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用 === 可以避免等于判断中隐式的类型转换。</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例：</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">if</span> (age === <span class="number">30</span>) &#123;</span><br><span class="line">  <span class="comment">// ......</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">if</span> (age == <span class="number">30</span>) &#123;</span><br><span class="line">  <span class="comment">// ......</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>[建议] 尽可能使用简洁的表达式</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 示例：</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 字符串为空</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">if</span> (!name) &#123;</span><br><span class="line">  <span class="comment">// ......</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">if</span> (name === <span class="string">''</span>) &#123;</span><br><span class="line">  <span class="comment">// ......</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 数组非空</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">if</span> (collection.length) &#123;</span><br><span class="line">  <span class="comment">// ......</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">if</span> (collection.length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">  <span class="comment">// ......</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 布尔不成立</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">if</span> (!notTrue) &#123;</span><br><span class="line">  <span class="comment">// ......</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">if</span> (notTrue === <span class="literal">false</span>) &#123;</span><br><span class="line">  <span class="comment">// ......</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// null 或 undefined</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">if</span> (noValue == <span class="literal">null</span>) &#123;</span><br><span class="line">  <span class="comment">// ......</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">if</span> (noValue === <span class="literal">null</span> || <span class="keyword">typeof</span> noValue === <span class="string">'undefined'</span>) &#123;</span><br><span class="line">  <span class="comment">// ......</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>[建议] 按执行频率排列分支的顺序</strong></p></li><li><p><strong>[建议] 对于相同变量或表达式的多值条件，用 switch 代替 if</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 示例：</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">switch</span> (<span class="keyword">typeof</span> variable) &#123;</span><br><span class="line">  <span class="keyword">case</span> <span class="string">'object'</span>:</span><br><span class="line">    <span class="comment">// ......</span></span><br><span class="line">    <span class="keyword">break</span></span><br><span class="line">  <span class="keyword">case</span> <span class="string">'number'</span>:</span><br><span class="line">  <span class="keyword">case</span> <span class="string">'boolean'</span>:</span><br><span class="line">  <span class="keyword">case</span> <span class="string">'string'</span>:</span><br><span class="line">    <span class="comment">// ......</span></span><br><span class="line">    <span class="keyword">break</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">const</span> type = <span class="keyword">typeof</span> variable</span><br><span class="line"><span class="keyword">if</span> (type === <span class="string">'object'</span>) &#123;</span><br><span class="line">  <span class="comment">// ......</span></span><br><span class="line">&#125; </span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (type === <span class="string">'number'</span> || type === <span class="string">'boolean'</span> || type === <span class="string">'string'</span>) &#123;</span><br><span class="line">  <span class="comment">// ......</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>[建议] 如果函数或全局中的 else 块后没有任何语句，可以删除 else</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 示例：</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getName</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (name) &#123;</span><br><span class="line">    <span class="keyword">return</span> name</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="string">'unnamed'</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getName</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (name) &#123;</span><br><span class="line">    <span class="keyword">return</span> name</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">'unnamed'</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="循环"><a href="#循环" class="headerlink" title="循环"></a>循环</h4></li><li><p><strong>[建议] 不要在循环体中包含函数表达式，事先将函数提取到循环体外</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 解释：</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 循环体中的函数表达式，运行过程中会生成循环次数个函数对象。</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例：</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">clicker</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// ......</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>, len = elements.length i &lt; len i++) &#123;</span><br><span class="line">  <span class="keyword">let</span> element = elements[i]</span><br><span class="line">  addListener(element, <span class="string">'click'</span>, clicker)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>, len = elements.length i &lt; len i++) &#123;</span><br><span class="line">  <span class="keyword">let</span> element = elements[i]</span><br><span class="line">  addListener(element, <span class="string">'click'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>[建议] 对循环内多次使用的不变值，在循环外用变量缓存</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 示例：</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">let</span> width = wrap.offsetWidth + <span class="string">'px'</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>, len = elements.length i &lt; len i++) &#123;</span><br><span class="line">  <span class="keyword">let</span> element = elements[i]</span><br><span class="line">  element.style.width = width</span><br><span class="line">  <span class="comment">// ......</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>, len = elements.length i &lt; len i++) &#123;</span><br><span class="line">  <span class="keyword">let</span> element = elements[i]</span><br><span class="line">  element.style.width = wrap.offsetWidth + <span class="string">'px'</span></span><br><span class="line">  <span class="comment">// ......</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>[建议] 对有序集合进行遍历时，缓存 length</strong></p></li><li><p><strong>[建议] 对有序集合进行顺序无关的遍历时，使用逆序遍历</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 解释：</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 逆序遍历可以节省变量，代码比较优化。</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例：</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> len = elements.length</span><br><span class="line"><span class="keyword">while</span> (len--) &#123;</span><br><span class="line">  <span class="keyword">let</span> element = elements[len]</span><br><span class="line">  <span class="comment">// ......</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="类型"><a href="#类型" class="headerlink" title="类型"></a>类型</h3><h4 id="类型检测"><a href="#类型检测" class="headerlink" title="类型检测"></a>类型检测</h4></li><li><p><strong>[建议] 类型检测优先使用 typeof。对象类型检测使用 instanceof。null 或 undefined 的检测使用 == null</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 示例：</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// string</span></span><br><span class="line"><span class="keyword">typeof</span> variable === <span class="string">'string'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// number</span></span><br><span class="line"><span class="keyword">typeof</span> variable === <span class="string">'number'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// boolean</span></span><br><span class="line"><span class="keyword">typeof</span> variable === <span class="string">'boolean'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Function</span></span><br><span class="line"><span class="keyword">typeof</span> variable === <span class="string">'function'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Object</span></span><br><span class="line"><span class="keyword">typeof</span> variable === <span class="string">'object'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// RegExp</span></span><br><span class="line">variable <span class="keyword">instanceof</span> <span class="built_in">RegExp</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Array</span></span><br><span class="line">variable <span class="keyword">instanceof</span> <span class="built_in">Array</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// null</span></span><br><span class="line">variable === <span class="literal">null</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// null or undefined</span></span><br><span class="line">variable == <span class="literal">null</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// undefined</span></span><br><span class="line"><span class="keyword">typeof</span> variable === <span class="string">'undefined'</span></span><br></pre></td></tr></table></figure><h4 id="类型转换"><a href="#类型转换" class="headerlink" title="类型转换"></a>类型转换</h4></li><li><p><strong>[建议] 转换成 string 时，使用 + ‘’</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 示例：</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line">num + <span class="string">''</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">new</span> <span class="built_in">String</span>(num)</span><br><span class="line">num.toString()</span><br><span class="line"><span class="built_in">String</span>(num)</span><br></pre></td></tr></table></figure></li><li><p><strong>[建议] 转换成 number 时，通常使用 +</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 示例：</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line">+str</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="built_in">Number</span>(str)</span><br></pre></td></tr></table></figure><h4 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h4></li><li><p><strong>[强制] 字符串开头和结束使用单引号 ‘</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 解释：</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//   输入单引号不需要按住 shift，方便输入。</span></span><br><span class="line"><span class="comment">//   实际使用中，字符串经常用来拼接 HTML。为方便 HTML 中包含双引号而不需要转义写法。</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例：</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> str = <span class="string">'我是一个字符串'</span></span><br><span class="line"><span class="keyword">let</span> html = <span class="string">'&lt;div class="cls"&gt;拼接HTML可以省去双引号转义&lt;/div&gt;'</span></span><br></pre></td></tr></table></figure></li><li><p><strong>[建议] 使用 数组 或 + 拼接字符串</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 解释：</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//   使用 + 拼接字符串，如果拼接的全部是 StringLiteral，压缩工具可以对其进行自动合并的优化。所以，静态字符串建议使用 + 拼接。</span></span><br><span class="line"><span class="comment">//   在现代浏览器下，使用 + 拼接字符串，性能较数组的方式要高。</span></span><br><span class="line"><span class="comment">//   如需要兼顾老旧浏览器，应尽量使用数组拼接字符串。</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例：</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用数组拼接字符串</span></span><br><span class="line"><span class="keyword">let</span> str = [</span><br><span class="line">  <span class="comment">// 推荐换行开始并缩进开始第一个字符串, 对齐代码, 方便阅读.</span></span><br><span class="line">  <span class="string">'&lt;ul&gt;'</span>,</span><br><span class="line">    <span class="string">'&lt;li&gt;第一项&lt;/li&gt;'</span>,</span><br><span class="line">    <span class="string">'&lt;li&gt;第二项&lt;/li&gt;'</span>,</span><br><span class="line">  <span class="string">'&lt;/ul&gt;'</span></span><br><span class="line">].join(<span class="string">''</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用 + 拼接字符串</span></span><br><span class="line"><span class="keyword">let</span> str2 = <span class="string">''</span> <span class="comment">// 建议第一个为空字符串, 第二个换行开始并缩进开始, 对齐代码, 方便阅读</span></span><br><span class="line">  + <span class="string">'&lt;ul&gt;'</span>,</span><br><span class="line">  +    <span class="string">'&lt;li&gt;第一项&lt;/li&gt;'</span>,</span><br><span class="line">  +    <span class="string">'&lt;li&gt;第二项&lt;/li&gt;'</span>,</span><br><span class="line">  + <span class="string">'&lt;/ul&gt;'</span></span><br></pre></td></tr></table></figure></li><li><p><strong>[建议] 复杂的数据到视图字符串的转换过程，选用一种模板引擎</strong></p></li></ul><h4 id="对象"><a href="#对象" class="headerlink" title="对象"></a>对象</h4><ul><li><p><strong>[强制] 使用对象字面量 {} 创建新 Object</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 示例：</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">let</span> obj = &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">let</span> obj = <span class="keyword">new</span> <span class="built_in">Object</span>()</span><br></pre></td></tr></table></figure></li><li><p><strong>[强制] 对象创建时，如果一个对象的所有 属性 均可以不添加引号，则所有 属性 不得添加引号</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 示例：</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> info = &#123;</span><br><span class="line">  name: <span class="string">'someone'</span>,</span><br><span class="line">  age: <span class="number">28</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>[强制] 对象创建时，如果任何一个 属性 需要添加引号，则所有 属性 必须添加 ‘</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 解释：</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 如果属性不符合 Identifier 和 NumberLiteral 的形式，就需要以 StringLiteral 的形式提供。</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例：</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">let</span> info = &#123;</span><br><span class="line">  <span class="string">'name'</span>: <span class="string">'someone'</span>,</span><br><span class="line">  <span class="string">'age'</span>: <span class="number">28</span>,</span><br><span class="line">  <span class="string">'more-info'</span>: <span class="string">'...'</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">let</span> info = &#123;</span><br><span class="line">  name: <span class="string">'someone'</span>,</span><br><span class="line">  age: <span class="number">28</span>,</span><br><span class="line">  <span class="string">'more-info'</span>: <span class="string">'...'</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>[强制] 不允许修改和扩展任何原生对象和宿主对象的原型</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 示例：</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 以下行为绝对禁止</span></span><br><span class="line"><span class="built_in">String</span>.prototype.trim = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>[建议] 属性访问时，尽量使用 .</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 解释：</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 属性名符合 Identifier 的要求，就可以通过 . 来访问，否则就只能通过 [expr] 方式访问。</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 通常在 JavaScript 中声明的对象，属性命名是使用 Camel 命名法，用 . 来访问更清晰简洁。部分特殊的属性(比如来自后端的JSON)，可能采用不寻常的命名方式，可以通过 [expr] 方式访问。</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例：</span></span><br><span class="line"></span><br><span class="line">info.age</span><br><span class="line">info[<span class="string">'more-info'</span>]</span><br></pre></td></tr></table></figure></li><li><p><strong>[建议] for in 遍历对象时, 使用 hasOwnProperty 过滤掉原型中的属性</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 示例：</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> newInfo = &#123;&#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">in</span> info) &#123;</span><br><span class="line">  <span class="keyword">if</span> (info.hasOwnProperty(key)) &#123;</span><br><span class="line">    newInfo[key] = info[key]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h4></li><li><p><strong>[强制] 使用数组字面量 [] 创建新数组，除非想要创建的是指定长度的数组</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 示例：</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">let</span> arr = []</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">let</span> arr = <span class="keyword">new</span> <span class="built_in">Array</span>()</span><br></pre></td></tr></table></figure></li><li><p><strong>[强制] 遍历数组不使用 for in</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 解释：</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 数组对象可能存在数字以外的属性, 这种情况下 for in 不会得到正确结果.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例：</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> arr = [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>]</span><br><span class="line">arr.other = <span class="string">'other things'</span> <span class="comment">// 这里仅作演示, 实际中应使用Object类型</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 正确的遍历方式</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>, len = arr.length i &lt; len i++) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(i)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 错误的遍历方式</span></span><br><span class="line"><span class="keyword">for</span> (i <span class="keyword">in</span> arr) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(i)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>[建议] 不因为性能的原因自己实现数组排序功能，尽量使用数组的 sort 方法</strong></p></li><li><p><strong>[建议] 清空数组使用 .length = 0</strong></p></li></ul><h3 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h3><h4 id="函数长度"><a href="#函数长度" class="headerlink" title="函数长度"></a>函数长度</h4><ul><li><strong>[建议] 一个函数的长度控制在 50 行以内</strong></li></ul><h4 id="参数设计"><a href="#参数设计" class="headerlink" title="参数设计"></a>参数设计</h4><ul><li><p><strong>[建议] 一个函数的参数控制在 6 个以内</strong></p></li><li><p><strong>[建议] 通过 options 参数传递非数据输入型参数</strong></p><h4 id="闭包"><a href="#闭包" class="headerlink" title="闭包"></a>闭包</h4></li><li><p><strong>[建议] 在适当的时候将闭包内大对象置为 null</strong></p></li></ul><p>解释：</p><p>在 JavaScript 中，无需特别的关键词就可以使用闭包，一个函数可以任意访问在其定义的作用域外的变量。需要注意的是，函数的作用域是静态的，即在定义时决定，与调用的时机和方式没有任何关系。</p><p>闭包会阻止一些变量的垃圾回收，对于较老旧的JavaScript引擎，可能导致外部所有变量均无法回收。</p><p>首先一个较为明确的结论是，以下内容会影响到闭包内变量的回收：</p><pre><code>嵌套的函数中是否有使用该变量。嵌套的函数中是否有 直接调用eval。是否使用了 with 表达式。</code></pre><p>Chakra、V8 和 SpiderMonkey 将受以上因素的影响，表现出不尽相同又较为相似的回收策略，而JScript.dll和Carakan则完全没有这方面的优化，会完整保留整个 LexicalEnvironment 中的所有变量绑定，造成一定的内存消耗。</p><p>由于对闭包内变量有回收优化策略的 Chakra、V8 和 SpiderMonkey 引擎的行为较为相似，因此可以总结如下，当返回一个函数 fn 时：</p><pre><code>如果 fn 的 [[Scope]] 是ObjectEnvironment（with 表达式生成 ObjectEnvironment，函数和 catch 表达式生成 DeclarativeEnvironment），则：    如果是 V8 引擎，则退出全过程。    如果是 SpiderMonkey，则处理该 ObjectEnvironment 的外层 LexicalEnvironment。获取当前 LexicalEnvironment 下的所有类型为 Function 的对象，对于每一个 Function 对象，分析其 FunctionBody：    如果 FunctionBody 中含有 直接调用eval，则退出全过程。    否则得到所有的 Identifier。    对于每一个 Identifier，设其为 name，根据查找变量引用的规则，从 LexicalEnvironment 中找出名称为 name 的绑定 binding。    对 binding 添加 notSwap 属性，其值为 true。检查当前 LexicalEnvironment 中的每一个变量绑定，如果该绑定有 notSwap 属性且值为 true，则：    如果是V8引擎，删除该绑定。    如果是SpiderMonkey，将该绑定的值设为 undefined，将删除 notSwap 属性。</code></pre><p>对于Chakra引擎，暂无法得知是按 V8 的模式还是按 SpiderMonkey 的模式进行。</p><p>如果有 非常庞大 的对象，且预计会在 老旧的引擎 中执行，则使用闭包时，注意将闭包不需要的对象置为空引用。</p><ul><li><p><strong>[建议] 使用 IIFE 避免 Lift 效应</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 解释：</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 在引用函数外部变量时，函数执行时外部变量的值由运行时决定而非定义时，最典型的场景如下：</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> tasks = []</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span> i &lt; <span class="number">5</span> i++) &#123;</span><br><span class="line">  tasks[tasks.length] = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'Current cursor is at '</span> + i)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> len = tasks.length</span><br><span class="line"><span class="keyword">while</span> (len--) &#123;</span><br><span class="line">  tasks[len]()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 以上代码对 tasks 中的函数的执行均会输出 Current cursor is at 5，往往不符合预期。</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 此现象称为 Lift 效应 。解决的方式是通过额外加上一层闭包函数，将需要的外部变量作为参数传递来解除变量的绑定关系：</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> tasks = []</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span> i &lt; <span class="number">5</span> i++) &#123;</span><br><span class="line">  <span class="comment">// 注意有一层额外的闭包</span></span><br><span class="line">  tasks[tasks.length] = (<span class="function"><span class="keyword">function</span> (<span class="params">i</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'Current cursor is at '</span> + i)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)(i)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> len = tasks.length</span><br><span class="line"><span class="keyword">while</span> (len--) &#123;</span><br><span class="line">  tasks[len]()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="空函数"><a href="#空函数" class="headerlink" title="空函数"></a>空函数</h4></li><li><p><strong>[建议] 空函数不使用 new Function() 的形式</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 示例：</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> emptyFunction = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>[建议] 对于性能有高要求的场合，建议存在一个空函数的常量，供多处使用共享</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 示例：</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> EMPTY_FUNCTION = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">MyClass</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">MyClass.prototype.abstractMethod = EMPTY_FUNCTION</span><br><span class="line">MyClass.prototype.hooks.before = EMPTY_FUNCTION</span><br><span class="line">MyClass.prototype.hooks.after = EMPTY_FUNCTION</span><br></pre></td></tr></table></figure><h4 id="面向对象"><a href="#面向对象" class="headerlink" title="面向对象"></a>面向对象</h4></li><li><p><strong>[强制] 类的继承方案，实现时需要修正 constructor</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 解释：</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 通常使用其他 library 的类继承方案都会进行 constructor 修正。如果是自己实现的类继承方案，需要进行 constructor 修正。</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例：</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 构建类之间的继承关系</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;Function&#125;</span> </span>subClass 子类函数</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;Function&#125;</span> </span>superClass 父类函数</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">inherits</span>(<span class="params">subClass, superClass</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> F = <span class="keyword">new</span> <span class="built_in">Function</span>()</span><br><span class="line">  F.prototype = superClass.prototype</span><br><span class="line">  subClass.prototype = <span class="keyword">new</span> F()</span><br><span class="line">  subClass.prototype.constructor = subClass</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>[建议] 声明类时，保证 constructor 的正确性</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 示例：</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Animal</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.name = name</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 直接prototype等于对象时，需要修正constructor</span></span><br><span class="line">Animal.prototype = &#123;</span><br><span class="line">  <span class="keyword">constructor</span>: Animal,</span><br><span class="line"></span><br><span class="line">  jump: function () &#123;</span><br><span class="line">    alert(<span class="string">'animal '</span> + <span class="keyword">this</span>.name + <span class="string">' jump'</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 这种方式扩展prototype则无需理会constructor</span></span><br><span class="line">Animal.prototype.jump = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  alert(<span class="string">'animal '</span> + <span class="keyword">this</span>.name + <span class="string">' jump'</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>[建议] 属性在构造函数中声明，方法在原型中声明</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 解释：</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 原型对象的成员被所有实例共享，能节约内存占用。所以编码时我们应该遵守这样的原则：原型对象包含程序不会修改的成员，如方法函数或配置项。</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">TextNode</span>(<span class="params">value, engine</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.value = value</span><br><span class="line">  <span class="keyword">this</span>.engine = engine</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">TextNode.prototype.clone = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">this</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>[强制] 自定义事件的 事件名 必须全小写</strong></p></li><li><p><strong>[强制] 自定义事件只能有一个 event 参数。如果事件需要传递较多信息，应仔细设计事件对象</strong></p><pre><code>解释：一个事件对象的好处有：顺序无关，避免事件监听者需要记忆参数顺序。每个事件信息都可以根据需要提供或者不提供，更自由。扩展方便，未来添加事件信息时，无需考虑会破坏监听器参数形式而无法向后兼容。</code></pre></li><li><p><strong>[建议] 设计自定义事件时，应考虑禁止默认行为</strong></p><pre><code>解释：常见禁止默认行为的方式有两种：事件监听函数中 return false。事件对象中包含禁止默认行为的方法，如 preventDefault。</code></pre></li></ul><h3 id="动态特性"><a href="#动态特性" class="headerlink" title="动态特性"></a>动态特性</h3><h4 id="eval"><a href="#eval" class="headerlink" title="eval"></a>eval</h4><ul><li><p><strong>[强制] 避免使用直接 eval 函数</strong></p><pre><code>解释：直接 eval，指的是以函数方式调用 eval 的调用方法。\直接 eval 调用执行代码的作用域为本地作用域，应当避免。如果有特殊情况需要使用直接 eval，需在代码中用详细的注释说明为何必须使用直接 eval，不能使用其它动态执行代码的方式，同时需要其他资深工程师进行 Code Review。</code></pre></li><li><p><strong>[建议] 尽量避免使用 eval 函数</strong></p><h4 id="动态执行代码"><a href="#动态执行代码" class="headerlink" title="动态执行代码"></a>动态执行代码</h4></li><li><p><strong>[建议] 使用 new Function 执行动态代码</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 解释：</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 通过 new Function 生成的函数作用域是全局使用域，不会影响当当前的本地作用域。如果有动态代码执行的需求，建议使用 new Function。</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例：</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> handler = <span class="keyword">new</span> <span class="built_in">Function</span>(<span class="string">'x'</span>, <span class="string">'y'</span>, <span class="string">'return x + y'</span>)</span><br><span class="line"><span class="keyword">let</span> result = handler($(<span class="string">'#x'</span>).val(), $(<span class="string">'#y'</span>).val())</span><br></pre></td></tr></table></figure><h5 id="with"><a href="#with" class="headerlink" title="with"></a>with</h5></li><li><p><strong>[建议] 尽量不要使用 with</strong></p><pre><code>解释：使用 with 可能会增加代码的复杂度，不利于阅读和管理；也会对性能有影响。大多数使用 with 的场景都能使用其他方式较好的替代。所以，尽量不要使用 with。</code></pre><h5 id="delete"><a href="#delete" class="headerlink" title="delete"></a>delete</h5></li><li><p><strong>[建议] 减少 delete 的使用</strong></p><pre><code>解释：如果没有特别的需求，减少或避免使用delete。delete的使用会破坏部分 JavaScript 引擎的性能优化。</code></pre></li><li><p><strong>[建议] 处理 delete 可能产生的异常</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 解释：</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 对于有被遍历需求，且值 null 被认为具有业务逻辑意义的值的对象，移除某个属性必须使用 delete 操作。</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 在严格模式或IE下使用 delete 时，不能被删除的属性会抛出异常，因此在不确定属性是否可以删除的情况下，建议添加 try-catch 块。</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例：</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">  <span class="keyword">delete</span> o.x</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">catch</span> (deleteError) &#123;</span><br><span class="line">  o.x = <span class="literal">null</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="对象属性"><a href="#对象属性" class="headerlink" title="对象属性"></a>对象属性</h4><p>[建议] 避免修改外部传入的对象。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 解释：</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// JavaScript 因其脚本语言的动态特性，当一个对象未被 seal 或 freeze 时，可以任意添加、删除、修改属性值。</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 但是随意地对 非自身控制的对象 进行修改，很容易造成代码在不可预知的情况下出现问题。因此，设计良好的组件、函数应该避免对外部传入的对象的修改。</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 下面代码的 selectNode 方法修改了由外部传入的 datasource 对象。如果 datasource 用在其它场合（如另一个 Tree 实例）下，会造成状态的混乱。</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Tree</span>(<span class="params">datasource</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.datasource = datasource</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Tree.prototype.selectNode = <span class="function"><span class="keyword">function</span> (<span class="params">id</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 从datasource中找出节点对象</span></span><br><span class="line">  <span class="keyword">let</span> node = <span class="keyword">this</span>.findNode(id)</span><br><span class="line">  <span class="keyword">if</span> (node) &#123;</span><br><span class="line">    node.selected = <span class="literal">true</span></span><br><span class="line">    <span class="keyword">this</span>.flushView()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 对于此类场景，需要使用额外的对象来维护，使用由自身控制，不与外部产生任何交互的 selectedNodeIndex 对象来维护节点的选中状态，不对 datasource 作任何修改。</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Tree</span>(<span class="params">datasource</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.datasource = datasource</span><br><span class="line">  <span class="keyword">this</span>.selectedNodeIndex = &#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Tree.prototype.selectNode = <span class="function"><span class="keyword">function</span> (<span class="params">id</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 从datasource中找出节点对象</span></span><br><span class="line">  <span class="keyword">let</span> node = <span class="keyword">this</span>.findNode(id)</span><br><span class="line">  <span class="keyword">if</span> (node) &#123;</span><br><span class="line">    <span class="keyword">this</span>.selectedNodeIndex[id] = <span class="literal">true</span></span><br><span class="line">    <span class="keyword">this</span>.flushView()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 除此之外，也可以通过 deepClone 等手段将自身维护的对象与外部传入的分离，保证不会相互影响。</span></span><br></pre></td></tr></table></figure></li><li><p><strong>[建议] 具备强类型的设计</strong></p><pre><code>解释：如果一个属性被设计为 boolean 类型，则不要使用 1 / 0 作为其值。对于标识性的属性，如对代码体积有严格要求，可以从一开始就设计为 number 类型且将 0 作为否定值。从 DOM 中取出的值通常为 string 类型，如果有对象或函数的接收类型为 number 类型，提前作好转换，而不是期望对象、函数可以处理多类型的值。</code></pre></li></ul><h3 id="浏览器环境"><a href="#浏览器环境" class="headerlink" title="浏览器环境"></a>浏览器环境</h3><h4 id="模块化"><a href="#模块化" class="headerlink" title="模块化"></a>模块化</h4><h5 id="AMD"><a href="#AMD" class="headerlink" title="AMD"></a>AMD</h5><ul><li><p><strong>[强制] 使用 AMD 作为模块定义</strong></p></li><li><p><strong>[强制] 模块 id 必须符合标准</strong></p><pre><code>解释：模块 id 必须符合以下约束条件：类型为 string，并且是由 / 分割的一系列 terms 来组成。例如：this/is/a/module。term 应该符合 [a-zA-Z0-9_-]+ 规则。不应该有 .js 后缀。</code></pre><p>跟文件的路径保持一致。</p><h5 id="define"><a href="#define" class="headerlink" title="define"></a>define</h5></li><li><p><strong>[建议] 定义模块时不要指明 id 和 dependencies</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 解释：</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 在 AMD 的设计思想里，模块名称是和所在路径相关的，匿名的模块更利于封包和迁移。模块依赖应在模块定义内部通过 local require 引用。</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 所以，推荐使用 define(factory) 的形式进行模块定义。</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例：</span></span><br><span class="line"></span><br><span class="line">define(</span><br><span class="line">  <span class="function"><span class="keyword">function</span> (<span class="params">require</span>) </span>&#123;</span><br><span class="line">  &#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure></li><li><p><strong>[建议] 使用 return 来返回模块定义</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 解释：</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用 return 可以减少 factory 接收的参数（不需要接收 exports 和 module），在没有 AMD Loader 的场景下也更容易进行简单的处理来伪造一个 Loader。</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例：</span></span><br><span class="line"></span><br><span class="line">define(</span><br><span class="line">  <span class="function"><span class="keyword">function</span> (<span class="params">require</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> exports = &#123;&#125;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    <span class="keyword">return</span> exports</span><br><span class="line">  &#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure><h5 id="require"><a href="#require" class="headerlink" title="require"></a>require</h5></li><li><p><strong>[强制] 全局运行环境中，require 必须以 async require 形式调用</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 解释：</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 模块的加载过程是异步的，同步调用并无法保证得到正确的结果。</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例：</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="built_in">require</span>([<span class="string">'foo'</span>], <span class="function"><span class="keyword">function</span> (<span class="params">foo</span>) </span>&#123;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">let</span> foo = <span class="built_in">require</span>(<span class="string">'foo'</span>)</span><br></pre></td></tr></table></figure></li><li><p><strong>[强制] 模块定义中只允许使用 local require，不允许使用 global require</strong></p><pre><code>解释：在模块定义中使用 global require，对封装性是一种破坏。在 AMD 里，global require 是可以被重命名的。并且 Loader 甚至没有全局的 require 变量，而是用 Loader 名称做为 global require。模块定义不应该依赖使用的 Loader。</code></pre></li><li><p><strong>[强制] Package在实现时，内部模块的 require 必须使用 relative id</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 解释：</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 对于任何可能通过 发布-引入 的形式复用的第三方库、框架、包，开发者所定义的名称不代表使用者使用的名称。因此不要基于任何名称的假设。在实现源码中，require 自身的其它模块时使用 relative id。</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例：</span></span><br><span class="line"></span><br><span class="line">define(</span><br><span class="line">  <span class="function"><span class="keyword">function</span> (<span class="params">require</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> util = <span class="built_in">require</span>(<span class="string">'./util'</span>)</span><br><span class="line">  &#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure></li><li><p><strong>[建议] 不会被调用的依赖模块，在 factory 开始处统一 require</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 解释：</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 有些模块是依赖的模块，但不会在模块实现中被直接调用，最为典型的是 css / js / tpl 等 Plugin 所引入的外部内容。此类内容建议放在模块定义最开始处统一引用。</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例：</span></span><br><span class="line"></span><br><span class="line">define(</span><br><span class="line">  <span class="function"><span class="keyword">function</span> (<span class="params">require</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">require</span>(<span class="string">'css!foo.css'</span>)</span><br><span class="line">    <span class="built_in">require</span>(<span class="string">'tpl!bar.tpl.html'</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">  &#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure><h3 id="DOM"><a href="#DOM" class="headerlink" title="DOM"></a>DOM</h3><h4 id="元素获取"><a href="#元素获取" class="headerlink" title="元素获取"></a>元素获取</h4></li><li><p><strong>[建议] 对于单个元素，尽可能使用 document.getElementById 获取，避免使用document.all</strong></p></li><li><p><strong>[建议] 对于多个元素的集合，尽可能使用 context.getElementsByTagName 获取。其中 context 可以为 document 或其他元素。指定 tagName 参数为 * 可以获得所有子元素</strong></p></li><li><p><strong>[建议] 遍历元素集合时，尽量缓存集合长度。如需多次操作同一集合，则应将集合转为数组</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 解释：</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 原生获取元素集合的结果并不直接引用 DOM 元素，而是对索引进行读取，所以 DOM 结构的改变会实时反映到结果中。</span></span><br><span class="line"><span class="comment">// 示例：</span></span><br><span class="line"></span><br><span class="line">&lt;div&gt;&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">&lt;span&gt;&lt;/</span>span&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line"><span class="keyword">let</span> elements = <span class="built_in">document</span>.getElementsByTagName(<span class="string">'*'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 显示为 DIV</span></span><br><span class="line">alert(elements[<span class="number">0</span>].tagName)</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> div = elements[<span class="number">0</span>]</span><br><span class="line"><span class="keyword">let</span> p = <span class="built_in">document</span>.createElement(<span class="string">'p'</span>)</span><br><span class="line"><span class="built_in">document</span>.body.insertBefore(p, div)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 显示为 P</span></span><br><span class="line">alert(elements[<span class="number">0</span>].tagName)</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure></li><li><p><strong>[建议] 获取元素的直接子元素时使用 children。避免使用childNodes，除非预期是需要包含文本、注释和属性类型的节点</strong></p></li></ul><h4 id="样式获取"><a href="#样式获取" class="headerlink" title="样式获取"></a>样式获取</h4><ul><li><p><strong>[建议] 获取元素实际样式信息时，应使用 getComputedStyle 或 currentStyle</strong></p><pre><code>解释：通过 style 只能获得内联定义或通过 JavaScript 直接设置的样式。通过 CSS class 设置的元素样式无法直接通过 style 获取。</code></pre><h4 id="样式设置"><a href="#样式设置" class="headerlink" title="样式设置"></a>样式设置</h4></li><li><p><strong>[建议] 尽可能通过为元素添加预定义的 className 来改变元素样式，避免直接操作 style 设置</strong></p></li><li><p><strong>[强制] 通过 style 对象设置元素样式时，对于带单位非 0 值的属性，不允许省略单位</strong></p><pre><code>解释：除了 IE，标准浏览器会忽略不规范的属性值，导致兼容性问题。</code></pre></li></ul><h4 id="DOM-操作"><a href="#DOM-操作" class="headerlink" title="DOM 操作"></a>DOM 操作</h4><ul><li><p><strong>[建议] 操作 DOM 时，尽量减少页面 reflow</strong></p><pre><code>解释：页面 reflow 是非常耗时的行为，非常容易导致性能瓶颈。下面一些场景会触发浏览器的reflow：DOM元素的添加、修改（内容）、删除。应用新的样式或者修改任何影响元素布局的属性。Resize浏览器窗口、滚动页面。读取元素的某些属性（offsetLeft、offsetTop、offsetHeight、offsetWidth、scrollTop/Left/Width/Height、clientTop/Left/Width/Height、getComputedStyle()、currentStyle(in IE)) 。</code></pre></li><li><p><strong>[建议] 尽量减少 DOM 操作</strong></p><pre><code>解释：DOM 操作也是非常耗时的一种操作，减少 DOM 操作有助于提高性能。举一个简单的例子，构建一个列表。我们可以用两种方式：在循环体中 createElement 并 append 到父元素中。在循环体中拼接 HTML 字符串，循环结束后写父元素的 innerHTML。第一种方法看起来比较标准，但是每次循环都会对 DOM 进行操作，性能极低。在这里推荐使用第二种方法。</code></pre><h4 id="DOM-事件"><a href="#DOM-事件" class="headerlink" title="DOM 事件"></a>DOM 事件</h4></li><li><p><strong>[建议] 优先使用 addEventListener / attachEvent 绑定事件，避免直接在 HTML 属性中或 DOM 的 expando 属性绑定事件处理</strong></p><pre><code>解释：expando 属性绑定事件容易导致互相覆盖。</code></pre></li><li><p><strong>[建议] 使用 addEventListener 时第三个参数使用 false</strong></p><pre><code>解释：标准浏览器中的 addEventListener 可以通过第三个参数指定两种时间触发模型：冒泡和捕获。而 IE 的 attachEvent 仅支持冒泡的事件触发。所以为了保持一致性，通常 addEventListener 的第三个参数都为 false。</code></pre></li><li><p><strong>[建议] 在没有事件自动管理的框架支持下，应持有监听器函数的引用，在适当时候（元素释放、页面卸载等）移除添加的监听器</strong></p></li></ul><hr><h2 id="CSS-编写规范"><a href="#CSS-编写规范" class="headerlink" title="CSS 编写规范"></a>CSS 编写规范</h2><h3 id="前言-2"><a href="#前言-2" class="headerlink" title="前言"></a>前言</h3><p>本文档的目标是使CSS代码风格保持一致，容易被理解和被维护。</p><h3 id="代码风格-2"><a href="#代码风格-2" class="headerlink" title="代码风格"></a>代码风格</h3><h4 id="文件-1"><a href="#文件-1" class="headerlink" title="文件"></a>文件</h4><ul><li><strong>[建议] CSS 文件使用无 BOM 的 UTF-8 编码</strong></li></ul><h4 id="缩进-1"><a href="#缩进-1" class="headerlink" title="缩进"></a>缩进</h4><ul><li><strong>[强制] 使用 2 个空格做为一个缩进层级，不允许使用 4 个空格 或 tab 字符</strong><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">// 示例：</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.selector</span> &#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span></span><br><span class="line">  padding: <span class="number">0</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="空格-1"><a href="#空格-1" class="headerlink" title="空格"></a>空格</h4></li><li><strong>[强制] 选择器 与 { 之间必须包含空格</strong></li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// 示例：</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.selector</span> &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><p><strong>[强制] 属性名 与之后的 : 之间不允许包含空格， : 与 属性值 之间必须包含空格</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">// 示例：</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">margin</span>: 0</span><br></pre></td></tr></table></figure></li><li><p><strong>[强制] 列表型属性值 书写在单行时，, 后必须跟一个空格</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">// 示例：</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">font-family</span>: <span class="selector-tag">Arial</span>, <span class="selector-tag">sans-serif</span></span><br></pre></td></tr></table></figure><h4 id="行长度"><a href="#行长度" class="headerlink" title="行长度"></a>行长度</h4></li><li><p><strong>[强制] 每行不得超过 120 个字符，除非单行不可分割</strong></p></li><li><p>[建议] 对于超长的样式，在样式值的 空格 处或 , 后换行，建议按逻辑分组</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">// 示例：</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 不同属性值按逻辑分组 */</span></span><br><span class="line"><span class="selector-tag">background</span>:</span><br><span class="line">  <span class="selector-tag">transparent</span> <span class="selector-tag">url</span>(<span class="selector-tag">aVeryVeryVeryLongUrlIsPlacedHere</span>)</span><br><span class="line">  <span class="selector-tag">no-repeat</span> 0 0</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 可重复多次的属性，每次重复一行 */</span></span><br><span class="line"><span class="selector-tag">background-image</span>:</span><br><span class="line">  <span class="selector-tag">url</span>(<span class="selector-tag">aVeryVeryVeryLongUrlIsPlacedHere</span>)</span><br><span class="line">  <span class="selector-tag">url</span>(<span class="selector-tag">anotherVeryVeryVeryLongUrlIsPlacedHere</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 类似函数的属性值可以根据函数调用的缩进进行 */</span></span><br><span class="line"><span class="selector-tag">background-image</span>: <span class="selector-tag">-webkit-gradient</span>(</span><br><span class="line">  <span class="selector-tag">linear</span>,</span><br><span class="line">  <span class="selector-tag">left</span> <span class="selector-tag">bottom</span>,</span><br><span class="line">  <span class="selector-tag">left</span> <span class="selector-tag">top</span>,</span><br><span class="line">  <span class="selector-tag">color-stop</span>(0<span class="selector-class">.04</span>, <span class="selector-tag">rgb</span>(88,94,124)),</span><br><span class="line">  <span class="selector-tag">color-stop</span>(0<span class="selector-class">.52</span>, <span class="selector-tag">rgb</span>(115,123,162))</span><br><span class="line">)</span><br></pre></td></tr></table></figure><h4 id="选择器"><a href="#选择器" class="headerlink" title="选择器"></a>选择器</h4></li><li><p><strong>[强制] 当一个 rule 包含多个 selector 时，每个选择器声明必须独占一行</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">// 示例：</span><br><span class="line"></span><br><span class="line"><span class="comment">/* good */</span></span><br><span class="line"><span class="selector-class">.post</span>,</span><br><span class="line"><span class="selector-class">.page</span>,</span><br><span class="line"><span class="selector-class">.comment</span> &#123;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">1.5</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* bad */</span></span><br><span class="line"><span class="selector-class">.post</span>, <span class="selector-class">.page</span>, <span class="selector-class">.comment</span> &#123;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">1.5</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>[强制] &gt;、+、~ 选择器的两边各保留一个空格</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">// 示例：</span><br><span class="line"></span><br><span class="line"><span class="comment">/* good */</span></span><br><span class="line"><span class="selector-tag">main</span> &gt; <span class="selector-tag">nav</span> &#123;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">10px</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">label</span> + <span class="selector-tag">input</span> &#123;</span><br><span class="line">  <span class="attribute">margin-left</span>: <span class="number">5px</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">input</span><span class="selector-pseudo">:checked</span> ~ <span class="selector-tag">button</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#69C</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* bad */</span></span><br><span class="line"><span class="selector-tag">main</span>&gt;<span class="selector-tag">nav</span> &#123;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">10px</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">label</span>+<span class="selector-tag">input</span> &#123;</span><br><span class="line">  <span class="attribute">margin-left</span>: <span class="number">5px</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">input</span><span class="selector-pseudo">:checked</span>~<span class="selector-tag">button</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#69C</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>[强制] 属性选择器中的值必须用双引号包围</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">// 示例：</span><br><span class="line"></span><br><span class="line"><span class="comment">/* good */</span></span><br><span class="line"><span class="selector-tag">article</span><span class="selector-attr">[character=<span class="string">"juliet"</span>]</span> &#123;</span><br><span class="line">  <span class="attribute">voice-family</span>: <span class="string">"Vivien Leigh"</span>, victoria, female</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* bad */</span></span><br><span class="line"><span class="selector-tag">article</span><span class="selector-attr">[character=<span class="string">'juliet'</span>]</span> &#123;</span><br><span class="line">  <span class="attribute">voice-family</span>: <span class="string">"Vivien Leigh"</span>, victoria, female</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="属性-1"><a href="#属性-1" class="headerlink" title="属性"></a>属性</h4></li><li><p><strong>[强制] 属性定义必须另起一行</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">// 示例：</span><br><span class="line"></span><br><span class="line"><span class="comment">/* good */</span></span><br><span class="line"><span class="selector-class">.selector</span> &#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span></span><br><span class="line">  padding: <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* bad */</span></span><br><span class="line"><span class="selector-class">.selector</span> &#123; <span class="attribute">margin</span>: <span class="number">0</span> padding: <span class="number">0</span> &#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>[强制] 属性定义后必须以分号结尾</strong></p></li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">// 示例：</span><br><span class="line"></span><br><span class="line"><span class="comment">/* good */</span></span><br><span class="line"><span class="selector-class">.selector</span> &#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* bad */</span></span><br><span class="line"><span class="selector-class">.selector</span> &#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="通用-1"><a href="#通用-1" class="headerlink" title="通用"></a>通用</h3><h4 id="选择器-1"><a href="#选择器-1" class="headerlink" title="选择器"></a>选择器</h4><ul><li><p><strong>[强制] 如无必要，不得为 id、class 选择器添加类型选择器进行限定</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">// 示例：</span><br><span class="line"></span><br><span class="line"><span class="comment">/* good */</span></span><br><span class="line"><span class="selector-id">#error</span>,</span><br><span class="line"><span class="selector-class">.danger-message</span> &#123;</span><br><span class="line">  <span class="attribute">font-color</span>: <span class="number">#c00</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* bad */</span></span><br><span class="line"><span class="selector-tag">dialog</span><span class="selector-id">#error</span>,</span><br><span class="line"><span class="selector-tag">p</span><span class="selector-class">.danger-message</span> &#123;</span><br><span class="line">  <span class="attribute">font-color</span>: <span class="number">#c00</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>[建议] 选择器的嵌套层级应不大于 3 级，位置靠后的限定条件应尽可能精确</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">// 示例：</span><br><span class="line"></span><br><span class="line"><span class="comment">/* good */</span></span><br><span class="line"><span class="selector-id">#username</span> <span class="selector-tag">input</span> &#123;&#125;</span><br><span class="line"><span class="selector-class">.comment</span> <span class="selector-class">.avatar</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* bad */</span></span><br><span class="line"><span class="selector-class">.page</span> <span class="selector-class">.header</span> <span class="selector-class">.login</span> <span class="selector-id">#username</span> <span class="selector-tag">input</span> &#123;&#125;</span><br><span class="line"><span class="selector-class">.comment</span> <span class="selector-tag">div</span> * &#123;&#125;</span><br></pre></td></tr></table></figure><h4 id="属性缩写"><a href="#属性缩写" class="headerlink" title="属性缩写"></a>属性缩写</h4></li><li><p><strong>[建议] 在可以使用缩写的情况下，尽量使用属性缩写</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">// 示例：</span><br><span class="line"></span><br><span class="line"><span class="comment">/* good */</span></span><br><span class="line"><span class="selector-class">.post</span> &#123;</span><br><span class="line">  <span class="attribute">font</span>: <span class="number">12px</span>/<span class="number">1.5</span> arial, sans-serif</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* bad */</span></span><br><span class="line"><span class="selector-class">.post</span> &#123;</span><br><span class="line">  <span class="attribute">font-family</span>: arial, sans-serif</span><br><span class="line">  font-size: <span class="number">12px</span></span><br><span class="line">  line-height: <span class="number">1.5</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>[建议] 使用 border / margin / padding 等缩写时，应注意隐含值对实际数值的影响，确实需要设置多个方向的值时才使用缩写</strong></p></li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">解释：</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">border / margin / padding 等缩写会同时设置多个属性的值，容易覆盖不需要覆盖的设定。如某些方向需要继承其他声明的值，则应该分开设置。 </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line">// 示例：</span><br><span class="line"></span><br><span class="line"><span class="comment">/* centering &lt;article class="page"&gt; horizontally and highlight featured ones */</span></span><br><span class="line"><span class="selector-tag">article</span> &#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">5px</span></span><br><span class="line">  border: <span class="number">1px</span> solid <span class="number">#999</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* good */</span></span><br><span class="line"><span class="selector-class">.page</span> &#123;</span><br><span class="line">  <span class="attribute">margin-right</span>: auto</span><br><span class="line">  margin-left: auto</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.featured</span> &#123;</span><br><span class="line">  <span class="attribute">border-color</span>: <span class="number">#69c</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* bad */</span></span><br><span class="line"><span class="selector-class">.page</span> &#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">5px</span> auto <span class="comment">/* introducing redundancy */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.featured</span> &#123;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#69c</span> <span class="comment">/* introducing redundancy */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="属性书写顺序"><a href="#属性书写顺序" class="headerlink" title="属性书写顺序"></a>属性书写顺序</h4><ul><li><p>[建议] 同一 rule set 下的属性在书写时，应按功能进行分组，并以 Formatting Model（布局方式、位置） &gt; Box Model（尺寸） &gt; Typographic（文本相关） &gt; Visual（视觉效果） 的顺序书写，以提高代码的可读性</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 解释：</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    Formatting Model 相关属性包括：position / top / right / bottom / left / float / display / overflow 等</span></span><br><span class="line"><span class="comment">    Box Model 相关属性包括：border / margin / padding / width / height 等</span></span><br><span class="line"><span class="comment">    Typographic 相关属性包括：font / line-height / text-align / word-wrap 等</span></span><br><span class="line"><span class="comment">    Visual 相关属性包括：background / color / transition / list-style 等</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">另外，如果包含 content 属性，应放在最前面。 */</span></span><br><span class="line"></span><br><span class="line">// 示例：</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.sidebar</span> &#123;</span><br><span class="line">  <span class="comment">/* formatting model: positioning schemes / offsets / z-indexes / display / ...  */</span></span><br><span class="line">  <span class="attribute">position</span>: absolute</span><br><span class="line">  top: <span class="number">50px</span></span><br><span class="line">  left: <span class="number">0</span></span><br><span class="line">  overflow-x: hidden</span><br><span class="line"></span><br><span class="line">  <span class="comment">/* box model: sizes / margins / paddings / borders / ...  */</span></span><br><span class="line">  width: <span class="number">200px</span></span><br><span class="line">  padding: <span class="number">5px</span></span><br><span class="line">  border: <span class="number">1px</span> solid <span class="number">#ddd</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">/* typographic: font / aligns / text styles / ... */</span></span><br><span class="line">  font-size: <span class="number">14px</span></span><br><span class="line">  line-height: <span class="number">20px</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">/* visual: colors / shadows / gradients / ... */</span></span><br><span class="line">  background: <span class="number">#f5f5f5</span></span><br><span class="line">  color: <span class="number">#333</span></span><br><span class="line">  -webkit-transition: color <span class="number">1s</span></span><br><span class="line">      -moz-transition: color <span class="number">1s</span></span><br><span class="line">          transition: color <span class="number">1s</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="清除浮动"><a href="#清除浮动" class="headerlink" title="清除浮动"></a>清除浮动</h4></li><li><p>[建议] 当元素需要撑起高度以包含内部的浮动元素时，通过对伪类设置 clear 或触发 BFC 的方式进行 clearfix。尽量不使用增加空标签的方式</p><pre><code>解释：触发 BFC 的方式很多，常见的有：float 非 noneposition 非 staticoverflow 非 visible</code></pre><h4 id="important"><a href="#important" class="headerlink" title="!important"></a>!important</h4></li><li><p><strong>[建议] 尽量不使用 !important 声明</strong></p></li><li><p><strong>[建议] 当需要强制指定样式且不允许任何场景覆盖时，通过标签内联和 !important 定义样式</strong></p><pre><code>解释：必须注意的是，仅在设计上 确实不允许任何其它场景覆盖样式 时，才使用内联的 !important 样式。通常在第三方环境的应用中使用这种方案。下面的 z-index 章节是其中一个特殊场景的典型样例。</code></pre><h4 id="z-index"><a href="#z-index" class="headerlink" title="z-index"></a>z-index</h4></li><li><p><strong>[建议] 将 z-index 进行分层，对文档流外绝对定位元素的视觉层级关系进行管理</strong></p><pre><code>解释：同层的多个元素，如多个由用户输入触发的 Dialog，在该层级内使用相同的 z-index 或递增 z-index。建议每层包含100个 z-index 来容纳足够的元素，如果每层元素较多，可以调整这个数值。</code></pre></li><li><p><strong>[建议] 在可控环境下，期望显示在最上层的元素，z-index 指定为 999999</strong></p><pre><code>解释：可控环境分成两种:一种是自身产品线环境；还有一种是可能会被其他产品线引用，但是不会被外部第三方的产品引用。不建议取值为 2147483647。以便于自身产品线被其他产品线引用时，当遇到层级覆盖冲突的情况，留出向上调整的空间。</code></pre></li><li><p><strong>[建议] 在第三方环境下，期望显示在最上层的元素，通过标签内联和 !important，将 z-index 指定为 2147483647</strong></p><pre><code>解释：第三方环境对于开发者来说完全不可控。在第三方环境下的元素，为了保证元素不被其页面其他样式定义覆盖，需要采用此做法。</code></pre><h3 id="值与单位"><a href="#值与单位" class="headerlink" title="值与单位"></a>值与单位</h3><h4 id="文本"><a href="#文本" class="headerlink" title="文本"></a>文本</h4></li><li><p><strong>[强制] 文本内容必须用双引号包围</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 解释：</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">文本类型的内容可能在选择器、属性值等内容中。 */</span></span><br><span class="line"></span><br><span class="line">// 示例：</span><br><span class="line"></span><br><span class="line"><span class="comment">/* good */</span></span><br><span class="line"><span class="selector-tag">html</span><span class="selector-attr">[lang|=<span class="string">"zh"</span>]</span> <span class="selector-tag">q</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">  <span class="attribute">font-family</span>: <span class="string">"Microsoft YaHei"</span>, sans-serif</span><br><span class="line">  content: <span class="string">"“"</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">html</span><span class="selector-attr">[lang|=<span class="string">"zh"</span>]</span> <span class="selector-tag">q</span><span class="selector-pseudo">:after</span> &#123;</span><br><span class="line">  <span class="attribute">font-family</span>: <span class="string">"Microsoft YaHei"</span>, sans-serif</span><br><span class="line">  content: <span class="string">"”"</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* bad */</span></span><br><span class="line"><span class="selector-tag">html</span><span class="selector-attr">[lang|=zh]</span> <span class="selector-tag">q</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">  <span class="attribute">font-family</span>: <span class="string">'Microsoft YaHei'</span>, sans-serif</span><br><span class="line">  content: <span class="string">'“'</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">html</span><span class="selector-attr">[lang|=zh]</span> <span class="selector-tag">q</span><span class="selector-pseudo">:after</span> &#123;</span><br><span class="line">  <span class="attribute">font-family</span>: <span class="string">"Microsoft YaHei"</span>, sans-serif</span><br><span class="line">  content: <span class="string">"”"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="数值"><a href="#数值" class="headerlink" title="数值"></a>数值</h4></li><li><p><strong>[强制] 当数值为 0 - 1 之间的小数时，省略整数部分的 0</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">// 示例：</span><br><span class="line"></span><br><span class="line"><span class="comment">/* good */</span></span><br><span class="line"><span class="selector-tag">panel</span> &#123;</span><br><span class="line">  <span class="attribute">opacity</span>: .<span class="number">8</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* bad */</span></span><br><span class="line"><span class="selector-tag">panel</span> &#123;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">0.8</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="url"><a href="#url" class="headerlink" title="url()"></a>url()</h4></li><li><p><strong>[强制] url() 函数中的路径不加引号</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// 示例：</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">url</span>(bg.png)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>[建议] url() 函数中的绝对路径可省去协议名</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// 示例：</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">url</span>(//baidu.com/img/bg.png) no-repeat <span class="number">0</span> <span class="number">0</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="长度"><a href="#长度" class="headerlink" title="长度"></a>长度</h4></li><li><p><strong>[强制] 长度为 0 时须省略单位。 (也只有长度单位可省)</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">// 示例：</span><br><span class="line"></span><br><span class="line"><span class="comment">/* good */</span></span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">5px</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* bad */</span></span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0px</span> <span class="number">5px</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="颜色"><a href="#颜色" class="headerlink" title="颜色"></a>颜色</h4></li><li><p><strong>[强制] RGB颜色值必须使用十六进制记号形式 #rrggbb。不允许使用 rgb()</strong></p></li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 解释：</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">带有alpha的颜色信息可以使用 rgba()。使用 rgba() 时每个逗号后必须保留一个空格。 */</span></span><br><span class="line"></span><br><span class="line">// 示例：</span><br><span class="line"></span><br><span class="line"><span class="comment">/* good */</span></span><br><span class="line"><span class="selector-class">.success</span> &#123;</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">2px</span> <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">128</span>, <span class="number">0</span>, .<span class="number">3</span>)</span><br><span class="line">  border-color: <span class="number">#008000</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* bad */</span></span><br><span class="line"><span class="selector-class">.success</span> &#123;</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">2px</span> <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">128</span>,<span class="number">0</span>,.<span class="number">3</span>)</span><br><span class="line">  border-color: <span class="built_in">rgb</span>(<span class="number">0</span>, <span class="number">128</span>, <span class="number">0</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><p><strong>[强制] 颜色值可以缩写时，必须使用缩写形式</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">// 示例：</span><br><span class="line"><span class="comment">/* good */</span></span><br><span class="line"><span class="selector-class">.success</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#aca</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* bad */</span></span><br><span class="line"><span class="selector-class">.success</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#aaccaa</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>[强制] 颜色值不允许使用命名色值</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">// 示例：</span><br><span class="line"></span><br><span class="line"><span class="comment">/* good */</span></span><br><span class="line"><span class="selector-class">.success</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#90ee90</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* bad */</span></span><br><span class="line"><span class="selector-class">.success</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: lightgreen</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>[建议] 颜色值中的英文字符采用小写。如不用小写也需要保证同一项目内保持大小写一致</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">// 示例：</span><br><span class="line"></span><br><span class="line"><span class="comment">/* good */</span></span><br><span class="line"><span class="selector-class">.success</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#aca</span></span><br><span class="line">  color: <span class="number">#90ee90</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* good */</span></span><br><span class="line"><span class="selector-class">.success</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#ACA</span></span><br><span class="line">  color: <span class="number">#90EE90</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* bad */</span></span><br><span class="line"><span class="selector-class">.success</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#ACA</span></span><br><span class="line">  color: <span class="number">#90ee90</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2D-位置"><a href="#2D-位置" class="headerlink" title="2D 位置"></a>2D 位置</h3></li><li><p><strong>[强制] 必须同时给出水平和垂直方向的位置</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 解释：</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">2D 位置初始值为 0% 0%，但在只有一个方向的值时，另一个方向的值会被解析为 center。为避免理解上的困扰，应同时给出两个方向的值。background-position属性值的定义 */</span></span><br><span class="line"></span><br><span class="line">// 示例：</span><br><span class="line"></span><br><span class="line"><span class="comment">/* good */</span></span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">background-position</span>: center top <span class="comment">/* 50% 0% */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* bad */</span></span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">background-position</span>: top <span class="comment">/* 50% 0% */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="文本编排"><a href="#文本编排" class="headerlink" title="文本编排"></a>文本编排</h3><h4 id="字体族"><a href="#字体族" class="headerlink" title="字体族"></a>字体族</h4></li><li><p><strong>[强制] font-family 属性中的字体族名称应使用字体的英文 Family Name，其中如有空格，须放置在引号中</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 解释：</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">所谓英文 Family Name，为字体文件的一个元数据，常见名称如下：</span></span><br><span class="line"><span class="comment">字体 操作系统 Family Name</span></span><br><span class="line"><span class="comment">宋体 (中易宋体) Windows SimSun</span></span><br><span class="line"><span class="comment">黑体 (中易黑体) Windows SimHei</span></span><br><span class="line"><span class="comment">微软雅黑 Windows Microsoft YaHei</span></span><br><span class="line"><span class="comment">微软正黑 Windows Microsoft JhengHei</span></span><br><span class="line"><span class="comment">华文黑体 Mac/iOS STHeiti</span></span><br><span class="line"><span class="comment">冬青黑体 Mac/iOS Hiragino Sans GB</span></span><br><span class="line"><span class="comment">文泉驿正黑 Linux WenQuanYi Zen Hei</span></span><br><span class="line"><span class="comment">文泉驿微米黑 Linux WenQuanYi Micro Hei */</span></span><br><span class="line"></span><br><span class="line">// 示例：</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">h1</span> &#123;</span><br><span class="line">  <span class="attribute">font-family</span>: <span class="string">"Microsoft YaHei"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>[强制] font-family 按「西文字体在前、中文字体在后」、「效果佳 (质量高/更能满足需求) 的字体在前、效果一般的字体在后」的顺序编写，最后必须指定一个通用字体族( serif / sans-serif )</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">/// 示例：</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Display according to platform */</span></span><br><span class="line"><span class="selector-class">.article</span> &#123;</span><br><span class="line">  <span class="attribute">font-family</span>: Arial, sans-serif</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Specific for most platforms */</span></span><br><span class="line"><span class="selector-tag">h1</span> &#123;</span><br><span class="line">  <span class="attribute">font-family</span>: <span class="string">"Helvetica Neue"</span>, Arial, <span class="string">"Hiragino Sans GB"</span>, <span class="string">"WenQuanYi Micro Hei"</span>, <span class="string">"Microsoft YaHei"</span>, sans-serif</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>[强制] font-family 不区分大小写，但在同一个项目中，同样的 Family Name 大小写必须统一</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">// 示例：</span><br><span class="line"></span><br><span class="line"><span class="comment">/* good */</span></span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">font-family</span>: Arial, sans-serif</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">h1</span> &#123;</span><br><span class="line">  <span class="attribute">font-family</span>: Arial, <span class="string">"Microsoft YaHei"</span>, sans-serif</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* bad */</span></span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">font-family</span>: arial, sans-serif</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">h1</span> &#123;</span><br><span class="line">  <span class="attribute">font-family</span>: Arial, <span class="string">"Microsoft YaHei"</span>, sans-serif</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="字号"><a href="#字号" class="headerlink" title="字号"></a>字号</h4></li><li><p><strong>[强制] 需要在 Windows 平台显示的中文内容，其字号应不小于 12px</strong></p><pre><code>解释：由于 Windows 的字体渲染机制，小于 12px 的文字显示效果极差、难以辨认。</code></pre><h4 id="字体风格"><a href="#字体风格" class="headerlink" title="字体风格"></a>字体风格</h4></li><li><p><strong>[建议] 需要在 Windows 平台显示的中文内容，不要使用除 normal 外的 font-style。其他平台也应慎用</strong></p><pre><code>解释：由于中文字体没有 italic 风格的实现，所有浏览器下都会 fallback 到 obilique 实现 (自动拟合为斜体)，小字号下 (特别是 Windows 下会在小字号下使用点阵字体的情况下) 显示效果差，造成阅读困难。</code></pre><h4 id="字重"><a href="#字重" class="headerlink" title="字重"></a>字重</h4></li><li><p><strong>[强制] font-weight 属性必须使用数值方式描述</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 解释：</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">CSS 的字重分 100 – 900 共九档，但目前受字体本身质量和浏览器的限制，实际上支持 400 和 700 两档，分别等价于关键词 normal 和 bold。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">浏览器本身使用一系列启发式规则来进行匹配，在 &lt;700 时一般匹配字体的 Regular 字重，&gt;=700 时匹配 Bold 字重。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">但已有浏览器开始支持 =600 时匹配 Semibold 字重 (见此表)，故使用数值描述增加了灵活性，也更简短。 */</span></span><br><span class="line"></span><br><span class="line">// 示例：</span><br><span class="line"></span><br><span class="line"><span class="comment">/* good */</span></span><br><span class="line"><span class="selector-tag">h1</span> &#123;</span><br><span class="line">  <span class="attribute">font-weight</span>: <span class="number">700</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* bad */</span></span><br><span class="line"><span class="selector-tag">h1</span> &#123;</span><br><span class="line">  <span class="attribute">font-weight</span>: bold</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#### 行高</span><br><span class="line"><span class="selector-tag">-</span> **<span class="selector-attr">[建议]</span> <span class="selector-tag">line-height</span> 在定义文本段落时，应使用数值**</span><br><span class="line">```<span class="selector-tag">css</span></span><br><span class="line"><span class="comment">/* 解释：</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">将 line-height 设置为数值，浏览器会基于当前元素设置的 font-size 进行再次计算。在不同字号的文本段落组合中，能达到较为舒适的行间间隔效果，避免在每个设置了 font-size 都需要设置 line-height。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">当 line-height 用于控制垂直居中时，还是应该设置成与容器高度一致。 */</span></span><br><span class="line"></span><br><span class="line">// 示例：</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">1.5</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="变换与动画"><a href="#变换与动画" class="headerlink" title="变换与动画"></a>变换与动画</h4></li><li><p><strong>[强制] 使用 transition 时应指定 transition-property</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">// 示例：</span><br><span class="line"></span><br><span class="line"><span class="comment">/* good */</span></span><br><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">  <span class="attribute">transition</span>: color <span class="number">1s</span>, border-color <span class="number">1s</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* bad */</span></span><br><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">  <span class="attribute">transition</span>: all <span class="number">1s</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>[建议] 尽可能在浏览器能高效实现的属性上添加过渡和动画</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 解释：</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">见本文，在可能的情况下应选择这样四种变换：</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    transform: translate(npx, npx)</span></span><br><span class="line"><span class="comment">    transform: scale(n)</span></span><br><span class="line"><span class="comment">    transform: rotate(ndeg)</span></span><br><span class="line"><span class="comment">    opacity: 0..1</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">典型的，可以使用 translate 来代替 left 作为动画属性。 */</span></span><br><span class="line"></span><br><span class="line">// 示例：</span><br><span class="line"></span><br><span class="line"><span class="comment">/* good */</span></span><br><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">  <span class="attribute">transition</span>: transform <span class="number">1s</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.box</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translate</span>(<span class="number">20px</span>) <span class="comment">/* move right for 20px */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* bad */</span></span><br><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span></span><br><span class="line">  transition: left <span class="number">1s</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.box</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">20px</span> <span class="comment">/* move right for 20px */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="响应式"><a href="#响应式" class="headerlink" title="响应式"></a>响应式</h4></li><li><p><strong>[强制] Media Query 不得单独编排，必须与相关的规则一起定义</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">// 示例：</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Good */</span></span><br><span class="line"><span class="comment">/* header styles */</span></span><br><span class="line"><span class="keyword">@media</span> (...) &#123;</span><br><span class="line">  <span class="comment">/* header styles */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* main styles */</span></span><br><span class="line"><span class="keyword">@media</span> (...) &#123;</span><br><span class="line">  <span class="comment">/* main styles */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* footer styles */</span></span><br><span class="line"><span class="keyword">@media</span> (...) &#123;</span><br><span class="line">  <span class="comment">/* footer styles */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* Bad */</span></span><br><span class="line"><span class="comment">/* header styles */</span></span><br><span class="line"><span class="comment">/* main styles */</span></span><br><span class="line"><span class="comment">/* footer styles */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@media</span> (...) &#123;</span><br><span class="line">  <span class="comment">/* header styles */</span></span><br><span class="line">  <span class="comment">/* main styles */</span></span><br><span class="line">  <span class="comment">/* footer styles */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>[强制] Media Query 如果有多个逗号分隔的条件时，应将每个条件放在单独一行中</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">// 示例：</span><br><span class="line"></span><br><span class="line"><span class="keyword">@media</span></span><br><span class="line">(-webkit-min-device-pixel-ratio: 2), /* Webkit-based browsers */</span><br><span class="line">(<span class="selector-tag">min--moz-device-pixel-ratio</span>: 2),    <span class="comment">/* Older Firefox browsers (prior to Firefox 16) */</span></span><br><span class="line">(<span class="selector-tag">min-resolution</span>: 2<span class="selector-tag">dppx</span>),             <span class="comment">/* The standard way */</span></span><br><span class="line">(<span class="selector-tag">min-resolution</span>: 192<span class="selector-tag">dpi</span>) &#123;           <span class="comment">/* dppx fallback */</span></span><br><span class="line">  <span class="comment">/* Retina-specific stuff here */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>[建议] 尽可能给出在高分辨率设备 (Retina) 下效果更佳的样式</strong></p><h3 id="兼容性"><a href="#兼容性" class="headerlink" title="兼容性"></a>兼容性</h3><h4 id="属性前缀"><a href="#属性前缀" class="headerlink" title="属性前缀"></a>属性前缀</h4></li><li><p>[强制] 带私有前缀的属性由长到短排列，按冒号位置对齐。</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 解释：</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">标准属性放在最后，按冒号对齐方便阅读，也便于在编辑器内进行多行编辑。 */</span></span><br><span class="line"></span><br><span class="line">// 示例：</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">  <span class="attribute">-webkit-box-sizing</span>: border-box</span><br><span class="line">    -moz-box-sizing: border-box</span><br><span class="line">      box-sizing: border-box</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><hr><hr>]]></content>
      
      
      
        <tags>
            
            <tag> 前端开发文档 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vue v-cloak 指令</title>
      <link href="/2020/02/04/vue-v-cloak-%E6%8C%87%E4%BB%A4/"/>
      <url>/2020/02/04/vue-v-cloak-%E6%8C%87%E4%BB%A4/</url>
      
        <content type="html"><![CDATA[<h3 id="v-cloak-指令"><a href="#v-cloak-指令" class="headerlink" title="v-cloak 指令"></a>v-cloak 指令</h3><h4 id="出现原因"><a href="#出现原因" class="headerlink" title="出现原因"></a>出现原因</h4><p>当网络缓慢时，网页还在加载 Vue.js，而导致 Vue 来不及渲染，这时页面就会显示出 Vue 源代码。</p><h4 id="解决办法"><a href="#解决办法" class="headerlink" title="解决办法"></a>解决办法</h4><p>通过在 html 标签中加入 v-cloak 可以避免出现这种情况</p><h4 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h4><p>v-cloak 指令设置样式，而这些样式会在 Vue 实例编译结束时，从绑定的 HTML 元素上被移除</p><hr>]]></content>
      
      
      
        <tags>
            
            <tag> Vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>nginx 文件的常见配置</title>
      <link href="/2020/02/04/nginx-%E6%96%87%E4%BB%B6%E7%9A%84%E5%B8%B8%E8%A7%81%E9%85%8D%E7%BD%AE/"/>
      <url>/2020/02/04/nginx-%E6%96%87%E4%BB%B6%E7%9A%84%E5%B8%B8%E8%A7%81%E9%85%8D%E7%BD%AE/</url>
      
        <content type="html"><![CDATA[<h3 id="Nginx-文件的常用配置"><a href="#Nginx-文件的常用配置" class="headerlink" title="Nginx 文件的常用配置"></a>Nginx 文件的常用配置</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">## 全局配置</span><br><span class="line">worker_processes  1;</span><br><span class="line"></span><br><span class="line">error_log  logs&#x2F;error.log;</span><br><span class="line">error_log  logs&#x2F;error.log  notice;</span><br><span class="line"></span><br><span class="line">## events 块配置</span><br><span class="line">events &#123;</span><br><span class="line">    worker_connections  1024;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">## http 块配置</span><br><span class="line">http &#123;</span><br><span class="line">    include       mime.types;</span><br><span class="line">    default_type  application&#x2F;octet-stream;</span><br><span class="line"></span><br><span class="line">    log_format  main  &#39;$remote_addr - $remote_user [$time_local] &quot;$request&quot; &#39;</span><br><span class="line">                      &#39;$status $body_bytes_sent &quot;$http_referer&quot; &#39;</span><br><span class="line">                      &#39;&quot;$http_user_agent&quot; &quot;$http_x_forwarded_for&quot;&#39;;</span><br><span class="line"></span><br><span class="line">    access_log  logs&#x2F;access.log  main;</span><br><span class="line"></span><br><span class="line">    sendfile        on;、</span><br><span class="line"></span><br><span class="line">server_names_hash_bucket_size 64;</span><br><span class="line"></span><br><span class="line">  keepalive_timeout  65;</span><br><span class="line"></span><br><span class="line">  upstream you-web &#123;</span><br><span class="line">    server    127.0.0.1:8040;</span><br><span class="line">    keepalive 10;</span><br><span class="line">  &#125;</span><br><span class="line">  server &#123;</span><br><span class="line">    listen      80;</span><br><span class="line">    server_name name;</span><br><span class="line">    location &#x2F; &#123;</span><br><span class="line">      proxy_set_header Host            &quot;localhost&quot;               ;</span><br><span class="line">      proxy_set_header X-Real-IP       $remote_addr              ;</span><br><span class="line">      proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</span><br><span class="line">      proxy_set_header Connection      &quot;&quot;                        ;</span><br><span class="line">      proxy_pass       http:&#x2F;&#x2F;you-web;</span><br><span class="line">      proxy_read_timeout 600s;</span><br><span class="line">      # 支持sse</span><br><span class="line">      proxy_http_version 1.1;</span><br><span class="line">      chunked_transfer_encoding off;</span><br><span class="line">      # 支持websocket</span><br><span class="line">      proxy_set_header Upgrade $http_upgrade;</span><br><span class="line">      proxy_set_header Connection $connection_upgrade;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr>]]></content>
      
      
      
        <tags>
            
            <tag> Nginx </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>git clone 提示失败 Authentication failed</title>
      <link href="/2020/02/02/git-clone-%E6%8F%90%E7%A4%BA%E5%A4%B1%E8%B4%A5-Authentication-failed/"/>
      <url>/2020/02/02/git-clone-%E6%8F%90%E7%A4%BA%E5%A4%B1%E8%B4%A5-Authentication-failed/</url>
      
        <content type="html"><![CDATA[<h3 id="错误原因"><a href="#错误原因" class="headerlink" title="错误原因"></a>错误原因</h3><p>Authentication failed 即身份认证失败，很明显是自己的身份信息出现了问题</p><h3 id="解决办法"><a href="#解决办法" class="headerlink" title="解决办法"></a>解决办法</h3><ul><li>第一步 检查 user name 和 user email 是否正确</li></ul><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --list</span><br></pre></td></tr></table></figure><p><strong>if</strong> 发现自己的 user name 或 user email 出现问题， 重新设置</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name "your name"</span><br><span class="line">git config --global user.email "your email"</span><br></pre></td></tr></table></figure><p><strong>else</strong></p><ul><li>第二步 考虑电脑存的账号密码是否更改过<ul><li>进入控制面板\用户帐户\凭据管理器</li><li>选择 windows凭据</li><li>更新自己的 Git 密码</li></ul></li></ul><p>一般而言，经过这两步操作，自己的身份认证就可以通过</p><hr>]]></content>
      
      
      
        <tags>
            
            <tag> Git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>前端开发文档汇总</title>
      <link href="/2020/01/22/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91%E6%96%87%E6%A1%A3%E6%B1%87%E6%80%BB/"/>
      <url>/2020/01/22/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91%E6%96%87%E6%A1%A3%E6%B1%87%E6%80%BB/</url>
      
        <content type="html"><![CDATA[<h3 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h3><ul><li>文档与源码编写风格：<a href="https://github.com/fex-team/styleguide" target="_blank" rel="noopener">https://github.com/fex-team/styleguide</a></li><li>ES6+：<a href="http://es6.ruanyifeng.com" target="_blank" rel="noopener">http://es6.ruanyifeng.com</a></li></ul><h3 id="MVVM"><a href="#MVVM" class="headerlink" title="MVVM"></a>MVVM</h3><ul><li>vue官网文档：<a href="https://cn.vuejs.org/" target="_blank" rel="noopener">https://cn.vuejs.org/</a></li></ul><h3 id="UI-框架"><a href="#UI-框架" class="headerlink" title="UI 框架"></a>UI 框架</h3><ul><li>element： <a href="https://element.eleme.cn" target="_blank" rel="noopener">https://element.eleme.cn</a></li><li>vue-element-admin：<a href="https://github.com/PanJiaChen/vue-element-admin" target="_blank" rel="noopener">https://github.com/PanJiaChen/vue-element-admin</a></li><li>ant-design-vue：<a href="https://vue.ant.design/docs/vue/introduce-cn" target="_blank" rel="noopener">https://vue.ant.design/docs/vue/introduce-cn</a></li><li>ant-design-vue-pro：<a href="https://pro.loacg.com/docs/getting-started" target="_blank" rel="noopener">https://pro.loacg.com/docs/getting-started</a></li></ul><h3 id="可视化"><a href="#可视化" class="headerlink" title="可视化"></a>可视化</h3><ul><li>echarts：<a href="https://www.echartsjs.com/zh/index.html" target="_blank" rel="noopener">https://www.echartsjs.com/zh/index.html</a></li><li>viser：<a href="https://viserjs.gitee.io" target="_blank" rel="noopener">https://viserjs.gitee.io</a></li></ul><h3 id="小工具"><a href="#小工具" class="headerlink" title="小工具"></a>小工具</h3><ul><li>文件对比工具：<a href="https://www.sojson.com/gongju/textdiff.html" target="_blank" rel="noopener">https://www.sojson.com/gongju/textdiff.html</a></li></ul><p>持续汇总中…</p><hr>]]></content>
      
      
      
        <tags>
            
            <tag> 前端开发文档 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>覆盖 class, style or vue style 的办法</title>
      <link href="/2020/01/22/%E8%A6%86%E7%9B%96-class-style-or-vue-style-%E7%9A%84%E5%8A%9E%E6%B3%95/"/>
      <url>/2020/01/22/%E8%A6%86%E7%9B%96-class-style-or-vue-style-%E7%9A%84%E5%8A%9E%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<h3 id="important-方法"><a href="#important-方法" class="headerlink" title="!important 方法"></a>!important 方法</h3><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">// css 优先级: 在 html 标签里面直接 style 写的 高于 class</span><br><span class="line">// 常规 css 覆盖</span><br><span class="line"><span class="selector-class">.changeStyle</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">50px</span> <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line">&lt;div class="changeStyle" style="height: 60px !important;"&gt;html 标签&lt;/div&gt;</span><br></pre></td></tr></table></figure><h3 id="deep-方法"><a href="#deep-方法" class="headerlink" title="deep 方法"></a>deep 方法</h3><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">// 面向 vue 组件内 样式覆盖</span><br><span class="line">&lt;style-modal /&gt;</span><br><span class="line">// 通过浏览器，我们得知组件样式有 componentStyle</span><br><span class="line">/deep/ .componentStyle &#123;</span><br><span class="line">  <span class="selector-tag">height</span>: 50<span class="selector-tag">px</span>;</span><br><span class="line">&#125;</span><br><span class="line">// 只需要将需要的样式写在类里面 然后加 /deep/ 就可以实现 vue 组件样式覆盖</span><br></pre></td></tr></table></figure><h3 id="global-方法"><a href="#global-方法" class="headerlink" title="global 方法"></a>global 方法</h3><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">// 面向 vue 组件内 样式覆盖</span><br><span class="line">&lt;style-modal /&gt;</span><br><span class="line">// 通过浏览器，我们得知组件样式有 componentStyle</span><br><span class="line"><span class="selector-class">.override-ant-form</span> <span class="selector-pseudo">:global(.componentStyle)</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">60px</span>;</span><br><span class="line">&#125;</span><br><span class="line">// 全局覆盖当前样式并起一个新名字</span><br></pre></td></tr></table></figure><hr>]]></content>
      
      
      
        <tags>
            
            <tag> CSS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>前端开发-装机必备</title>
      <link href="/2020/01/22/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91-%E8%A3%85%E6%9C%BA%E5%BF%85%E5%A4%87/"/>
      <url>/2020/01/22/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91-%E8%A3%85%E6%9C%BA%E5%BF%85%E5%A4%87/</url>
      
        <content type="html"><![CDATA[<h3 id="官方文档"><a href="#官方文档" class="headerlink" title="官方文档"></a>官方文档</h3><p>MAC 全栈环境开发指南：<a href="https://mac.aotu.io" target="_blank" rel="noopener">https://mac.aotu.io</a></p><p>Markdown 工具以及插件推荐：<a href="https://www.snowysound.github.io/2019/11/26/VSCode-%E9%85%8D%E7%BD%AE-Markdown-%E7%8E%AF%E5%A2%83/#%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E4%BD%BF%E7%94%A8-VS-Code" target="_blank" rel="noopener">VS Code 配置 markdown 环境</a></p><h3 id="装机必备软件"><a href="#装机必备软件" class="headerlink" title="装机必备软件"></a>装机必备软件</h3><table><thead><tr><th>工具</th><th>插件</th></tr></thead><tbody><tr><td>VS Code</td><td>Vetur，GitLens，EditorConfig，ESLint</td></tr><tr><td>Chrome</td><td>Vue.js</td></tr></tbody></table><h4 id="解释"><a href="#解释" class="headerlink" title="解释"></a>解释</h4><ul><li>Vetur: html 高亮，格式化代码</li><li>GitLens: 查看提交人的信息（多人开发，很有必要）</li><li>EditorsConfig: EditorConfig和Prettier一样，都是用来配置格式化你的代码的，这个格式化代码，要和你lint配置相符！否则会出现你格式化代码以后，却不能通过你的代码校验工具的检验</li><li>ESLint：提供一个插件化的javascript代码检测工具</li></ul><hr>]]></content>
      
      
      
        <tags>
            
            <tag> 装机必备软件 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>gittalk 评论添加 err notfound 的解决办法</title>
      <link href="/2020/01/16/gittalk-%E8%AF%84%E8%AE%BA%E6%B7%BB%E5%8A%A0-err-notfound-%E7%9A%84%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95/"/>
      <url>/2020/01/16/gittalk-%E8%AF%84%E8%AE%BA%E6%B7%BB%E5%8A%A0-err-notfound-%E7%9A%84%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><p>在使用 Hexo + GitHub 搭建这个博客的时候，在添加 gittak 评论系统时， 出现了 err notfound 的错误。记录下来。</p><h4 id="为评论新建一个仓库-amp-amp-初始化-issue"><a href="#为评论新建一个仓库-amp-amp-初始化-issue" class="headerlink" title="为评论新建一个仓库 &amp;&amp; 初始化 issue"></a>为评论新建一个仓库 &amp;&amp; 初始化 issue</h4><h4 id="在-GitHub-Apps-的-OAuth-Apps-新建-OAuth-App"><a href="#在-GitHub-Apps-的-OAuth-Apps-新建-OAuth-App" class="headerlink" title="在 GitHub Apps 的 OAuth Apps 新建 OAuth App"></a>在 GitHub Apps 的 OAuth Apps 新建 OAuth App</h4><p>1）Application name 可以随便填一个。<br>2）Homepage URL 必须是博客仓库的域名（<a href="https://github.com/SnowySound/SnowySound.github.io）。" target="_blank" rel="noopener">https://github.com/SnowySound/SnowySound.github.io）。</a><br>3）Authorization callback URL 必须是博客的域名（<a href="https://www.snowysound.github.io/）。" target="_blank" rel="noopener">https://www.snowysound.github.io/）。</a></p><h4 id="主题配置文件中配置"><a href="#主题配置文件中配置" class="headerlink" title="主题配置文件中配置"></a>主题配置文件中配置</h4><p>1）owner 为 GitHub 的登录名<br>2）repo 为 第一步中新建的评论仓库<br>3）clientID 和 clientSecret 则为 OAuth Apps 生成的</p><h4 id="最后"><a href="#最后" class="headerlink" title="最后"></a>最后</h4><p>如有问题，添加评论，我看到后会给答复（大家也可以在评论区中互相讨论）。</p><hr>]]></content>
      
      
      
        <tags>
            
            <tag> gittalk </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>命令之结束占用80端口号的进程</title>
      <link href="/2020/01/13/%E5%91%BD%E4%BB%A4%E4%B9%8B%E7%BB%93%E6%9D%9F%E5%8D%A0%E7%94%A8%E7%89%B9%E5%AE%9A%E7%AB%AF%E5%8F%A3%E5%8F%B7%E7%9A%84%E8%BF%9B%E7%A8%8B/"/>
      <url>/2020/01/13/%E5%91%BD%E4%BB%A4%E4%B9%8B%E7%BB%93%E6%9D%9F%E5%8D%A0%E7%94%A8%E7%89%B9%E5%AE%9A%E7%AB%AF%E5%8F%A3%E5%8F%B7%E7%9A%84%E8%BF%9B%E7%A8%8B/</url>
      
        <content type="html"><![CDATA[<h4 id="查看被占用的端口号"><a href="#查看被占用的端口号" class="headerlink" title="查看被占用的端口号"></a>查看被占用的端口号</h4><p>以 80 端口 为例：</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">netstat -ano // 查看所有被占用的端口号</span><br><span class="line">netstat -ano|<span class="built_in">findstr</span> "<span class="number">8080</span>" // 查看被占用的 <span class="number">80</span>端口号</span><br></pre></td></tr></table></figure><h4 id="netsh-http-show-servicestate-查看现用的-http-端口占用情况"><a href="#netsh-http-show-servicestate-查看现用的-http-端口占用情况" class="headerlink" title="netsh http show servicestate 查看现用的 http 端口占用情况"></a>netsh http show servicestate 查看现用的 http 端口占用情况</h4><p>打开cmd命令行窗口输入netsh http show servicestate, 找到类似这样的HTTP://+:80/…/ &amp;&amp; 找到其队列的进程id。</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">netsh http show servicestate</span><br><span class="line">// &amp;&amp; 另一种方法</span><br><span class="line">tasklist |<span class="built_in">findstr</span> "<span class="number">80</span>" // 根据id查看进程号</span><br></pre></td></tr></table></figure><h4 id="杀死进程"><a href="#杀死进程" class="headerlink" title="杀死进程"></a>杀死进程</h4><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">taskkill</span> /f /t /im "进程id或者进程名称" //杀死进程</span><br></pre></td></tr></table></figure><hr>]]></content>
      
      
      
        <tags>
            
            <tag> 网络 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS 之 终端</title>
      <link href="/2020/01/07/JS-%E4%B9%8B-%E7%BB%88%E7%AB%AF/"/>
      <url>/2020/01/07/JS-%E4%B9%8B-%E7%BB%88%E7%AB%AF/</url>
      
        <content type="html"><![CDATA[<h3 id="Xterm-js-插件的使用"><a href="#Xterm-js-插件的使用" class="headerlink" title="Xterm.js 插件的使用"></a>Xterm.js 插件的使用</h3><ul><li>官网： <a href="https://xtermjs.org/" target="_blank" rel="noopener">https://xtermjs.org/</a></li><li>Git 地址： <a href="https://github.com/xtermjs/xterm.js" target="_blank" rel="noopener">https://github.com/xtermjs/xterm.js</a></li><li>Api 文档： <a href="https://github.com/xtermjs/xterm.js/blob/master/typings/xterm.d.ts" target="_blank" rel="noopener">https://github.com/xtermjs/xterm.js/blob/master/typings/xterm.d.ts</a></li></ul><h4 id="基础使用"><a href="#基础使用" class="headerlink" title="基础使用"></a>基础使用</h4><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install xterm // 安装插件</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 引用</span></span><br><span class="line">&lt;script&gt;</span><br><span class="line"><span class="keyword">import</span> <span class="string">'xterm/css/xterm.css'</span></span><br><span class="line"><span class="keyword">import</span> &#123; Terminal &#125; <span class="keyword">from</span> <span class="string">'xterm'</span></span><br><span class="line"><span class="keyword">import</span> &#123; FitAddon &#125; <span class="keyword">from</span> <span class="string">'xterm-addon-fit'</span></span><br><span class="line"><span class="keyword">import</span> &#123; AttachAddon &#125; <span class="keyword">from</span> <span class="string">'xterm-addon-attach'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 初始化 和 绑定</span></span><br><span class="line">...</span><br><span class="line">initTerminal () &#123;</span><br><span class="line">  <span class="keyword">this</span>.row = <span class="built_in">Math</span>.floor(<span class="keyword">this</span>.$refs.xterm.offsetWidth / fontWidth)</span><br><span class="line">  <span class="keyword">this</span>.column = <span class="built_in">Math</span>.floor(wrapperHeight / lineHeight)</span><br><span class="line">  <span class="keyword">this</span>.term = <span class="keyword">new</span> Terminal(&#123;</span><br><span class="line">    cursorBlink: <span class="literal">true</span></span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="keyword">const</span> fitAddon = <span class="keyword">new</span> FitAddon()</span><br><span class="line">  <span class="keyword">this</span>.term.loadAddon(fitAddon)</span><br><span class="line">  <span class="keyword">this</span>.term.open(<span class="built_in">window</span>.document.getElementById(<span class="string">'xterm-container'</span>))</span><br><span class="line">  fitAddon.fit()</span><br><span class="line">  <span class="keyword">this</span>.term.resize(<span class="keyword">this</span>.row, <span class="keyword">this</span>.column)</span><br><span class="line">  <span class="keyword">this</span>.term.writeln(<span class="string">'欢迎使用!'</span>)</span><br><span class="line">  <span class="keyword">this</span>.flag = <span class="literal">false</span></span><br><span class="line">&#125;,</span><br><span class="line">toggleTerminal () &#123;</span><br><span class="line">  <span class="keyword">const</span> attachAddon = <span class="keyword">new</span> AttachAddon(<span class="keyword">this</span>.sockTerminal)</span><br><span class="line">  <span class="keyword">this</span>.term.loadAddon(attachAddon)</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">this</span>.flag) &#123;</span><br><span class="line">    <span class="keyword">this</span>.term.writeln(<span class="string">''</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">this</span>.term.writeln(<span class="string">'正在连接...'</span>)</span><br><span class="line">  <span class="keyword">this</span>.sockTerminal.onopen = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">this</span>.resizeTerminal(&#123; <span class="attr">width</span>: <span class="keyword">this</span>.row, <span class="attr">height</span>: <span class="keyword">this</span>.column &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">this</span>.sockTerminal.onerror = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">this</span>.sockTerminal.close()</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">this</span>.sockTerminal.onclose = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">this</span>.sockTerminal = <span class="literal">null</span></span><br><span class="line">    <span class="keyword">this</span>.$emit(<span class="string">'sock'</span>, <span class="keyword">this</span>.sockTerminal)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><hr>]]></content>
      
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>控制台发版</title>
      <link href="/2019/12/25/%E6%88%90%E9%95%BF%E7%BA%AA%E5%AE%9E-00/"/>
      <url>/2019/12/25/%E6%88%90%E9%95%BF%E7%BA%AA%E5%AE%9E-00/</url>
      
        <content type="html"><![CDATA[<h2 id="自身问题反思"><a href="#自身问题反思" class="headerlink" title="自身问题反思"></a>自身问题反思</h2><h3 id="第一个问题-之-代码发版前后的注意事项"><a href="#第一个问题-之-代码发版前后的注意事项" class="headerlink" title="第一个问题 之 代码发版前后的注意事项"></a>第一个问题 之 代码发版前后的注意事项</h3><p>作为一个程序员，除了开发，还有一个很重要的工作内容就是发版上线。<br>而作为一个新人或者是接触一个新项目的时候，作为一个程序员需要具备哪些能力和素质？</p><h4 id="代码发版的一般流程："><a href="#代码发版的一般流程：" class="headerlink" title="代码发版的一般流程："></a>代码发版的一般流程：</h4><h5 id="本地提交前准备："><a href="#本地提交前准备：" class="headerlink" title="本地提交前准备："></a>本地提交前准备：</h5><ul><li>去除浏览器 console log 信息</li><li>浏览器兼容性问题：内部应用仅支持Chrome，外部应用支持 Edge、IE8 及以上</li><li>本地测试完成且无 bug</li><li>检查前端工程中的 nginx 配置</li></ul><h5 id="打包："><a href="#打包：" class="headerlink" title="打包："></a>打包：</h5><ul><li>合并要发版的分支到 master</li><li>打包：获取镜像</li></ul><h5 id="发版："><a href="#发版：" class="headerlink" title="发版："></a>发版：</h5><ul><li>到发版网站，将镜像替换 &amp;&amp; 配置环境</li><li>配置负载均衡</li></ul><h5 id="发版后："><a href="#发版后：" class="headerlink" title="发版后："></a>发版后：</h5><p>测试上线部分是否运行正常</p><h4 id="知识点总结"><a href="#知识点总结" class="headerlink" title="知识点总结"></a>知识点总结</h4><ol><li>镜像：打包完成之后，形成的是一个镜像（打包类似于压缩，将文件压缩成一个文件（这个文件中完全复制了之前所有文件的内容，可以通过特定的工具读取））</li><li>负载均衡（不同的服务分配不同的负载均衡）：将负载（工作任务）进行平衡、分摊到多个操作单元上进行运行，例如FTP服务器、Web服务器、企业核心应用服务器和其它主要任务服务器等，从而协同完成工作任务。</li><li>配置：配置文件里放程序启动时需要对程序进行配置的信息，当程序下次在启动时就会自动读取配置文件，对程序进行配置，而不需要我们再人工进行配置</li><li>版本回退：因为存在着新版本的配置文件已经修改等问题，版本回退不是修改其中内容再次发版。（这个操作本质上是发布新版本，会有各种问题）所以需要找到当前版本和历史版本 然后 回滚到 稳定的版本</li></ol><h5 id="第一个问题的小结"><a href="#第一个问题的小结" class="headerlink" title="第一个问题的小结"></a>第一个问题的小结</h5><p>一个软件或系统的发版 往往 是很多人的努力。而当自己发版的时候 要对这个事情心存敬畏和责任感，将该了解的事情都去了解好。<br>将自己负责的部分，弄的清楚明白。</p><ul><li>列清单：将新版本的发布的功能以清单形式列好，确定各个部分的前后端都已经确保测试无误。确定好要上线的部分（部分功能可能会因为各种原因导致无法上线），这个一定要沟通好</li><li>定时间：发版上线的时间不能太过紧张，预留出出问题解决问题的缓冲时间，提前一天决定好要上线的部分，并将其测试好。上线当前只需要继续测试 + 有问题解决问题 + 上线</li><li>技能： 掌握发版上线需要的技能：打包部署，容器云配置 以及 负载均衡</li><li>沟通： 确定是不是前后端一起发布，确定好要发布的顺序，以及双方的了解情况</li></ul><hr>]]></content>
      
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>网页图片碎掉原因及修复措施</title>
      <link href="/2019/12/24/%E7%BD%91%E9%A1%B5%E5%9B%BE%E7%89%87%E7%A2%8E%E6%8E%89%E5%8E%9F%E5%9B%A0%E5%8F%8A%E4%BF%AE%E5%A4%8D%E6%8E%AA%E6%96%BD/"/>
      <url>/2019/12/24/%E7%BD%91%E9%A1%B5%E5%9B%BE%E7%89%87%E7%A2%8E%E6%8E%89%E5%8E%9F%E5%9B%A0%E5%8F%8A%E4%BF%AE%E5%A4%8D%E6%8E%AA%E6%96%BD/</url>
      
        <content type="html"><![CDATA[<h3 id="网页图片碎掉原因"><a href="#网页图片碎掉原因" class="headerlink" title="网页图片碎掉原因"></a>网页图片碎掉原因</h3><ul><li>情况描述：网页图片资源不存在</li><li>原因分析：f12 查看错误原因得知，路径 404</li><li>结果：修改图片路径。（判断图片资源所在的真正路径，然后再修改代码）</li></ul><h3 id="修复措施"><a href="#修复措施" class="headerlink" title="修复措施"></a>修复措施</h3><ul><li>首先，判断当前不存在的图片资源的路径，与当前网页的 url 作比较，看一下是不是多了或者是少了什么部分</li><li>判断 当前多余或缺失的路径部分 (可以根据网页的路由跟未能正确加载的图片的路由做比对)</li><li>修改当前图片的路径</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">···</span><br><span class="line">&lt;img src&#x3D;&quot;&#96;$&#123;baseurl&#125;&#x2F;url&#x2F;&#96;&quot;&gt;</span><br><span class="line">···</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">  export default &#123;</span><br><span class="line">    data () &#123;</span><br><span class="line">      return &#123;</span><br><span class="line">        ···</span><br><span class="line">        baseurl: 路径</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure><hr>]]></content>
      
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>nginx 配置文件加解释</title>
      <link href="/2019/12/18/nginx-%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E5%8A%A0%E8%A7%A3%E9%87%8A/"/>
      <url>/2019/12/18/nginx-%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E5%8A%A0%E8%A7%A3%E9%87%8A/</url>
      
        <content type="html"><![CDATA[<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#user nobody; #配置用户或者组，默认为nobody nobody</span></span><br><span class="line"><span class="attribute">worker_processes</span> <span class="number">4</span>; <span class="comment">#允许生成的进程数，默认为1</span></span><br><span class="line"><span class="attribute">worker_cpu_affinity</span> <span class="number">00000001</span> <span class="number">00000010</span> <span class="number">00000100</span> <span class="number">00001000</span>; <span class="comment">#为每个进程分配一个CPU</span></span><br><span class="line"><span class="attribute">worker_rlimit_nofile</span> <span class="number">102400</span>; <span class="comment">#为nginx工作进程改变打开最多文件描述符数目的限制。用来在不重启主进程的情况下增加限制。</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#error_log logs/error.log;</span></span><br><span class="line"><span class="comment">#error_log logs/error.log notice;</span></span><br><span class="line"><span class="comment">#error_log logs/error.log info; #指定日志路径，级别。这个设置可以放入全局块，http块，server块，级别依次为：debug|info|notice|warn|error|crit|alert|emerg</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#pid logs/nginx.pid; #指定nginx进程运行文件存放地址</span></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"><span class="section">events</span> &#123;</span><br><span class="line"><span class="attribute">accept_mutex</span> <span class="literal">on</span>; <span class="comment">#设置网路连接序列化，防止惊群现象发生，默认为on</span></span><br><span class="line"><span class="attribute">multi_accept</span> <span class="literal">on</span>; <span class="comment">#设置一个进程是否同时接受多个网络连接，默认为off</span></span><br><span class="line"><span class="attribute">use</span> <span class="literal">epoll</span>; <span class="comment">#使用epoll（linux2.6的高性能方式）事件驱动模型，select|poll|kqueue|epoll|resig|/dev/poll|eventport</span></span><br><span class="line"><span class="attribute">worker_connections</span> <span class="number">102400</span>; <span class="comment">#最大连接数，默认为512</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="section">http</span> &#123;</span><br><span class="line"><span class="attribute">include</span> mime.types; <span class="comment">#文件扩展名与文件类型映射表</span></span><br><span class="line"><span class="attribute">default_type</span> application/octet-stream; <span class="comment">#默认文件类型，默认为text/plain</span></span><br><span class="line"><span class="attribute">lua_package_path</span> <span class="string">"/usr/local/lib/lua/?.lua;;"</span>; <span class="comment">#lua库位置</span></span><br><span class="line"><span class="attribute">charset</span> utf-<span class="number">8</span>; <span class="comment">#字符集</span></span><br><span class="line"></span><br><span class="line"><span class="attribute">server_names_hash_bucket_size</span> <span class="number">128</span>; <span class="comment"># 保存服务器名字的hash表</span></span><br><span class="line"><span class="attribute">client_header_buffer_size</span> <span class="number">4k</span>; <span class="comment">#用来缓存请求头信息的，容量4K，如果header头信息请求超过了且没有配置client_header_buffer_size，nginx会直接返回400错误</span></span><br><span class="line"><span class="attribute">large_client_header_buffers</span> <span class="number">4</span> <span class="number">32k</span>; <span class="comment">#如果large_buffer还是无法容纳，那么就会返回414（处理request_line）/400（处理request_header）错误</span></span><br><span class="line"><span class="attribute">client_max_body_size</span> <span class="number">300m</span>; <span class="comment">#允许客户端请求的最大单文件字节数</span></span><br><span class="line"></span><br><span class="line"><span class="attribute">tcp_nodelay</span> <span class="literal">on</span>; <span class="comment">#提高数据的实时响应性</span></span><br><span class="line"><span class="attribute">client_body_buffer_size</span> <span class="number">512k</span>; <span class="comment">#缓冲区代理缓冲用户端请求的最大字节数（请求多）</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="attribute">proxy_connect_timeout</span> <span class="number">5s</span>; <span class="comment">#nginx跟后端服务器连接超时时间（代理连接超时）</span></span><br><span class="line"><span class="attribute">proxy_read_timeout</span> <span class="number">60s</span>; <span class="comment">#连接成功后，后端服务器响应时间(代理接收超时)</span></span><br><span class="line"><span class="attribute">proxy_send_timeout</span> <span class="number">5s</span>; <span class="comment">#后端服务器数据回传时间(代理发送超时)</span></span><br><span class="line"></span><br><span class="line"><span class="attribute">proxy_buffer_size</span> <span class="number">16k</span>; <span class="comment">#设置代理服务器（nginx）保存用户头信息的缓冲区大小</span></span><br><span class="line"><span class="attribute">proxy_buffers</span> <span class="number">4</span> <span class="number">64k</span>; <span class="comment">#该指令设置缓冲区的大小和数量,从被代理的后端服务器取得的响应内容,会放置到这里</span></span><br><span class="line"><span class="attribute">proxy_busy_buffers_size</span> <span class="number">128k</span>; <span class="comment">#所有处在busy状态的buffer size加起来不能超过proxy_busy_buffers_size</span></span><br><span class="line"><span class="attribute">proxy_temp_file_write_size</span> <span class="number">128k</span>; <span class="comment">#如果response的内容很大的话，Nginx会接收并把他们写入到temp_file里去。busy的buffer传输完了会从temp_file里面接着读数据，直到传输完毕</span></span><br><span class="line"></span><br><span class="line"><span class="attribute">gzip</span> <span class="literal">on</span>; <span class="comment">#NGINX可以压缩静态资源</span></span><br><span class="line"><span class="attribute">gzip_min_length</span> <span class="number">1k</span>;</span><br><span class="line"><span class="attribute">gzip_buffers</span> <span class="number">4</span> <span class="number">16k</span>;</span><br><span class="line"><span class="attribute">gzip_http_version</span> <span class="number">1</span>.<span class="number">1</span>;</span><br><span class="line"><span class="attribute">gzip_comp_level</span> <span class="number">2</span>; <span class="comment">#压缩级别大小，最小1，最大9，值越小，压缩后比例越小，CPU处理更快; 值越大压缩后占用带宽越少。</span></span><br><span class="line"><span class="attribute">gzip_types</span> text/plain application/x-javascript text/css application/xml; <span class="comment">#压缩类型:text js css xml 都会被压缩</span></span><br><span class="line"><span class="attribute">gzip_vary</span> <span class="literal">on</span>; <span class="comment">#作用是在http响应中增加一行，目的是改变反向代理服务器的缓存策略</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#log_format main '$remote_addr - $remote_user [$time_local] "$request" '</span></span><br><span class="line"><span class="comment"># '$status $body_bytes_sent "$http_referer" '</span></span><br><span class="line"><span class="comment"># '"$http_user_agent" "$http_x_forwarded_for"';</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#access_log logs/access.log main;</span></span><br><span class="line"><span class="comment">#access_log off; #取消服务日志</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#日志格式</span></span><br><span class="line"><span class="comment">#    ip 远程用户 当地时间 请求URL 状态 发送的大小 响应的头 客户端使用的浏览器 页面响应的时间</span></span><br><span class="line"><span class="attribute">log_format</span> myFormat <span class="string">'<span class="variable">$remote_addr</span>–<span class="variable">$remote_user</span> [<span class="variable">$time_local</span>] <span class="variable">$request</span> <span class="variable">$status</span> <span class="variable">$body_bytes_sent</span> <span class="variable">$http_referer</span> <span class="variable">$http_user_agent</span> <span class="variable">$request_time</span> <span class="variable">$http_x_forwarded_for</span>'</span>; <span class="comment">#自定义格式</span></span><br><span class="line"><span class="attribute">access_log</span> logs/access.log myFormat; <span class="comment">#combined为日志格式的默认值</span></span><br><span class="line"></span><br><span class="line"><span class="attribute">sendfile</span> <span class="literal">on</span>;    <span class="comment">#允许sendfile方式传输文件，默认为off，可以在http块，server块，location块</span></span><br><span class="line"><span class="comment">#sendfile_max_chunk 100k; #每个进程每次调用传输数量不能大于设定的值，默认为0，即不设上限</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#tcp_nopush on;</span></span><br><span class="line"><span class="attribute">tcp_nopush</span> <span class="literal">on</span>; <span class="comment">#防止网络阻塞</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#keepalive_timeout 0;</span></span><br><span class="line"><span class="attribute">keepalive_timeout</span> <span class="number">65</span>;    <span class="comment">#连接超时时间，默认为75s，可以在http，server，location块</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#gzip on;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#上游服务器</span></span><br><span class="line"><span class="attribute">upstream</span> mysvr &#123; </span><br><span class="line"><span class="comment">#负载均衡算法，默认为round-robin轮循</span></span><br><span class="line">ip_hash; #每个请求按访问ip的hash结果分配，这样每个访客固定访问一个后端服务器，可以解决session的问题,ip_hash不支持weight和backup</span><br><span class="line"></span><br><span class="line"><span class="attribute">server</span> <span class="number">192.168.5.91:7878</span> max_fails=<span class="number">2</span> fail_timeout=<span class="number">10s</span>;</span><br><span class="line"><span class="attribute">server</span> <span class="number">192.168.5.92:7878</span> max_fails=<span class="number">2</span> fail_timeout=<span class="number">10s</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">#server 192.168.5.91:7878 max_fails=2 fail_timeout=10s weight=1;</span></span><br><span class="line"><span class="comment">#server 192.168.5.92:7878 max_fails=2 fail_timeout=10s weight=2; </span></span><br><span class="line"><span class="comment">#server 192.168.5.90:7878 backup; #热备</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">#error_page 404 https://www.baidu.com; #错误页</span></span><br><span class="line"></span><br><span class="line"><span class="section">server</span> &#123;</span><br><span class="line"><span class="attribute">keepalive_requests</span> <span class="number">120</span>; <span class="comment">#单连接请求上限次数</span></span><br><span class="line"><span class="attribute">listen</span> <span class="number">9080</span>; <span class="comment">#监听端口</span></span><br><span class="line"><span class="attribute">server_name</span> localhost;    <span class="comment">#监听地址 127.0.0.1</span></span><br><span class="line"><span class="comment">#charset koi8-r;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#access_log logs/host.access.log main;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#location ~*^.+$ &#123; #请求的url过滤，正则匹配，~为区分大小写，~*为不区分大小写。</span></span><br><span class="line"><span class="comment"># #root path; #根目录</span></span><br><span class="line"><span class="comment"># #index vv.txt; #设置默认页</span></span><br><span class="line"><span class="comment"># proxy_pass http://mysvr; #请求转向mysvr 定义的服务器列表</span></span><br><span class="line"><span class="comment"># deny 127.0.0.1; #拒绝的ip</span></span><br><span class="line"><span class="comment"># allow 172.18.5.54; #允许的ip </span></span><br><span class="line"><span class="comment">#&#125; </span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="attribute">location</span> /test &#123;</span><br><span class="line"></span><br><span class="line"><span class="attribute">proxy_next_upstream</span> http_502 http_504 <span class="literal">error</span> timeout invalid_header;</span><br><span class="line"><span class="attribute">proxy_next_upstream_timeout</span> <span class="number">10s</span>;</span><br><span class="line"><span class="attribute">proxy_next_upstream_tries</span> <span class="number">2</span>;</span><br><span class="line"><span class="attribute">proxy_set_header</span> Host <span class="variable">$host</span>;</span><br><span class="line"><span class="attribute">proxy_set_header</span> X-Real-IP <span class="variable">$remote_addr</span>;</span><br><span class="line"><span class="attribute">proxy_set_header</span> X-Forwarded-For <span class="variable">$proxy_add_x_forwarded_for</span>;</span><br><span class="line"><span class="attribute">add_header</span> upstream_addr <span class="variable">$upstream_addr</span>;</span><br><span class="line"></span><br><span class="line"><span class="attribute">proxy_pass</span> http://mysvr;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">#nginx主页</span></span><br><span class="line"><span class="attribute">location</span> / &#123;</span><br><span class="line"><span class="attribute">root</span> html;</span><br><span class="line"><span class="attribute">index</span> index.html index.htm;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">#用lua脚本向reids存值</span></span><br><span class="line"><span class="attribute">location</span> /lua/set &#123;</span><br><span class="line"><span class="attribute">default_type</span> <span class="string">'text/plain'</span>; </span><br><span class="line"><span class="attribute">content_by_lua_file</span> conf/lua/setKeyValue.lua;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">#用lua脚本从reids取值</span></span><br><span class="line"><span class="attribute">location</span> /lua/get &#123;</span><br><span class="line"><span class="attribute">default_type</span> <span class="string">'text/plain'</span>; </span><br><span class="line"><span class="attribute">content_by_lua_file</span> conf/lua/getKey.lua;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">#静态资源代理</span></span><br><span class="line"><span class="attribute">location</span> <span class="regexp">~ .*\.(html|htm|gif|jpg|jpeg|bmp|png|ico|txt|js|css)$</span> &#123;</span><br><span class="line"><span class="attribute">root</span> /var/local/static;</span><br><span class="line"><span class="attribute">expires</span> <span class="number">30d</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">#error_page 404 /404.html;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># redirect server error pages to the static page /50x.html</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="attribute">error_page</span> <span class="number">500</span> <span class="number">502</span> <span class="number">503</span> <span class="number">504</span> /50x.html;</span><br><span class="line"><span class="attribute">location</span> = /50x.html &#123;</span><br><span class="line"><span class="attribute">root</span> html;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="附录"><a href="#附录" class="headerlink" title="附录"></a>附录</h2><ul><li><a href="https://blog.csdn.net/weixin_34318272/article/details/86069172?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-13.control&dist_request_id=&depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-13.control" target="_blank" rel="noopener">Nginx配置文件详解</a></li></ul><hr>]]></content>
      
      
      
        <tags>
            
            <tag> Nginx </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>URI 与 URL</title>
      <link href="/2019/12/18/URI-%E4%B8%8E-URL/"/>
      <url>/2019/12/18/URI-%E4%B8%8E-URL/</url>
      
        <content type="html"><![CDATA[<h3 id="URI"><a href="#URI" class="headerlink" title="URI"></a>URI</h3><blockquote><ul><li>URI，通一资源标志符(Uniform Resource Identifier， URI),表示的是web上每一种可用的资源，如 HTML文档、图像、视频片段、程序等都由一个URI进行定位的。</li></ul></blockquote><h4 id="URI-的-概念解释"><a href="#URI-的-概念解释" class="headerlink" title="URI 的 概念解释"></a>URI 的 概念解释</h4><p>简单来讲， URI 像是电脑 本地（网络）上各种资源的身份证， 代表了它们的唯一性。</p><h3 id="URL"><a href="#URL" class="headerlink" title="URL"></a>URL</h3><blockquote><ul><li>URL 统一资源定位系统(uniform resource locator, URL), 是因特网的万维网服务程序上用于指定信息位置的表示方法。</li></ul></blockquote><h4 id="URL-的-概念解释"><a href="#URL-的-概念解释" class="headerlink" title="URL 的 概念解释"></a>URL 的 概念解释</h4><p>简单来讲， URL 像是 像是电脑 本地（网络）上各种资源的身份证以及它们的地址， 可以通过 它们的身份以及地址 访问到 它们的 位置所在。</p><h3 id="URN"><a href="#URN" class="headerlink" title="URN"></a>URN</h3><blockquote><ul><li>URN, 统一资源名(Uniform Resource Name, URN)，是带有名字的因特网资源。</li></ul></blockquote><h4 id="URN-的-概念解释"><a href="#URN-的-概念解释" class="headerlink" title="URN 的 概念解释"></a>URN 的 概念解释</h4><p>简单来讲， URN 是带有名字的因特网资源，作为特定内容的唯一名称使用的，与当前资源的所在地无关。这就意味着 URN 的存在并不意味着被标识的资源一定是存在 或者是 可用的。但是， 即使资源已经不存在了或变得不可用， 它仍然需要保持全局唯一和持久。（p2p 磁力连接）</p><h3 id="URI-URL-URN-的区别"><a href="#URI-URL-URN-的区别" class="headerlink" title="URI, URL, URN 的区别"></a>URI, URL, URN 的区别</h3><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/URI.png" alt="url图片"></p><hr>]]></content>
      
      
      
        <tags>
            
            <tag> 电脑术语 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>nginx 配置 service 块配置</title>
      <link href="/2019/12/10/nginx-%E9%85%8D%E7%BD%AE-service-%E5%9D%97%E9%85%8D%E7%BD%AE/"/>
      <url>/2019/12/10/nginx-%E9%85%8D%E7%BD%AE-service-%E5%9D%97%E9%85%8D%E7%BD%AE/</url>
      
        <content type="html"><![CDATA[<blockquote><ul><li>nginx 配置文件(.conf)中可以存在 多个 service 块。</li><li>当 nginx 接到请求后，会匹配其配置中的 service 模块，匹配方法就是靠请求携带的 host 和 port 正好对应其配置中的 server_name 和 listen。</li><li>如果做过 ip 和域名绑定(hosts 文件), ip 和域名二者是对等的。</li></ul></blockquote><h3 id="listen"><a href="#listen" class="headerlink" title="listen"></a>listen</h3><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">listen</span> <span class="number">80</span>;</span><br><span class="line"><span class="attribute">listen</span> <span class="number">127.0.0.1:8001</span>;</span><br></pre></td></tr></table></figure><p><strong>一个栗子</strong><br><br>服务器的ip地址为：127.0.0.1，在域名 <a href="http://www.abc.com" target="_blank" rel="noopener">www.abc.com</a> 和 ip 已经绑定的情况下，<br>那么在上面的配置中的 server_name 无论是 <a href="http://www.abc.com" target="_blank" rel="noopener">www.abc.com</a> 还是 127.0.0.1 .<br>我们都可以通过 127.0.0.1：8001 或 <a href="http://www.abc.com:8001" target="_blank" rel="noopener">www.abc.com:8001</a> 来访问我们的网站.</p><h3 id="server-name"><a href="#server-name" class="headerlink" title="server_name"></a>server_name</h3><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 域名 名字</span></span><br><span class="line"><span class="attribute">server_name</span> www.abc.com</span><br></pre></td></tr></table></figure><h3 id="certificate"><a href="#certificate" class="headerlink" title="certificate"></a>certificate</h3><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 证书</span></span><br><span class="line"><span class="attribute">ssl_certificate</span> 证书公钥存储位置;</span><br><span class="line"><span class="attribute">ssl_certificate_key</span> 证书私钥存储位置;</span><br></pre></td></tr></table></figure><h3 id="location-块"><a href="#location-块" class="headerlink" title="location 块"></a>location 块</h3><blockquote><ul><li>意义： location指令的作用是根据用户请求的 URI 来执行不同的应用，也就是根据用户请求的网站 URI 进行匹配，匹配成功即进行相关的操作。</li><li>语法：location [ = | ~ | <del>* | ^</del> ] URI { …. }</li><li>注释：| 指令 || 匹配标识 || 匹配的网站网址 || 匹配 URI 之后要执行的配置段 |</li></ul></blockquote><h4 id="语法详解-之-语义"><a href="#语法详解-之-语义" class="headerlink" title="语法详解 之 语义"></a>语法详解 之 语义</h4><table><thead><tr><th>语法</th><th>语法详解</th></tr></thead><tbody><tr><td>=</td><td>开头表示精确匹配</td></tr><tr><td>^~</td><td>以xx开头：开头表示uri以某个常规字符串开头，理解为匹配 url路径即可。nginx不对url做编码，因此请求为/static/20%/aa，可以被规则^~ /static/ /aa匹配到（注意是空格）。</td></tr><tr><td>~</td><td>以xx结尾：开头表示区分大小写的正则匹配</td></tr><tr><td>~*</td><td>以xx结尾：开头表示不区分大小写的正则匹配</td></tr><tr><td>!~</td><td>区分大小写不匹配的正则</td></tr><tr><td>!~*</td><td>不区分大小写不匹配的正则</td></tr><tr><td>/</td><td>通用匹配，任何请求都会匹配到。</td></tr></tbody></table><h4 id="语法详解-之-优先级"><a href="#语法详解-之-优先级" class="headerlink" title="语法详解 之 优先级"></a>语法详解 之 优先级</h4><p>优先级：（从上及下， 依次降低）</p><ul><li>精确匹配 =</li><li>其次以xx开头匹配^~</li><li>~ 区分大小写的正则匹配</li><li>~* 不区分大小写的正则匹配</li><li>然后是按文件中顺序的正则匹配</li><li>最后是交给 / 通用匹配。</li></ul><p>当有匹配成功时候，停止匹配，按当前匹配规则处理请求。</p><h4 id="常用的匹配规则-其一"><a href="#常用的匹配规则-其一" class="headerlink" title="常用的匹配规则 其一"></a>常用的匹配规则 其一</h4><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#直接匹配网站根，通过域名访问网站首页比较频繁，使用这个会加速处理。</span></span><br><span class="line"><span class="comment">#这里是直接转发给后端应用服务器了，也可以是一个静态首页</span></span><br><span class="line"><span class="comment"># 第一个必选规则</span></span><br><span class="line"></span><br><span class="line"><span class="attribute">location</span> = / &#123;</span><br><span class="line">  <span class="attribute">proxy_pass</span> http://tomcat:8080/index</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment"># 第二个必选规则是处理静态文件请求，这是nginx作为http服务器的强项</span></span><br><span class="line"><span class="comment"># 有两种配置模式，目录匹配或后缀匹配,任选其一或搭配使用</span></span><br><span class="line"></span><br><span class="line">location ^~ /static/ &#123;                              //以xx开头</span><br><span class="line">  <span class="attribute">root</span> /webroot/static/;</span><br><span class="line">&#125;</span><br><span class="line">location ~* \.(gif|jpg|jpeg|png|css|js|ico)$ &#123;     //以xx结尾</span><br><span class="line">  <span class="attribute">root</span> /webroot/res/;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">#第三个规则就是通用规则，用来转发动态请求到后端应用服务器</span></span><br><span class="line"><span class="comment">#非静态文件请求就默认是动态请求，自己根据实际把握</span></span><br><span class="line"></span><br><span class="line"><span class="attribute">location</span> / &#123;</span><br><span class="line">  <span class="attribute">proxy_pass</span> http://tomcat:8080/</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="常用的匹配规则-其二"><a href="#常用的匹配规则-其二" class="headerlink" title="常用的匹配规则 其二"></a>常用的匹配规则 其二</h4><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">location</span> = / &#123;</span><br><span class="line"> <span class="comment"># = 等号配置符，只匹配 / 这个路由</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="attribute">location</span><span class="regexp"> ^~</span> /img/ &#123;</span><br><span class="line"> <span class="comment"># 注意 ^~ 配置，这里匹配到 /img/ 开始的话，直接就返回了。</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="attribute">location</span> /data &#123;</span><br><span class="line">  <span class="comment"># 留空配置，会匹配有 /data 开始的路由，后续有匹配会往下匹配。</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="attribute">location</span> <span class="regexp">~* .(png|gif|ico|jpg|jpeg)$</span> &#123;</span><br><span class="line"> <span class="comment"># 匹配以 png, gif, ico, jpg or jpeg 结尾的请求；这个通常用来设置图片的请求响应。 </span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 简单的 图片防盗链</span></span><br><span class="line"></span><br><span class="line"><span class="attribute">location</span> <span class="regexp">~ .(png|gif|jpe?g)$</span> &#123;</span><br><span class="line"> <span class="attribute">valid_referers</span> <span class="literal">none</span> <span class="literal">blocked</span> yourwebsite.com <span class="regexp">*.yourwebsite.com</span>;</span><br><span class="line"> <span class="comment"># 注意上面写上你的域名就好 </span></span><br><span class="line"> <span class="attribute">if</span> (<span class="variable">$invalid_referer</span>) &#123;</span><br><span class="line">   <span class="attribute">return</span>  <span class="number">403</span>;</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">#针对一些可写入的路径，禁止 php 或者 js 的脚步执行</span></span><br><span class="line"></span><br><span class="line"><span class="attribute">location</span> <span class="regexp">~* /(media|images|cache|tmp|logs)/.*.(php|jsp|pl|py|asp|cgi|sh)$</span> &#123;</span><br><span class="line"> <span class="attribute">return</span> <span class="number">403</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="location-块内其他元素"><a href="#location-块内其他元素" class="headerlink" title="location 块内其他元素"></a>location 块内其他元素</h3><h4 id="alias-与-root"><a href="#alias-与-root" class="headerlink" title="alias 与 root"></a>alias 与 root</h4><p>root和alias都可以定义在location模块中，都是用来指定请求资源的真实路径。</p><h5 id="root"><a href="#root" class="headerlink" title="root"></a>root</h5><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">location</span> /i/ &#123;</span><br><span class="line">  <span class="attribute">root</span> /data/w3;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>请求 <a href="http://www.abc.com/i/top.gif" target="_blank" rel="noopener">http://www.abc.com/i/top.gif</a> 这个地址时，在服务器里面对应的真正的资源是 /data/w3/i/top.gif文件</p><p>注意：</p><ul><li>真实的路径是(root指定的值加上location指定的值)。</li></ul><h5 id="alias"><a href="#alias" class="headerlink" title="alias"></a>alias</h5><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">location</span> /i/ &#123;</span><br><span class="line">  <span class="attribute">alias</span> /data/w3/;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>请求 <a href="http://www.abc.com/i/top.gif" target="_blank" rel="noopener">http://www.abc.com/i/top.gif</a> 这个地址时，在服务器里面对应的真正的资源是 /data/w3/top.gif</p><p>注意：</p><ul><li>而 alias 正如其名，alias指定的路径是location的别名，不管location的值怎么写，资源的真实路径都是 alias 指定的路径</li><li>alias 后面必须要用 “/” 结束，否则会找不到文件，而 root 则对 ”/” 可有可无。</li></ul><h4 id="proxy-pass-代理转发"><a href="#proxy-pass-代理转发" class="headerlink" title="proxy_pass (代理转发)"></a>proxy_pass (代理转发)</h4><ul><li>意义：所谓 代理转发 即将访问的地址 代理转发到其他 ip 地址上去 获取所需要的资源。</li><li>用法：设置被代理的服务器的协议和地址，还可以设置可选的URI。协议是“http”或者“https”。</li><li>注意：在nginx中配置proxy_pass代理转发时，如果在proxy_pass后面的url加/，表示绝对根路径；如果没有/，表示相对路径，把匹配的路径部分也给代理走。</li></ul><h5 id="一个栗子"><a href="#一个栗子" class="headerlink" title="一个栗子"></a>一个栗子</h5><p>假设下面四种情况分别用 <a href="http://192.168.1.1/proxy/index.html" target="_blank" rel="noopener">http://192.168.1.1/proxy/index.html</a> 进行访问。</p><p>第一种：</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">location</span> /proxy/ &#123;</span><br><span class="line">  <span class="attribute">proxy_pass</span> http://127.0.0.1/;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment"># 代理到 URL：http://127.0.0.1/index.html</span></span><br></pre></td></tr></table></figure><p>第二种：</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">location</span> /proxy/ &#123;</span><br><span class="line">  <span class="attribute">proxy_pass</span> http://127.0.0.1;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment"># 代理到 URL: http://127.0.0.1/proxy/index.html</span></span><br></pre></td></tr></table></figure><p>第三种：</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">location</span> /proxy/ &#123;</span><br><span class="line">  <span class="attribute">proxy_pass</span> http://127.0.0.1/change/;</span><br><span class="line">  <span class="comment">#proxy_pass http://127.0.0.1/uri/;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment"># 代理到 URL：http://127.0.0.1/change/index.html</span></span><br></pre></td></tr></table></figure><p>第四种：</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">location</span> /proxy/ &#123;</span><br><span class="line">  <span class="attribute">proxy_pass</span> http://127.0.0.1/change;</span><br><span class="line">  <span class="comment">#proxy_pass http://127.0.0.1/uri;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment"># 代理到 URL：http://127.0.0.1/changeindex.html</span></span><br></pre></td></tr></table></figure><p>总结(第三四种情况)：</p><p>如果 <strong>proxy_pass</strong> 使用了URI（下面例子中127.0.0.1地址后面部分，包括只有斜杠的情况),请求路径与 loction 路径的匹配部分将被替换为 <strong>proxy_pass</strong> 中定义的 URI。</p><p><strong>一个重要的事情：</strong> 在使用proxy_pass指令时，如果不想改变原地址中的URI，就不要在URL变量中配置URI。</p><h4 id="proxy-http-version"><a href="#proxy-http-version" class="headerlink" title="proxy_http_version"></a>proxy_http_version</h4><table><thead><tr><th>syntax</th><th>proxy_http_version 1.0 | 1.1</th></tr></thead><tbody><tr><td>default</td><td>roxy_http_version 1.0</td></tr><tr><td>context</td><td>http, server, location</td></tr></tbody></table><p><strong>proxy_http_version</strong> 设置成 1.1 是为了 sse 以及 websocket 这类接口的连接， 因为 http version 1.1 默认 接口连接 keepalive (长连接)。</p><h4 id="proxy-read-timeout"><a href="#proxy-read-timeout" class="headerlink" title="proxy_read_timeout"></a>proxy_read_timeout</h4><blockquote><ul><li>语法：proxy_read_timeout time</li><li>默认值：proxy_read_timeout 60s</li></ul></blockquote><p>如果处理请求所需的时间比较长，比如需要加载一个耗时 1.7s 的内容，proxy_read_timeout 要设置超过这个时间，否则出现 504 状态码。<br>如果 504 偶现，怀疑是请求在某些情况下请求耗时超过 read 时间限制或者后端部分机器 read 时间设置问题。</p><p>总结：</p><p>通过请求的的时长判断，设置合理的超时时间，可以优化 nginx 的性能</p><h4 id="proxy-set-header（代理设置标题）"><a href="#proxy-set-header（代理设置标题）" class="headerlink" title="proxy_set_header（代理设置标题）"></a>proxy_set_header（代理设置标题）</h4><blockquote><p><strong>用户认证接口：</strong> 根据客户端IP和port，进行IP反查和端口范围确认，如符合则用户认证通过。<br><br>当前使用的是Nginx负载均衡，从客户端到Nginx端 ip和port都对，从Nginx到应有服务器上-port端口变成很奇怪的端口号。<br><br>疑问：Nginx往应有服务器上 是如何 传递 客户端IP和port 参数的呢？（proxy_set_header 的作用正在于此）<br></p></blockquote><blockquote><ul><li>proxy_set_header 概念: 允许重新定义或添加字段传递给代理服务器的请求头。该值可以包含文本、变量和它们的组合。<br><br>在没有定义proxy_set_header时会继承之前定义的值。<br><br>默认情况下，只有两个字段被重定义:</li></ul></blockquote><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">proxy_set_header</span> Host       <span class="variable">$proxy_host</span>;</span><br><span class="line"><span class="attribute">proxy_set_header</span> Connection close;</span><br></pre></td></tr></table></figure><p>如果启用缓存，来自之前请求的头字段“If-Modified-Since”, “If-Unmodified-Since”, “If-None-Match”, “If-Match”, “Range”, 和 “If-Range” 将不会被代理服务器传递。<br>一个不会变化的“Host”头请求字段可通过如下方式被传递：</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">proxy_set_header</span> Host       <span class="variable">$http_host</span>;</span><br></pre></td></tr></table></figure><p>然后，当字段不在请求头中就无法传递啦。在这种情况下，可通过设置Host变量，将需传递值赋给Host变量。</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">proxy_set_header</span> Host       <span class="variable">$host</span>;</span><br></pre></td></tr></table></figure><p>此外，服务器名称和端口一起通过代理服务器传递。</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">proxy_set_header</span> Host       <span class="variable">$host</span>:<span class="variable">$proxy_port</span>;</span><br></pre></td></tr></table></figure><p>如果请求头的存在空的字段将不会通过代理服务器传递出去。</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">proxy_set_header</span> Accept-Encoding <span class="string">""</span>;</span><br></pre></td></tr></table></figure><p>总结：proxy_set_header 就是可设置请求头-并将头信息传递到服务器端。不属于请求头的参数中也需要传递时 重定义下就行啦。</p><p>测试 不设置 proxy_set_header<br>Nginx配置</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">upstream</span> test &#123;</span><br><span class="line">  <span class="attribute">server</span> <span class="number">192.168.220.123:9099</span>;</span><br><span class="line">    <span class="attribute">server</span> <span class="number">192.168.220.123:58080</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">  <span class="attribute">listen</span>    <span class="number">5800</span>;</span><br><span class="line">  <span class="attribute">server_name</span>  <span class="number">192.168.220.123</span>;</span><br><span class="line">  <span class="attribute">root</span>         /usr/share/nginx/html;</span><br><span class="line">  <span class="attribute">include</span> /etc/nginx/default.d/<span class="regexp">*.conf</span>;</span><br><span class="line">  <span class="attribute">location</span> / &#123;</span><br><span class="line">      <span class="attribute">proxy_pass</span> http://test;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>测试jsp 想获取客户端IP、客户端port、代理服务器IP、代理服务器port</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@page contentType&#x3D;&quot;text&#x2F;html; charset&#x3D;UTF-8&quot; trimDirectiveWhitespaces&#x3D;&quot;true&quot;%&gt;</span><br><span class="line">&lt;%</span><br><span class="line">  String scheme &#x3D; request.getScheme();</span><br><span class="line">  String serverName &#x3D; request.getServerName();</span><br><span class="line">  String remoteName &#x3D; request.getRemoteAddr();</span><br><span class="line">  String realIP &#x3D; request.getHeader(&quot;X-Forwarded-For&quot;);</span><br><span class="line">  String realIP2 &#x3D; request.getHeader(&quot;X-Real-IP&quot;);</span><br><span class="line">  String Host &#x3D; request.getHeader(&quot;Host&quot;);</span><br><span class="line">  int port &#x3D; request.getServerPort();</span><br><span class="line">  int portR &#x3D; request.getRemotePort();</span><br><span class="line">  String requestURIC1 &#x3D; scheme+&quot;:&#x2F;&#x2F;&quot;+realIP+&quot;:&quot;+portR;</span><br><span class="line">  String requestURIC2 &#x3D; scheme+&quot;:&#x2F;&#x2F;&quot;+realIP2+&quot;:&quot;+portR;</span><br><span class="line">  String requestURIC3 &#x3D; scheme+&quot;:&#x2F;&#x2F;&quot;+remoteName+&quot;:&quot;+portR;</span><br><span class="line">  String requestURI &#x3D; scheme+&quot;:&#x2F;&#x2F;&quot;+serverName+&quot;:&quot;+port;</span><br><span class="line">%&gt;  </span><br><span class="line">客户端地址1:&lt;%&#x3D;requestURIC1 %&gt;</span><br><span class="line">&lt;br&gt;</span><br><span class="line">客户端地址2:&lt;%&#x3D;requestURIC2 %&gt;</span><br><span class="line">&lt;br&gt;</span><br><span class="line">客户端地址3:&lt;%&#x3D;requestURIC3%&gt;</span><br><span class="line">&lt;br&gt;</span><br><span class="line">服务器地址1:&lt;%&#x3D;requestURI%&gt;</span><br><span class="line">&lt;br&gt;</span><br><span class="line">服务器地址2:&lt;%&#x3D;Host%&gt;</span><br><span class="line">&lt;br&gt;</span><br></pre></td></tr></table></figure><p>测试结果<br>客户端地址1:<a href="http://null:58828" target="_blank" rel="noopener">http://null:58828</a><br>客户端地址2:<a href="http://null:58828" target="_blank" rel="noopener">http://null:58828</a><br>客户端地址3:<a href="http://192.168.220.123:58828" target="_blank" rel="noopener">http://192.168.220.123:58828</a><br>服务器地址1:<a href="http://test:80" target="_blank" rel="noopener">http://test:80</a><br>服务器地址2:test</p><p>Nginx日志</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">192.168.220.177 -20508---5800 [25&#x2F;Aug&#x2F;2016:16:34:13 +0800] &quot;GET &#x2F;docs&#x2F;test.jsp HTTP&#x2F;1.1&quot; 200 223 &quot;-&quot; &quot;Mozilla&#x2F;5.0 (Windows NT 6.3; WOW64) AppleWebKit&#x2F;537.36 (KHTML, like Gecko) Chrome&#x2F;51.0.2704.106 Safari&#x2F;537.36&quot; &quot;-&quot;</span><br></pre></td></tr></table></figure><p>其中客户端IP不能获取到，而通过request.getRemoteAddr();获取的IP是代理服务器IP，而不是客户端IP，而在nginx中$remote_addr变量的值是客户端的IP，可见remoteaddr没有传递。<br>而server_port值也不对，当前值为5800，当前打印出的是80。<br>而当前代理为<a href="http://test" target="_blank" rel="noopener">http://test</a> 所有通过host得到的是test。<br>客户端port也获取不到值为20508，可传给应用的是58828</p><p>测试 设置proxy_set_header<br>Nginx 配置</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">upstream</span> test &#123;</span><br><span class="line">    <span class="attribute">server</span> <span class="number">192.168.220.123:9099</span>;</span><br><span class="line">    <span class="attribute">server</span> <span class="number">192.168.220.123:58080</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">    <span class="attribute">listen</span>    <span class="number">5800</span>;</span><br><span class="line">    <span class="attribute">server_name</span>  <span class="number">192.168.220.123</span>;</span><br><span class="line">    <span class="attribute">root</span>         /usr/share/nginx/html;</span><br><span class="line">    <span class="attribute">include</span> /etc/nginx/default.d/<span class="regexp">*.conf</span>;</span><br><span class="line">    <span class="attribute">location</span> / &#123;</span><br><span class="line">      <span class="attribute">proxy_pass</span> http://test;</span><br><span class="line">      <span class="attribute">proxy_set_header</span> Host <span class="variable">$host</span>:<span class="variable">$server_port</span>;</span><br><span class="line">      <span class="attribute">proxy_set_header</span> X-Real-IP <span class="variable">$remote_addr</span>;</span><br><span class="line">      <span class="attribute">proxy_set_header</span> X-Real-PORT <span class="variable">$remote_port</span>;</span><br><span class="line">      <span class="attribute">proxy_set_header</span> X-Forwarded-For <span class="variable">$proxy_add_x_forwarded_for</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>测试页面改成：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@page contentType&#x3D;&quot;text&#x2F;html; charset&#x3D;UTF-8&quot; trimDirectiveWhitespaces&#x3D;&quot;true&quot;%&gt;</span><br><span class="line">&lt;%</span><br><span class="line">  String scheme &#x3D; request.getScheme();</span><br><span class="line">  String serverName &#x3D; request.getServerName();</span><br><span class="line">  String remoteName &#x3D; request.getRemoteAddr();</span><br><span class="line">  String realIP &#x3D; request.getHeader(&quot;X-Forwarded-For&quot;);</span><br><span class="line">  String realIP2 &#x3D; request.getHeader(&quot;X-Real-IP&quot;);</span><br><span class="line">  String Host &#x3D; request.getHeader(&quot;Host&quot;);</span><br><span class="line">  int port &#x3D; request.getServerPort();</span><br><span class="line">  int portR &#x3D; request.getRemotePort();</span><br><span class="line">  String portR2 &#x3D; request.getHeader(&quot;X-Real-Port&quot;);</span><br><span class="line">  String requestURIC1 &#x3D; scheme+&quot;:&#x2F;&#x2F;&quot;+realIP+&quot;:&quot;+portR;</span><br><span class="line">  String requestURIC2 &#x3D; scheme+&quot;:&#x2F;&#x2F;&quot;+realIP2+&quot;:&quot;+portR;</span><br><span class="line">  String requestURIC3 &#x3D; scheme+&quot;:&#x2F;&#x2F;&quot;+remoteName+&quot;:&quot;+portR;</span><br><span class="line">  String requestURI &#x3D; scheme+&quot;:&#x2F;&#x2F;&quot;+serverName+&quot;:&quot;+port;</span><br><span class="line">%&gt;</span><br><span class="line">客户端地址1:&lt;%&#x3D;requestURIC1 %&gt;</span><br><span class="line">&lt;br&gt;</span><br><span class="line">客户端地址2:&lt;%&#x3D;requestURIC2 %&gt;</span><br><span class="line">&lt;br&gt;</span><br><span class="line">客户端地址3:&lt;%&#x3D;requestURIC3%&gt;</span><br><span class="line">&lt;br&gt;</span><br><span class="line">服务器地址1:&lt;%&#x3D;requestURI%&gt;</span><br><span class="line">&lt;br&gt;</span><br><span class="line">服务器地址2:&lt;%&#x3D;Host%&gt;</span><br><span class="line">&lt;br&gt;</span><br><span class="line">客户端port2:&lt;%&#x3D;portR2%&gt;</span><br><span class="line">&lt;br&gt;</span><br></pre></td></tr></table></figure><p>测试结果：<br>客户端地址1:<a href="http://192.168.220.177:21548" target="_blank" rel="noopener">http://192.168.220.177:21548</a><br>客户端地址2:<a href="http://192.168.220.177:21548" target="_blank" rel="noopener">http://192.168.220.177:21548</a><br>客户端地址3:<a href="http://192.168.220.123:21548" target="_blank" rel="noopener">http://192.168.220.123:21548</a><br>服务器地址1:<a href="http://192.168.220.123:5800" target="_blank" rel="noopener">http://192.168.220.123:5800</a><br>服务器地址2:192.168.220.123:5800<br>客户端port2:20604</p><p>Nging日志：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">192.168.220.177 -20604---5800 [25&#x2F;Aug&#x2F;2016:16:38:42 +0800] &quot;GET &#x2F;docs&#x2F;test.jsp HTTP&#x2F;1.1&quot; 200 275 &quot;-&quot; &quot;Mozilla&#x2F;5.0 (Windows NT 6.3; WOW64) AppleWebKit&#x2F;537.36 (KHTML, like Gecko) Chrome&#x2F;51.0.2704.106 Safari&#x2F;537.36&quot; &quot;-&quot;</span><br></pre></td></tr></table></figure><p>除request.getRemoteAddr();获取的值不对外，其他值都是对的。<br>getRemoteAddr获取的是代理的请求地址。<br>因重定义了host,所以test值被改写成代理服务器IP。<br>因重定义了 X-Real-PORT-并传递$remote_port，客户端port也获取正确啦。</p><hr>]]></content>
      
      
      
        <tags>
            
            <tag> Nginx </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS 之 闭包 &amp;&amp; var &amp;&amp; let</title>
      <link href="/2019/12/07/JS-%E4%B9%8B-%E9%97%AD%E5%8C%85/"/>
      <url>/2019/12/07/JS-%E4%B9%8B-%E9%97%AD%E5%8C%85/</url>
      
        <content type="html"><![CDATA[<h3 id="什么叫闭包"><a href="#什么叫闭包" class="headerlink" title="什么叫闭包"></a>什么叫闭包</h3><blockquote><ul><li>闭包就是能够读取其他函数内部变量的函数。</li><li>例如在javascript中，只有函数内部的子函数才能读取局部变量，所以闭包可以理解成“定义在一个函数内部的函数“。在本质上，闭包是将函数内部和函数外部连接起来的桥梁。</li><li>闭包包含自由（未绑定到特定对象）变量，这些变量不是在这个代码块内或者任何全局上下文中定义的，而是在定义代码块的环境中定义（局部变量）。</li><li>“闭包” 一词来源于以下两者的结合：要执行的代码块（由于自由变量被包含在代码块中，这些自由变量以及它们引用的对象没有被释放）和为自由变量提供绑定的计算环境（作用域）。</li></ul></blockquote><h3 id="闭包产生的原因"><a href="#闭包产生的原因" class="headerlink" title="闭包产生的原因"></a>闭包产生的原因</h3><blockquote><p>闭包是由函数以及创建该函数的词法环境组合而成。这个环境包含了这个闭包创建时所能访问的所有局部变量</p></blockquote><h3 id="闭包的用法"><a href="#闭包的用法" class="headerlink" title="闭包的用法"></a>闭包的用法</h3><h4 id="第一个栗子"><a href="#第一个栗子" class="headerlink" title="第一个栗子"></a>第一个栗子</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 一个基本的闭包</span><br><span class="line">function father () &#123; &#x2F;&#x2F; 声明一个函数</span><br><span class="line">  let fatherData &#x3D; &quot;father&quot;</span><br><span class="line">  return function Closure () &#123; &#x2F;&#x2F; 返回一个闭包函数</span><br><span class="line">    alert(fatherData)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">var testClosure &#x3D; father()</span><br><span class="line">testClosure()</span><br><span class="line">&#x2F;&#x2F; 结果：</span><br><span class="line">&#x2F;&#x2F; 执行了 Closure()函数且读取到了 fatherData 没有报错</span><br><span class="line">&#x2F;&#x2F; 原因：</span><br><span class="line">&#x2F;&#x2F; 在 father() 函数形成了 闭包 Closure(), 虽然说 father() 函数执行结束后 其里面的环境会被销毁，值也会被销毁。</span><br><span class="line">&#x2F;&#x2F; 但是闭包 Closure() 里面包含了 创建函数和他所能访问到的词法环境。</span><br><span class="line">&#x2F;&#x2F; 所以， fatherData 依旧可以被 闭包 Closure() 函数访问到</span><br></pre></td></tr></table></figure><h4 id="第二个栗子"><a href="#第二个栗子" class="headerlink" title="第二个栗子"></a>第二个栗子</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 直观的 闭包存储 各自的 词法环境</span><br><span class="line">function makeAdder(x) &#123;</span><br><span class="line">  return function(y) &#123;</span><br><span class="line">    return x + y</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var oneClosure &#x3D; makeAdder(5)</span><br><span class="line">var secondoneClosure &#x3D; makeAdder(10)</span><br><span class="line"></span><br><span class="line">console.log(oneoneClosure(2))  &#x2F;&#x2F; 7</span><br><span class="line">console.log(secondoneClosure(2)) &#x2F;&#x2F; 12</span><br><span class="line">&#x2F;&#x2F; oneClosure &#x3D; return 的 function (y) &#123;···&#125;</span><br><span class="line">&#x2F;&#x2F; 从本质上讲，makeAdder 是一个函数工厂 — 他创建了将指定的值和它的参数相加求和的函数。</span><br><span class="line">&#x2F;&#x2F; oneClosure 与 secondClosure 都是闭包函数， 同享了一个函数定义， 但是保存了不同的词法环境。</span><br></pre></td></tr></table></figure><h3 id="闭包-amp-amp-var-与-let"><a href="#闭包-amp-amp-var-与-let" class="headerlink" title="闭包 &amp;&amp; var 与 let"></a>闭包 &amp;&amp; var 与 let</h3><h4 id="第一个栗子-1"><a href="#第一个栗子-1" class="headerlink" title="第一个栗子"></a>第一个栗子</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">function arrCirculation () &#123;</span><br><span class="line">  var arr &#x3D; []</span><br><span class="line">  for (var i &#x3D; 0; i &lt; 10; i++) &#123;</span><br><span class="line">    arr[i] &#x3D; function () &#123; &#x2F;&#x2F; 执行此代码时，同步代码for循环已经执行完成</span><br><span class="line">      return i</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">arrCirculation()</span><br><span class="line">&#x2F;&#x2F; 返回 arr[10]&#x3D;[&#39;10&#39;,&#39;10&#39;,&#39;10&#39;,&#39;10&#39;,&#39;10&#39;,&#39;10&#39;,&#39;10&#39;,&#39;10&#39;,&#39;10&#39;,&#39;10&#39;]</span><br><span class="line">&#x2F;&#x2F; 这里面的知识点： JS的事件循环机制，setTimeout的机制等</span><br></pre></td></tr></table></figure><h4 id="第二个栗子-1"><a href="#第二个栗子-1" class="headerlink" title="第二个栗子"></a>第二个栗子</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; i虽然在全局作用域声明，但是在for循环体局部作用域中使用的时候，变量会被固定，不受外界干扰。</span><br><span class="line">function arrCirculation () &#123;</span><br><span class="line">  var arr &#x3D; []</span><br><span class="line">  for (let i &#x3D; 0; i &lt; 10; i++) &#123;</span><br><span class="line">    arr[i] &#x3D; function () &#123; &#x2F;&#x2F;  i 是循环体内局部作用域，不受外界影响。</span><br><span class="line">      return i</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">arrCirculation()</span><br><span class="line">&#x2F;&#x2F; 返回 arr[10]&#x3D;[&#39;1&#39;,&#39;2&#39;,&#39;3&#39;,&#39;4&#39;,&#39;5&#39;,&#39;6&#39;,&#39;7&#39;,&#39;8&#39;,&#39;9&#39;,&#39;10&#39;]</span><br></pre></td></tr></table></figure><h4 id="let-没有变量提升-amp-amp-let-的暂时性死区"><a href="#let-没有变量提升-amp-amp-let-的暂时性死区" class="headerlink" title="let 没有变量提升 &amp;&amp; let 的暂时性死区"></a>let 没有变量提升 &amp;&amp; let 的暂时性死区</h4><blockquote><ul><li>ES6 明确规定，如果区块中存在let和const命令，这个区块对这些命令声明的变量，从一开始就形成了封闭作用域。凡是在声明之前就使用这些变量，就会报错。<br>总之，在代码块内，使用let命令声明变量之前，该变量都是不可用的。这在语法上，称为“暂时性死区”（temporal dead zone，简称 TDZ）。</li></ul></blockquote><blockquote><ul><li>let不允许在相同作用域内，重复声明同一个变量。否则报错：Uncaught SyntaxError: Identifier ‘XXX’ has already been declared</li></ul></blockquote><h4 id="var-变量提升"><a href="#var-变量提升" class="headerlink" title="var 变量提升"></a>var 变量提升</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">var a &#x3D; 9</span><br><span class="line">f()</span><br><span class="line">console.log(a)</span><br><span class="line">function f () &#123;</span><br><span class="line">  console.log(a)</span><br><span class="line">  var a &#x3D; 100</span><br><span class="line">  consle.log(a)</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;&#x2F; 打印 undefined 9 100</span><br><span class="line">&#x2F;&#x2F; 原因， 函数存在函数声明提升，所以不会报错</span><br><span class="line">&#x2F;&#x2F; var 变量声明提升，即</span><br><span class="line">&#x2F;*</span><br><span class="line">function f () &#123;</span><br><span class="line">  var a</span><br><span class="line">  console.log(a)</span><br><span class="line">  a &#x3D; 100</span><br><span class="line">  consle.log(a)</span><br><span class="line">&#125;</span><br><span class="line">*&#x2F;</span><br></pre></td></tr></table></figure><h4 id="var-与-let-总结"><a href="#var-与-let-总结" class="headerlink" title="var 与 let 总结"></a>var 与 let 总结</h4><p>ES6 的 let 让 js 真正拥有了块级作用域，这可以使我们更安全与规范的编写 JS 代码。</p><hr>]]></content>
      
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS 之表单，输入框，选择框等清除缓存</title>
      <link href="/2019/12/06/JS-%E4%B9%8B%E8%A1%A8%E5%8D%95%EF%BC%8C%E8%BE%93%E5%85%A5%E6%A1%86%EF%BC%8C%E9%80%89%E6%8B%A9%E6%A1%86%E7%AD%89%E6%B8%85%E9%99%A4%E7%BC%93%E5%AD%98/"/>
      <url>/2019/12/06/JS-%E4%B9%8B%E8%A1%A8%E5%8D%95%EF%BC%8C%E8%BE%93%E5%85%A5%E6%A1%86%EF%BC%8C%E9%80%89%E6%8B%A9%E6%A1%86%E7%AD%89%E6%B8%85%E9%99%A4%E7%BC%93%E5%AD%98/</url>
      
        <content type="html"><![CDATA[<h3 id="关于缓存"><a href="#关于缓存" class="headerlink" title="关于缓存"></a>关于缓存</h3><blockquote><ul><li>优点：提高网站性能和浏览器速度，提高网站性能，以及页面缓存，在必要的情况下，可以减少用户的输入，优化体验。</li><li>缺点：在大部分情况下，我们希望在打开一个表单或是输入框时，这个表单以及输入框是干净整洁的。没有之前遗留下来的数据。或者是，表单以及输入框中的数据是用户的错误数据时，页面缓存就会造成误解。</li></ul></blockquote><h3 id="清除缓存的几种场景"><a href="#清除缓存的几种场景" class="headerlink" title="清除缓存的几种场景"></a>清除缓存的几种场景</h3><ul><li>重新打开一个表单或弹窗/关闭一个表单或弹窗</li><li>互斥的输入选择在相互切换时</li><li>总是需要最新数据的场景下</li></ul><h3 id="清除缓存的几种方式"><a href="#清除缓存的几种方式" class="headerlink" title="清除缓存的几种方式"></a>清除缓存的几种方式</h3><h4 id="最简单粗暴-数据置空"><a href="#最简单粗暴-数据置空" class="headerlink" title="最简单粗暴-数据置空"></a>最简单粗暴-数据置空</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 在打开一个表单和 or 弹窗的时候，清空数据</span><br><span class="line">handleOpenModal () &#123;</span><br><span class="line">  ···</span><br><span class="line">  this.data &#x3D; &#39;&#39;</span><br><span class="line">  this.dataArray &#x3D; []</span><br><span class="line">  this.dataObject &#x3D; null</span><br><span class="line">  or</span><br><span class="line">  init()</span><br><span class="line">  ···</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;&#x2F; 在关闭一个表单 or 弹窗的时候，清除数据</span><br><span class="line">&#x2F;&#x2F; 取消，不提交表单内容时</span><br><span class="line">handleCancelModal () &#123;</span><br><span class="line">  ···</span><br><span class="line">  this.data &#x3D; &#39;&#39;</span><br><span class="line">  this.dataArray &#x3D; []</span><br><span class="line">  this.dataObject &#x3D; null</span><br><span class="line">  ···</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;&#x2F; 保存表单内容后关闭表单时</span><br><span class="line">handleSubmitModal () &#123;</span><br><span class="line">  ···</span><br><span class="line">  ···</span><br><span class="line">  this.data &#x3D; &#39;&#39;</span><br><span class="line">  this.dataArray &#x3D; []</span><br><span class="line">  this.dataObject &#x3D; null</span><br><span class="line">  ···</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="ant-design-提供的-表单重置"><a href="#ant-design-提供的-表单重置" class="headerlink" title="ant-design 提供的 表单重置"></a>ant-design 提供的 表单重置</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 重置 form 表单内容</span><br><span class="line">handleResetForm () &#123;</span><br><span class="line">  this.form.resetFields()</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;&#x2F; 初始化 form 表单内容</span><br><span class="line">handleInitForm () &#123;</span><br><span class="line">  this.form.setFieldsValue()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr>]]></content>
      
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS 和 CSS 里面的 引用</title>
      <link href="/2019/12/03/JS-%E5%92%8C-CSS-%E9%87%8C%E9%9D%A2%E7%9A%84-%E5%BC%95%E7%94%A8/"/>
      <url>/2019/12/03/JS-%E5%92%8C-CSS-%E9%87%8C%E9%9D%A2%E7%9A%84-%E5%BC%95%E7%94%A8/</url>
      
        <content type="html"><![CDATA[<h3 id="JavaScript-文件的引用"><a href="#JavaScript-文件的引用" class="headerlink" title="JavaScript 文件的引用"></a>JavaScript 文件的引用</h3><p>在项目开发中，我们会发现一些代码会在项目的不同部分重复出现，为了减少代码量，提高项目的可维护性。我们往往会选择将这些代码单独抽象出来，写在一个文件中， 然后再在需要的地方进行引用。</p><h4 id="JavaScript-方法的引用"><a href="#JavaScript-方法的引用" class="headerlink" title="JavaScript 方法的引用"></a>JavaScript 方法的引用</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 抽象出的 JS 文件</span><br><span class="line">export function test () &#123;</span><br><span class="line">  ···</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 引用</span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123; test &#125; from &#39;文件路径&#39;</span><br><span class="line">test() &#x2F;&#x2F; 使用</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure><h4 id="JavaScript-常量的引用"><a href="#JavaScript-常量的引用" class="headerlink" title="JavaScript 常量的引用"></a>JavaScript 常量的引用</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 抽象出 js 文件</span><br><span class="line">export const test &#x3D; &#39;try&#39;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 引用</span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123; test &#125; from &#39;文件路径&#39;</span><br><span class="line">···</span><br><span class="line">data () &#123;</span><br><span class="line">  return &#123;</span><br><span class="line">    test,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">···</span><br><span class="line">this.test &#x2F;&#x2F; 使用</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure><h3 id="CSS-文件的引用"><a href="#CSS-文件的引用" class="headerlink" title="CSS 文件的引用"></a>CSS 文件的引用</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 抽出 css 样式</span><br><span class="line">.test &#123;</span><br><span class="line">  font: bold;</span><br><span class="line">  margin: 5px;</span><br><span class="line">  text-align: center;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;style lang&#x3D;&quot;less&quot; scoped&gt;</span><br><span class="line">@import &#39;文件路径&#39;;</span><br><span class="line">.other &#123;</span><br><span class="line">  padding: 0;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure><h3 id="ES6-神奇的-import-···-from-···"><a href="#ES6-神奇的-import-···-from-···" class="headerlink" title="ES6 神奇的 import ··· from ···"></a>ES6 神奇的 import ··· from ···</h3><blockquote><ul><li>import…from…的from命令后面可以跟很多路径格式，若只给出vue，axios这样的包名，则会自动到node_modules中加载；若给出相对路径及文件前缀，则到指定位置寻找。</li><li>可以加载各种各样的文件：.js、.vue、.less等等。</li><li>可以省略掉from直接引入。</li></ul></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import &#123; ··· &#125; from &#39;文件路径&#39;</span><br></pre></td></tr></table></figure><h3 id="CSS-的-import"><a href="#CSS-的-import" class="headerlink" title="CSS 的 @import"></a>CSS 的 @import</h3><blockquote><ul><li>@import url;</li><li>url: 是一个表示要引入资源位置的<string>或者<uri>。 这个 URL 可以是绝对路径或者相对路径。 要注意的是这个 URL 不需要指明一个文件； 可以只指明包名，然后合适的文件会被自动选择 (e.g. chrome://communicator/skin/). See here 了解更多。</uri></string></li></ul></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@import &#39;文件路径&#39;; &#x2F;&#x2F; &#39;;&#39;很重要</span><br></pre></td></tr></table></figure><hr>]]></content>
      
      
      
        <tags>
            
            <tag> CSS </tag>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS 之 获取最后一个 “字符” 后面的值</title>
      <link href="/2019/12/03/JS-%E4%B9%8B-%E8%8E%B7%E5%8F%96%E6%9C%80%E5%90%8E%E4%B8%80%E4%B8%AA-%E2%80%9C%E5%AD%97%E7%AC%A6%E2%80%9D-%E5%90%8E%E9%9D%A2%E7%9A%84%E5%80%BC/"/>
      <url>/2019/12/03/JS-%E4%B9%8B-%E8%8E%B7%E5%8F%96%E6%9C%80%E5%90%8E%E4%B8%80%E4%B8%AA-%E2%80%9C%E5%AD%97%E7%AC%A6%E2%80%9D-%E5%90%8E%E9%9D%A2%E7%9A%84%E5%80%BC/</url>
      
        <content type="html"><![CDATA[<h3 id="代码实现"><a href="#代码实现" class="headerlink" title="代码实现"></a>代码实现</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">const test &#x3D; &quot;http:&#x2F;&#x2F;www.baidu.com&#x2F;index&#x2F;index.html?a&amp;b&#x3D;c#name&quot;;</span><br><span class="line">&#x2F;&#x2F; 获取 test 最后一个 &#39;&#x2F;&#39; 后面的内容</span><br><span class="line">const site &#x3D; test.lastIndexOf(&#39;&#x2F;&#39;) &#x2F;&#x2F; 获取最后一个 &#39;&#x2F;&#39; 的位置</span><br><span class="line">const result &#x3D; test.substring(site + 1, test.length) &#x2F;&#x2F; 截取最后一个 &#39;&#x2F;&#39; 后面的内容</span><br></pre></td></tr></table></figure><h4 id="lastIndexOf"><a href="#lastIndexOf" class="headerlink" title="lastIndexOf()"></a>lastIndexOf()</h4><blockquote><ul><li>定义和用法：lastIndexOf() 方法可返回一个指定的字符串值最后出现的位置，在一个字符串中的指定位置从后向前搜索。</li><li>语法：stringObject.lastIndexOf(searchvalue,fromindex)</li><li>参数：searchvalue 必需。规定需检索的字符串值，fromindex 可选。规定在字符串中开始检索的位置。它的合法取值是 0 到 stringObject.length - 1。如省略该参数，则将从字符串的最后一个字符处开始检索。</li></ul></blockquote><h4 id="substring"><a href="#substring" class="headerlink" title="substring()"></a>substring()</h4><blockquote><ul><li>定义和用法：substring() 方法用于提取字符串中介于两个指定下标之间的字符。</li><li>语法：stringObject.substring(start,stop)</li><li>参数： start 截取字符串开始位置， stop 截取字符串结束位置</li></ul></blockquote><hr>]]></content>
      
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS 异步之 async 和 await</title>
      <link href="/2019/12/02/JS-%E5%BC%82%E6%AD%A5%E4%B9%8B-async-%E5%92%8C-await/"/>
      <url>/2019/12/02/JS-%E5%BC%82%E6%AD%A5%E4%B9%8B-async-%E5%92%8C-await/</url>
      
        <content type="html"><![CDATA[<h3 id="async-与-await-的作用"><a href="#async-与-await-的作用" class="headerlink" title="async 与 await 的作用"></a>async 与 await 的作用</h3><p>当一个函数中存在异步函数 且 该函数的后续操作 需要 异步函数执行结束后的结果时， await 的作用就显现出来了，async 内部是一个 generator 生成器。</p><blockquote><ul><li>await后面接一个会return new promise的函数并执行它</li><li>await只能放在async函数里</li></ul></blockquote><h3 id="async-与-await-成功的情况"><a href="#async-与-await-成功的情况" class="headerlink" title="async 与 await 成功的情况"></a>async 与 await 成功的情况</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">function promise()&#123;</span><br><span class="line">  return new Promise((resolve, reject)&#x3D;&gt;&#123;</span><br><span class="line">      let sino &#x3D; parseInt(Math.random() * 6 +1)</span><br><span class="line">      setTimeout(()&#x3D;&gt;&#123;</span><br><span class="line">        resolve(sino)</span><br><span class="line">      &#125;,3000)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line">async function test()&#123;</span><br><span class="line">  let n &#x3D;await promise()</span><br><span class="line">  console.log(n)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>测试得知，执行 test 时，会在 promise 函数执行返回结果后，再继续执行。</p><h3 id="async-与-await-可能失败的情况"><a href="#async-与-await-可能失败的情况" class="headerlink" title="async 与 await 可能失败的情况"></a>async 与 await 可能失败的情况</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">function promise()&#123;</span><br><span class="line">  return new Promise((resolve, reject)&#x3D;&gt;&#123;</span><br><span class="line">      let sino &#x3D; parseInt(Math.random() * 6 +1)</span><br><span class="line">      setTimeout(()&#x3D;&gt;&#123;</span><br><span class="line">        resolve(sino)</span><br><span class="line">      &#125;,3000)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line">async function test()&#123;</span><br><span class="line">  try &#123;</span><br><span class="line">    let n &#x3D;await promise()</span><br><span class="line">    console.log(n)</span><br><span class="line">  &#125; catch &#123;</span><br><span class="line">    console.log(&#39;error&#39;)</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr>]]></content>
      
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS 之 window.location 获取 url</title>
      <link href="/2019/12/02/JS-%E4%B9%8B-window-location-%E8%8E%B7%E5%8F%96-url/"/>
      <url>/2019/12/02/JS-%E4%B9%8B-window-location-%E8%8E%B7%E5%8F%96-url/</url>
      
        <content type="html"><![CDATA[<h3 id="Window-location-获取-url-各部分的值"><a href="#Window-location-获取-url-各部分的值" class="headerlink" title="Window.location 获取 url 各部分的值"></a>Window.location 获取 url 各部分的值</h3><blockquote><p>URL(Uniform Resource Locators) 一个普通的 url 的组成部分</p><ul><li>以 <a href="http://www.baidu.com:8080/item/%E6%96%87%E4%BB%B6/6270998?fr=aladdin#name" target="_blank" rel="noopener">http://www.baidu.com:8080/item/%E6%96%87%E4%BB%B6/6270998?fr=aladdin#name</a> 为例</li><li>如上，可以清楚看到一个 url 的组成：</li><li>协议： http or https</li><li>域名： <a href="http://www.baidu.com" target="_blank" rel="noopener">www.baidu.com</a></li><li>端口号： 8080</li><li>路径(文件地址)： /item/%E6%96%87%E4%BB%B6/6270998 第一个 / 跟第一个 ？ 或 # 之间</li><li>查询(参数)：?fr=aladdin 第一个 ？ 与 #之间</li><li>锚点： #name # 后面的值</li></ul></blockquote><h4 id="获取协议"><a href="#获取协议" class="headerlink" title="获取协议"></a>获取协议</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">window.location.protocol</span><br><span class="line">&#x2F;&#x2F; 返回值 http：</span><br></pre></td></tr></table></figure><h4 id="获取域名"><a href="#获取域名" class="headerlink" title="获取域名"></a>获取域名</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">window.location.hostname</span><br><span class="line">&#x2F;&#x2F; 返回值 www.baidu.com</span><br></pre></td></tr></table></figure><h4 id="获取端口号"><a href="#获取端口号" class="headerlink" title="获取端口号"></a>获取端口号</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">window.location.port</span><br><span class="line">&#x2F;&#x2F; 返回值 8080</span><br></pre></td></tr></table></figure><h4 id="获取域名和端口号"><a href="#获取域名和端口号" class="headerlink" title="获取域名和端口号"></a>获取域名和端口号</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">window.location.host</span><br><span class="line">&#x2F;&#x2F; 返回值 www.baidu.com:8080</span><br></pre></td></tr></table></figure><h4 id="获取路径（文件地址）"><a href="#获取路径（文件地址）" class="headerlink" title="获取路径（文件地址）"></a>获取路径（文件地址）</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">window.location.pathname</span><br><span class="line">&#x2F;&#x2F; 返回值 &#x2F;item&#x2F;%E6%96%87%E4%BB%B6&#x2F;6270998</span><br></pre></td></tr></table></figure><h4 id="获取查询参数"><a href="#获取查询参数" class="headerlink" title="获取查询参数"></a>获取查询参数</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">window.location.search</span><br><span class="line">&#x2F;&#x2F; 返回值 ?fr&#x3D;aladdin</span><br></pre></td></tr></table></figure><h4 id="获取锚点"><a href="#获取锚点" class="headerlink" title="获取锚点"></a>获取锚点</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">window.location.hash</span><br><span class="line">&#x2F;&#x2F; 返回值 #name</span><br></pre></td></tr></table></figure><h4 id="获取完整的-url"><a href="#获取完整的-url" class="headerlink" title="获取完整的 url"></a>获取完整的 url</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">window.location.href</span><br><span class="line">&#x2F;&#x2F; 返回值 http:&#x2F;&#x2F;www.baidu.com:8080&#x2F;item&#x2F;%E6%96%87%E4%BB%B6&#x2F;6270998?fr&#x3D;aladdin#name</span><br></pre></td></tr></table></figure><hr>]]></content>
      
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS 通信 之 EventSource</title>
      <link href="/2019/12/02/JS-%E9%80%9A%E4%BF%A1-%E4%B9%8B-EventSource/"/>
      <url>/2019/12/02/JS-%E9%80%9A%E4%BF%A1-%E4%B9%8B-EventSource/</url>
      
        <content type="html"><![CDATA[<h3 id="预备知识"><a href="#预备知识" class="headerlink" title="预备知识"></a>预备知识</h3><p><a href="https://www.ruanyifeng.com/blog/2017/05/server-sent_events.html" target="_blank" rel="noopener">阮一峰的网络日志之 SSE</a></p><h3 id="SSE-的用法"><a href="#SSE-的用法" class="headerlink" title="SSE 的用法"></a>SSE 的用法</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">const url &#x3D; &#39;url&#39;</span><br><span class="line">this.eventSource &#x3D; new EventSource(url) &#x2F;&#x2F; 创建一个 SSE 对象</span><br><span class="line">this.eventSource.onopen &#x3D; () &#x3D;&gt; &#123; &#x2F;&#x2F; SSE 监听打开的属性</span><br><span class="line">  &#x2F;&#x2F; console.log(&#39;openEvents&#39;)</span><br><span class="line">&#125;</span><br><span class="line">this.eventSource.onmessage &#x3D; (e) &#x3D;&gt; &#123; &#x2F;&#x2F; SSE 监听传递数据的属性</span><br><span class="line">  &#x2F;&#x2F; console.log(e)</span><br><span class="line">  try &#123;</span><br><span class="line">    const data &#x3D; JSON.parse(e.data)</span><br><span class="line">    &#x2F;&#x2F; console.log(&#39;eventsMessage: &#39;, data)</span><br><span class="line">    ···</span><br><span class="line">  &#125; catch (err) &#123;</span><br><span class="line">    console.error(&#39;发生错误&#39;, err) &#x2F;&#x2F; eslint-disable-line</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">this.eventSource.onerror &#x3D; (e) &#x3D;&gt; &#123; &#x2F;&#x2F; SSE 监听连接中断或者是出错的属性</span><br><span class="line">  &#x2F;&#x2F; console.log(e)</span><br><span class="line">&#125;</span><br><span class="line">this.eventSource.onclose &#x3D; (e) &#x3D;&gt; &#123; &#x2F;&#x2F; SSE 监听关闭连接的属性</span><br><span class="line">  this.eventSource &#x3D; null</span><br><span class="line">&#125;</span><br><span class="line">this.eventSource.close() &#x2F;&#x2F; 如果存在，则关闭连接，并且设置readyState 属性为 CLOSED。如果连接已经被关闭，此方法不做任何事。</span><br></pre></td></tr></table></figure><hr>]]></content>
      
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CSS 子元素向右对齐</title>
      <link href="/2019/11/30/CSS-%E5%AD%90%E5%85%83%E7%B4%A0%E5%90%91%E5%8F%B3%E5%AF%B9%E9%BD%90/"/>
      <url>/2019/11/30/CSS-%E5%AD%90%E5%85%83%E7%B4%A0%E5%90%91%E5%8F%B3%E5%AF%B9%E9%BD%90/</url>
      
        <content type="html"><![CDATA[<h3 id="CSS-子元素向右对齐的两种方法"><a href="#CSS-子元素向右对齐的两种方法" class="headerlink" title="CSS 子元素向右对齐的两种方法"></a>CSS 子元素向右对齐的两种方法</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 第一种方法</span><br><span class="line">float: right;</span><br><span class="line">&#x2F;&#x2F; 第二种方法</span><br><span class="line">text-align: right;</span><br></pre></td></tr></table></figure><hr>]]></content>
      
      
      
        <tags>
            
            <tag> CSS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS 各种数据类型转布尔型</title>
      <link href="/2019/11/29/JS-%E5%90%84%E7%A7%8D%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E8%BD%AC%E5%B8%83%E5%B0%94%E5%9E%8B/"/>
      <url>/2019/11/29/JS-%E5%90%84%E7%A7%8D%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E8%BD%AC%E5%B8%83%E5%B0%94%E5%9E%8B/</url>
      
        <content type="html"><![CDATA[<h3 id="基本类型与布尔型比较"><a href="#基本类型与布尔型比较" class="headerlink" title="基本类型与布尔型比较"></a>基本类型与布尔型比较</h3><h4 id="undefined-与-布尔型-比较"><a href="#undefined-与-布尔型-比较" class="headerlink" title="undefined 与 布尔型 比较"></a>undefined 与 布尔型 比较</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">let a &#x3D; undefined;</span><br><span class="line">console.log(&#39;undefined&#39;, a);</span><br><span class="line">if (a) &#123;</span><br><span class="line">  alert(&#39;undefined 条件判断是 true&#39;);</span><br><span class="line">&#125; else &#123;</span><br><span class="line">  alert(&#39;undefined 条件判断是 false);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>测试得知， undefined 条件判断是 false</p><h4 id="Number-与-布尔型-比较"><a href="#Number-与-布尔型-比较" class="headerlink" title="Number 与 布尔型 比较"></a>Number 与 布尔型 比较</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">let a &#x3D; 0;</span><br><span class="line">console.log(&#39;Number&#39;, a);</span><br><span class="line">if (a) &#123;</span><br><span class="line">  alert(&#39;Number 为 0 时,条件判断是 true&#39;)</span><br><span class="line">&#125; else &#123;</span><br><span class="line">  alert(&#39;Number 为 0 时,条件判断是 false&#39;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>测试得知， Number 为 0 时条件判断是 false</p><h4 id="String-与-布尔型-比较"><a href="#String-与-布尔型-比较" class="headerlink" title="String 与 布尔型 比较"></a>String 与 布尔型 比较</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">let a &#x3D; &#39;&#39;;</span><br><span class="line">let b &#x3D; &#39;0&#39;;</span><br><span class="line">console.log(&#39;String&#39;, a, b);</span><br><span class="line">if (a) &#123;</span><br><span class="line">  alert(&#39;a&#x3D;&#39;&#39; 时,条件判断是 true&#39;);</span><br><span class="line">&#125; else (a) &#123;</span><br><span class="line">  alert(&#39;a&#x3D;&#39;&#39; 时, typedof 是 undefined, 条件判断是 false&#39;);</span><br><span class="line">&#125;;</span><br><span class="line">if(b) &#123;</span><br><span class="line">  alert(&#39;b &#x3D; &#39;0&#39;时，String 条件判断是 true&#39;);</span><br><span class="line">&#125; else &#123;</span><br><span class="line">  alert(&#39;b &#x3D; &#39;0&#39;时， String 条件判断是 false &#39;);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>测试得知， a=’’时，类型转化为 undefined 结果是 false; b=’0’时，类型是 String 条件判断是 true</p><h4 id="Boolen-简单来讲就只有-true-跟-false-两种状态"><a href="#Boolen-简单来讲就只有-true-跟-false-两种状态" class="headerlink" title="Boolen 简单来讲就只有 true 跟 false 两种状态"></a>Boolen 简单来讲就只有 true 跟 false 两种状态</h4><h4 id="Null-与-布尔型比较"><a href="#Null-与-布尔型比较" class="headerlink" title="Null 与 布尔型比较"></a>Null 与 布尔型比较</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">let a  &#x3D; null;</span><br><span class="line">if (a) &#123;</span><br><span class="line">  alert(&#39;a 是 null 的时候 条件判断是 true&#39;);</span><br><span class="line">&#125; else &#123;</span><br><span class="line">  alert(&#39;a 是 null 的时候 条件判断是 false&#39;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>测试得知， a=null时， 条件判断是 false</p><h4 id="引用类型-与-布尔型比较-Object-Array-Function"><a href="#引用类型-与-布尔型比较-Object-Array-Function" class="headerlink" title="引用类型  与  布尔型比较(Object, Array, Function)"></a>引用类型 与 布尔型比较(Object, Array, Function)</h4><h4 id="Object-与-布尔型比较"><a href="#Object-与-布尔型比较" class="headerlink" title="Object 与 布尔型比较"></a>Object 与 布尔型比较</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">let a &#x3D; &#123;&#125;;</span><br><span class="line">let b &#x3D; null;</span><br><span class="line">if (a) &#123;</span><br><span class="line">  alert(&#39;a 是 &#123;&#125; 的时候, typedof 是 Object, 条件判断是 true&#39;);</span><br><span class="line">&#125; else &#123;</span><br><span class="line">  alert(&#39;a 是 &#123;&#125; 的时候 条件判断是 false&#39;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>测试得知， a={}时， 条件判断是 true</p><h4 id="Array-与-布尔型比较"><a href="#Array-与-布尔型比较" class="headerlink" title="Array 与 布尔型比较"></a>Array 与 布尔型比较</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">let a &#x3D; [];</span><br><span class="line">if (a) &#123;</span><br><span class="line">  alert(&#39;a 是 [] 的时候， typedof 是 Array, 条件判断是 true&#39;);</span><br><span class="line">&#125;  else &#123;</span><br><span class="line">  alert(&#39;a 是 [] 的时候 条件判断是 false&#39;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>测试得知， a=[] 的时候，条件判断是 true</p><h4 id="当引用类型为空时希望得到-false-的结果的操作"><a href="#当引用类型为空时希望得到-false-的结果的操作" class="headerlink" title="当引用类型为空时希望得到 false 的结果的操作"></a>当引用类型为空时希望得到 false 的结果的操作</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">let a &#x3D; null;</span><br><span class="line">let b &#x3D; [];</span><br><span class="line">if (a) &#123;</span><br><span class="line">  alert(&#39;true&#39;);</span><br><span class="line">&#125; else &#123;</span><br><span class="line">  alert(&#39;false&#39;);</span><br><span class="line">&#125;</span><br><span class="line">if (b.length) &#123;</span><br><span class="line">  alert(&#39;true&#39;);</span><br><span class="line">&#125; else &#123;</span><br><span class="line">  alert(&#39;false&#39;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>测试得知，当引用类型是空的时候，最好对象类型设置 null,。而数组类型条件判断时用 length ，都转化成基本类型进行条件判断。</p><h3 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h3><p><code>做条件判断，并不意味着是和 true 与 false 做全等比较，因为两者的数据类型不一致，结果必然是 false, 它们只是(\==)比较，而非(=\==)比较。</code></p><hr>]]></content>
      
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>nginx配置-http块配置</title>
      <link href="/2019/11/28/nginx%E9%85%8D%E7%BD%AE-http%E5%9D%97%E9%85%8D%E7%BD%AE/"/>
      <url>/2019/11/28/nginx%E9%85%8D%E7%BD%AE-http%E5%9D%97%E9%85%8D%E7%BD%AE/</url>
      
        <content type="html"><![CDATA[<h3 id="include"><a href="#include" class="headerlink" title="include"></a>include</h3><blockquote><ul><li>语法 include</li><li>主配置文件nginx.conf中指定包含其他扩展配置文件，从而简化nginx主配置文件，实现多个站点功能</li></ul></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">include mime.types;  #mime.types:文件扩展名与文件类型映射表</span><br><span class="line">include 相对路径</span><br></pre></td></tr></table></figure><h3 id="default-type"><a href="#default-type" class="headerlink" title="default_type"></a>default_type</h3><blockquote><ul><li>语法 default_type application/octet-stream;</li><li>避免浏览器自动播放文件 (有时对于图片、视频，浏览器会视能力，自动为用户显示或播放。这主要是由于Web服务器在返回文件本身数据的同时，返回了一些特殊的MIME类型，比如：image/jpeg（JPEG图像）,application/pdf（PDF文档）,video/mpeg（MPEG动画）。这些MIMIE类型实际上是告诉浏览器，文件数据到底是什么，这样浏览器就能更好的为用户展示数据。现在像图片、pdf、甚至是视频基本都是可以直接在浏览器中展示和播放的。但是有时，我们需要浏览器为用户下载文件而不是直接播放，而Nginx在默认配置下，会根据文件的后缀来匹配相应的MIME类型，并写入Response header，导致浏览器播放文件而不是下载，这时需要通过配置让Nginx返回的MIME类型为下面这个类型：)</li></ul></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">default_type application&#x2F;octet-stream; #任意的二进制数据</span><br></pre></td></tr></table></figure><blockquote><p>这个类型会让浏览器认为响应是普通的文件流，并提示用户下载文件</p></blockquote><h3 id="log-format"><a href="#log-format" class="headerlink" title="log_format"></a>log_format</h3><blockquote><ul><li>语法 log_format</li><li>日志格式设定</li></ul></blockquote><table><thead><tr><th align="center">参数</th><th align="center">说明</th><th align="center">示例</th></tr></thead><tbody><tr><td align="center">$remote_addr</td><td align="center">客户端地址</td><td align="center">211.28.65.253</td></tr><tr><td align="center">$remote_user</td><td align="center">客户端用户名称</td><td align="center">–</td></tr><tr><td align="center">$time_local</td><td align="center">访问时间和时区</td><td align="center">18/Jul/2012:17:00:01 +0800</td></tr><tr><td align="center">$request</td><td align="center">请求的URI和HTTP协议</td><td align="center">“GET /article-10000.html HTTP/1.1”</td></tr><tr><td align="center">$http_host</td><td align="center">请求地址，即浏览器中你输入的地址（IP或域名）</td><td align="center"><a href="http://www.wang.com" target="_blank" rel="noopener">www.wang.com</a> 192.168.100.100</td></tr><tr><td align="center">$status</td><td align="center">HTTP请求状态</td><td align="center">200</td></tr><tr><td align="center">$upstream_status</td><td align="center">upstream状态</td><td align="center">200</td></tr><tr><td align="center">$body_bytes_sent</td><td align="center">发送给客户端文件内容大小</td><td align="center">1547</td></tr><tr><td align="center">$http_referer</td><td align="center">url跳转来源</td><td align="center"><a href="https://www.baidu.com/" target="_blank" rel="noopener">https://www.baidu.com/</a></td></tr><tr><td align="center">$http_user_agent</td><td align="center">用户终端浏览器等信息</td><td align="center">“Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 5.1; Trident/4.0; SV1; GTB7.0; .NET4.0C;</td></tr><tr><td align="center">$ssl_protocol</td><td align="center">SSL协议版本</td><td align="center">TLSv1</td></tr><tr><td align="center">$ssl_cipher</td><td align="center">交换数据中的算法</td><td align="center">RC4-SHA</td></tr><tr><td align="center">$upstream_addr</td><td align="center">后台upstream的地址，即真正提供服务的主机地址</td><td align="center">10.10.10.100:80</td></tr><tr><td align="center">$request_time</td><td align="center">整个请求的总时间</td><td align="center">0.205</td></tr><tr><td align="center">$upstream_response_time</td><td align="center">请求过程中，upstream响应时间</td><td align="center">0.002</td></tr></tbody></table><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">log_format  main  &#39;$remote_addr - $remote_user [$time_local] &quot;$request&quot; &#39;</span><br><span class="line">                    &#39;$status $body_bytes_sent &quot;$http_referer&quot; &#39;</span><br><span class="line">                    &#39;&quot;$http_user_agent&quot; &quot;$http_x_forwarded_for&quot;&#39;;</span><br></pre></td></tr></table></figure><h3 id="access-log"><a href="#access-log" class="headerlink" title="access_log"></a>access_log</h3><blockquote><ul><li>语法：access_log</li><li>access log 记录了哪些用户，哪些页面以及用户浏览器、ip和其他的访问信息</li></ul></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">access_log  logs&#x2F;access.log  main;</span><br></pre></td></tr></table></figure><h3 id="error-log"><a href="#error-log" class="headerlink" title="error_log"></a>error_log</h3><blockquote><ul><li>语法：error_log</li><li>error log 记录了服务器错误日志</li><li>错误日志级别：常见的错误日志级别有[debug | info | notice | warn | error | crit | alert | emerg]，级别越高记录的信息越少。</li><li>生产场景一般是 warn | error | crit 这三个级别之一</li></ul></blockquote><p>注意：不要配置info等级较低的级别，会带来大量的磁盘I/O消耗。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">error_log  logs&#x2F;error.log;</span><br><span class="line">error_log  logs&#x2F;error.log  notice;</span><br><span class="line">error_log  logs&#x2F;error.log  info;</span><br></pre></td></tr></table></figure><hr>]]></content>
      
      
      
        <tags>
            
            <tag> Nginx </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>nginx配置-events块配置</title>
      <link href="/2019/11/28/nginx%E9%85%8D%E7%BD%AE-events%E5%9D%97%E9%85%8D%E7%BD%AE/"/>
      <url>/2019/11/28/nginx%E9%85%8D%E7%BD%AE-events%E5%9D%97%E9%85%8D%E7%BD%AE/</url>
      
        <content type="html"><![CDATA[<p><a href="https://www.snowysound.github.io/blog/2019/11/21/nginx-%E7%9A%84%E7%AE%80%E5%8D%95%E7%90%86%E8%A7%A3/" target="_blank" rel="noopener">nginx简单理解</a>中得知： nginx 文件配置主要有五个区域</p><p>nginx 配置系列第一部分：<a href="https://www.snowysound.github.io/blog/2019/11/27/nginx%E9%85%8D%E7%BD%AE-%E5%85%A8%E5%B1%80%E9%85%8D%E7%BD%AE/" target="_blank" rel="noopener">Nginx 全局配置</a></p><p>现在记录，第二部分 nginx events块配置。</p><h3 id="worker-connections"><a href="#worker-connections" class="headerlink" title="worker_connections"></a>worker_connections</h3><blockquote><ul><li>语法 worker_connections</li><li>默认值 1024</li><li>work_connections是单个worker进程允许客户端最大连接数，这个数值一般根据服务器性能和内存来制定</li></ul></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">worker_connections  1024;</span><br></pre></td></tr></table></figure><h3 id="accept-mutex"><a href="#accept-mutex" class="headerlink" title="accept_mutex"></a>accept_mutex</h3><blockquote><ul><li>语法 accept_mutex</li><li>默认值 on</li><li>设置网路连接序列化，防止惊群现象发生</li><li>意义：当一个新连接到达时，如果激活了accept_mutex，那么多个Worker将以串行方式来处理，其中有一个Worker会被唤醒，其他的Worker继续保持休眠状态；如果没有激活accept_mutex，那么所有的Worker都会被唤醒，不过只有一个Worker能获取新连接，其它的Worker会重新进入休眠状态，这就是<a href="https://en.wikipedia.org/wiki/Thundering_herd_problem" target="_blank" rel="noopener">惊群问题</a></li></ul></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">accept_mutex on;</span><br></pre></td></tr></table></figure><blockquote><p>Tips: 假设你养了一百只小鸡，现在你有一粒粮食，那么有两种喂食方法：</p></blockquote><ul><li>你把这粒粮食直接扔到小鸡中间，一百只小鸡一起上来抢，最终只有一只小鸡能得手，其它九十九只小鸡只能铩羽而归。这就相当于关闭了accept_mutex。</li><li>你主动抓一只小鸡过来，把这粒粮食塞到它嘴里，其它九十九只小鸡对此浑然不知，该睡觉睡觉。这就相当于激活了accept_mutex。</li></ul><p>可以看到此场景下，激活accept_mutex相对更好一些，让我们修改一下问题的场景，我不再只有一粒粮食，而是一盆粮食，怎么办？</p><p>此时如果仍然采用主动抓小鸡过来塞粮食的做法就太低效了，一盆粮食不知何年何月才能喂完，大家可以设想一下几十只小鸡排队等着喂食时那种翘首以盼的情景。此时更好的方法是把这盆粮食直接撒到小鸡中间，让它们自己去抢，虽然这可能会造成一定程度的混乱，但是整体的效率无疑大大增强了。</p><h3 id="multi-accept"><a href="#multi-accept" class="headerlink" title="multi_accept"></a>multi_accept</h3><blockquote><ul><li>语法 multi_accept</li><li>默认值 off</li><li>设置一个进程是否同时接受多个网络连接</li><li>详细解释：如果 multi_accept 被禁止了，nginx 一个工作进程只能同时接受一个新的连接。否则，一个工作进程可以同时接受所有的新连接。如果 nginx 使用 kqueue 连接方法，那么这条指令会被忽略，因为这个方法会报告在等待被接受的新连接的数量。</li></ul></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">multi_accept off;</span><br></pre></td></tr></table></figure><hr>]]></content>
      
      
      
        <tags>
            
            <tag> Nginx </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>nginx配置-全局配置</title>
      <link href="/2019/11/27/nginx%E9%85%8D%E7%BD%AE-%E5%85%A8%E5%B1%80%E9%85%8D%E7%BD%AE/"/>
      <url>/2019/11/27/nginx%E9%85%8D%E7%BD%AE-%E5%85%A8%E5%B1%80%E9%85%8D%E7%BD%AE/</url>
      
        <content type="html"><![CDATA[<h3 id="Nginx-全局配置"><a href="#Nginx-全局配置" class="headerlink" title="Nginx 全局配置"></a>Nginx 全局配置</h3><p>还记得在 <a href="https://www.snowysound.github.io/blog/2019/11/21/nginx-%E7%9A%84%E7%AE%80%E5%8D%95%E7%90%86%E8%A7%A3/" target="_blank" rel="noopener">nginx简单理解</a>中得知， nginx 文件配置主要有五个区域。<br>现在记录，第一部分 nginx 全局配置。</p><h4 id="user"><a href="#user" class="headerlink" title="user"></a>user</h4><blockquote><ul><li>语法：user user [group]</li><li>默认值：nobody nobody</li><li>如果主进程以root运行，Nginx将会调用setuid()/setgid()来设置用户/组。</li><li>如果没有指定组，那么将使用与用户名相同的组。</li><li>默认情况下会使用nobody用户与nobody组（或者nogroup），或者在编译时指定的–user=USER和–group=GROUP的值。</li></ul></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">user nobody; #指定nginx worker进程运行用户以及用户组.</span><br></pre></td></tr></table></figure><h4 id="worker-processes"><a href="#worker-processes" class="headerlink" title="worker_processes"></a>worker_processes</h4><blockquote><ul><li>语法：worker_process</li><li>默认值：1</li><li>指定了nginx要开启的进程数。每个nginx进程平均消耗10MB-12MB内存，根据经验，一般指定一个进程足够了，如果是多核CPU，建议指定和CPU的数量一样多的进程数即可。</li></ul></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">worker_process 1; #指定了nginx要开启的进程数</span><br></pre></td></tr></table></figure><h4 id="error-log"><a href="#error-log" class="headerlink" title="error_log"></a>error_log</h4><blockquote><p>配置参数格式：error_log /path/to/log level;<br>Nginx错误日志级别</p><ul><li>常见的错误日志级别有debug | info | notice | warn | error | crit | alert | emerg</li><li>级别越高记录的信息越少，如果不定义，默认级别为error.</li><li>它可以配置在main、http、server、location段里。</li><li>如果在配置文件中定义了两个error_log，在同一个配置段里的话会产生冲突，所以同一个段里只允许配置一个error_log。</li></ul></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">error_log &#x2F;var&#x2F;log&#x2F;nginx&#x2F;error.log crit;</span><br><span class="line">error_log &#x2F;dev&#x2F;null; #关闭error_log</span><br></pre></td></tr></table></figure><h3 id="Pid"><a href="#Pid" class="headerlink" title="Pid"></a>Pid</h3><blockquote><p>配置参数 ：pid nginx.pid</p><ul><li>用来指定进程id的存储文件位置。</li><li>可以使用kill命令来发送相关信号。</li><li>如果想要重新读取配置文件，则可以使用：</li></ul></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kill -HUP &#96;cat &#x2F;var&#x2F;run&#x2F;nginx.pid&#96;</span><br></pre></td></tr></table></figure><hr>]]></content>
      
      
      
        <tags>
            
            <tag> Nginx </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>VSCode 配置 Markdown 环境</title>
      <link href="/2019/11/26/VSCode-%E9%85%8D%E7%BD%AE-Markdown-%E7%8E%AF%E5%A2%83/"/>
      <url>/2019/11/26/VSCode-%E9%85%8D%E7%BD%AE-Markdown-%E7%8E%AF%E5%A2%83/</url>
      
        <content type="html"><![CDATA[<h3 id="为什么要使用-VS-Code"><a href="#为什么要使用-VS-Code" class="headerlink" title="为什么要使用 VS Code ?"></a>为什么要使用 VS Code ?</h3><ul><li>VS code 插件丰富，可以满足我对界面的追求</li><li>之前使用的几款 Markdown 编辑器都存在一些格式性的问题，且没有边写边展示效果的界面。<h3 id="VS-Code-Markdown-插件选择"><a href="#VS-Code-Markdown-插件选择" class="headerlink" title="VS Code Markdown 插件选择"></a>VS Code Markdown 插件选择</h3><blockquote><p>插件商店搜索</p></blockquote></li></ul><ol><li>Markdown All in One</li><li>Markdown Preview Enhanced (将原生的 markdown 预览的黑色背景换成白色)</li><li>Markdown Preview Github Styling （Github 风格的预览）</li><li>Markdown Shortcuts （快捷键）</li><li>Auto-Open Markdown Preview （自动打开预览页面）</li><li>Markdown TOC （生成目录）</li></ol><hr>]]></content>
      
      
      
        <tags>
            
            <tag> Markdown </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue 组件 </title>
      <link href="/2019/11/26/Vue-%E7%BB%84%E4%BB%B6/"/>
      <url>/2019/11/26/Vue-%E7%BB%84%E4%BB%B6/</url>
      
        <content type="html"><![CDATA[<p>提起组件复用，大家多半会想到同一个组件在多处调用，进而抽象出组件来优化代码，提高项目的可维护性。<br>但是，如果说，一个页面的功能很复杂，如果使用单页面写的话，会有 3000+的代码量的话，也要考虑组件的使用，将一个复杂页面，按模块拆分成一个个组件，从而提高代码的可读性，整洁性。</p><h3 id="单文件组件编写"><a href="#单文件组件编写" class="headerlink" title="单文件组件编写"></a>单文件组件编写</h3><h4 id="父组件与子组件的传值"><a href="#父组件与子组件的传值" class="headerlink" title="父组件与子组件的传值"></a>父组件与子组件的传值</h4><h5 id="父组件向子组件传值-props："><a href="#父组件向子组件传值-props：" class="headerlink" title="父组件向子组件传值 props："></a>父组件向子组件传值 <strong>props</strong>：</h5><p>如果说子组件页面渲染需要的值来自于父组件，则需要props进行传值。<br><strong>props</strong> 的用法：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">props: &#123;</span><br><span class="line">name: &#123;</span><br><span class="line">type: 五种基本类型（Boolean, String, Number, Array, Object）,</span><br><span class="line">default: 默认值 </span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>props</strong> 如何传值：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 父组件 通过绑定**name**来将值传给子组件</span><br><span class="line">&lt;child-component :name&#x3D;&quot;fatherData&quot;&#x2F;&gt;</span><br></pre></td></tr></table></figure><h5 id="子组件向父组件传值事件传值"><a href="#子组件向父组件传值事件传值" class="headerlink" title="子组件向父组件传值事件传值"></a>子组件向父组件传值<strong>事件传值</strong></h5><p><strong>this.$emit(eventName, optionalPayload)</strong> 的用法：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 在需要将子组件变化的值传递给父组件时使用</span><br><span class="line">this.$emit(eventName, yourChangeData)</span><br></pre></td></tr></table></figure><p><strong>父组件如何监听子组件传递变化的值：</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;child-component :eventName&#x3D;&quot;watchChildDataChange&quot;&#x2F;&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">...</span><br><span class="line">watchChildDataChange (e) &#123;</span><br><span class="line">console.log(e)</span><br><span class="line">&#x2F;&#x2F; e 就是子组件传递的变化的值</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure><h4 id="组件注册和引入"><a href="#组件注册和引入" class="headerlink" title="组件注册和引入"></a>组件注册和引入</h4><h5 id="在父组件中注册子组件"><a href="#在父组件中注册子组件" class="headerlink" title="在父组件中注册子组件"></a>在父组件中注册子组件</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">import childComponent from .&#x2F;component&#x2F;childComponent.vue</span><br><span class="line">export default &#123;</span><br><span class="line">components: &#123;</span><br><span class="line">&#39;child-component&#39;: childComponent</span><br><span class="line">&#125;</span><br><span class="line">...</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure><hr>]]></content>
      
      
      
        <tags>
            
            <tag> Vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Git 常用用法简单总结</title>
      <link href="/2019/11/26/Git-%E5%B8%B8%E7%94%A8%E7%94%A8%E6%B3%95%E7%AE%80%E5%8D%95%E6%80%BB%E7%BB%93/"/>
      <url>/2019/11/26/Git-%E5%B8%B8%E7%94%A8%E7%94%A8%E6%B3%95%E7%AE%80%E5%8D%95%E6%80%BB%E7%BB%93/</url>
      
        <content type="html"><![CDATA[<h3 id="Git-常用用法总结"><a href="#Git-常用用法总结" class="headerlink" title="Git 常用用法总结"></a>Git 常用用法总结</h3><p>在这篇文章中，我们假定你已经安装了 Git ，并已经将 Git 作为日常学习工作的一部分，所以这个作为 Git 的备忘录记录下来。</p><ol><li><p>Git 保存内容到版本库</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git add -A</span><br></pre></td></tr></table></figure></li><li><p>Git 保存内容到本地仓库</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git commit -m &quot;说明&quot;</span><br></pre></td></tr></table></figure></li><li><p>Git 保存本地内容到远程仓库</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git pull &#x2F;&#x2F; pull 远程仓库内容到本地以获取最新版本内容</span><br><span class="line">$ git push &#x2F;&#x2F; 将本地仓库内容 push 到远程仓库</span><br></pre></td></tr></table></figure></li><li><p>Git 合并分支内容到远程仓库</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git pull</span><br><span class="line">$ git merge branch_name</span><br><span class="line">$ git push</span><br></pre></td></tr></table></figure></li><li><p>Git 强制将本地分支推送到远程分支</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git push origin branch_name --force</span><br></pre></td></tr></table></figure></li><li><p>查看分支</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git branch &#x2F;&#x2F; 查看本地分支</span><br><span class="line">$ git branch -r &#x2F;&#x2F; 查看远程分支</span><br><span class="line">$ git branch -a &#x2F;&#x2F; 查看所有分支</span><br></pre></td></tr></table></figure></li><li><p>切换分支</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout -b branch_name &#x2F;&#x2F; 创建并跳转分支</span><br><span class="line">$ git checkout branch_name &#x2F;&#x2F; 切换分支</span><br></pre></td></tr></table></figure></li><li><p>删除本地分支</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git branch -d branch_name &#x2F;&#x2F; 删除本地分支</span><br><span class="line">$ git branch -D branch_name &#x2F;&#x2F; 强制删除本地分支</span><br></pre></td></tr></table></figure></li><li><p>删除远程分支</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git push origin --delete branch_name</span><br></pre></td></tr></table></figure></li></ol><h2 id="附录"><a href="#附录" class="headerlink" title="附录"></a>附录</h2><ul><li><a href="https://www.yuque.com/docs/share/6548db99-9537-47d2-835a-765c9adfd609?#" target="_blank" rel="noopener">Git原理和常用操作</a></li></ul><hr>]]></content>
      
      
      
        <tags>
            
            <tag> Git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>负载均衡</title>
      <link href="/2019/11/22/%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1/"/>
      <url>/2019/11/22/%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1/</url>
      
        <content type="html"><![CDATA[<h4 id="负载均衡的概念"><a href="#负载均衡的概念" class="headerlink" title="负载均衡的概念"></a>负载均衡的概念</h4><blockquote><p>负载平衡（Load balancing）是一种计算机技术，用来在多个计算机（计算机集群）、网络连接、CPU、磁盘驱动器或其他资源中分配负载，以达到最优化资源使用、最大化吞吐率、最小化响应时间、同时避免过载的目的。 使用带有负载平衡的多个服务器组件，取代单一的组件，可以通过冗余提高可靠性。负载平衡服务通常是由专用软件和硬件来完成。 主要作用是将大量作业合理地分摊到多个操作单元上进行执行，用于解决互联网架构中的高并发和高可用的问题。<br>简言之，如果没有负载均衡，那我们客户端跟服务器的关系将如下图所示：<br><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A100.png" alt="没有负载均衡的情况"><br>用户直接连接到web服务器，除了安全问题，对于负载而言，如果说对，服务器的访问量超过自身的承载量，或者是服务器挂掉的话。都会造成用户访问卡顿或直接无法访问的情况。</p></blockquote><h4 id="负载均衡-基于互联网服务"><a href="#负载均衡-基于互联网服务" class="headerlink" title="负载均衡 - 基于互联网服务"></a>负载均衡 - 基于互联网服务</h4><blockquote><p>负载均衡最重要的一个应用是利用多台服务器提供单一服务，这种方案有时也被称为服务器农场。通常，负载平衡主要应用于Web网站，大型的Internet Relay Chat网络，高流量的文件下载网站，NNTP（Network News Transfer Protocol）服务和DNS服务。现在负载平衡器也开始支持数据库服务，称之为数据库负载平衡器。<br>对于互联网服务，负载平衡器通常是一个软件程序，这个程序侦听一个外部端口，互联网用户可以通过这个端口来访问服务，而作为负载平衡器的软件会将用户的请求转发给后台内网服务器，内网服务器将请求的响应返回给负载平衡器，负载平衡器再将响应发送到用户，这样就向互联网用户隐藏了内网结构，阻止了用户直接访问后台（内网）服务器，使得服务器更加安全，可以阻止对核心网络栈和运行在其它端口服务的攻击。</p></blockquote><h4 id="负载均衡实现"><a href="#负载均衡实现" class="headerlink" title="负载均衡实现"></a>负载均衡实现</h4><p>简单的讲，实现一个简单的负载均衡，可以在后端引入一个负载均衡器和一个额外的 web 服务器，可以缓解，卡顿和因为服务器故障导致无法访问的问题。如下图所示：<br><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A101.png" alt="简单的负载均衡实现"><br>可以看到，用户访问负载均衡器，再由负载均衡将请求发给后端的服务器。这个时候可以解决上述的问题，但需要注意的是，此时的单点故障转移到负载均衡服务器上了。根据上述图片，我们可以得知，通过引进第二个负载均衡器可以解决这个问题。</p><h4 id="负载均衡器可以处理哪些请求？？"><a href="#负载均衡器可以处理哪些请求？？" class="headerlink" title="负载均衡器可以处理哪些请求？？"></a>负载均衡器可以处理哪些请求？？</h4><p>负载均衡器的管理员主要位下列四种类型的请求设置转发规则：</p><p>1) HTTP<br>2) HTTPS<br>3) TCP<br>4) UDP</p><h4 id="负载均衡器实现负载均衡的算法"><a href="#负载均衡器实现负载均衡的算法" class="headerlink" title="负载均衡器实现负载均衡的算法"></a>负载均衡器实现负载均衡的算法</h4><p>负载均衡器一般根据两个因素来决定要将请求转发到哪个服务器：<br>1） 要确保所选择的服务器能够对请求做出相应<br>2） 根据自己预设的规则从可用的服务器池（healthy pool）中进行选择。</p><blockquote><p>因为，负载均衡器应当只选择能正常做出响应的后端服务器，因此就需要有一种判断后端服务器是否「健康」的方法。为了监视后台服务器的运行状况，运行状态检查服务会定期尝试使用转发规则定义的协议和端口去连接后端服务器。如果，服务器无法通过健康检查，就会从池中剔除，保证流量不会被转发到该服务器，直到其再次通过健康检查为止。</p></blockquote><h5 id="算法"><a href="#算法" class="headerlink" title="算法"></a>算法</h5><p>负载均衡算法决定了，负载均衡器从健康服务器中选择的方式。</p><h6 id="Round-Robin-轮询"><a href="#Round-Robin-轮询" class="headerlink" title="Round Robin(轮询)"></a>Round Robin(轮询)</h6><blockquote><p>DNS轮循（或DNS的循环机制），是指一种负载分发，负载均衡或者容错性地提供多个冗余的IP服务主机的技术。<br>为第一个请求选择第一个服务器，依次往下，循环选择。</p></blockquote><h6 id="Scheduling算法"><a href="#Scheduling算法" class="headerlink" title="Scheduling算法"></a>Scheduling算法</h6><blockquote><p>当前，负载均衡器有各种各样的工作调度算法（用于决定将前端用户请求发送到哪一个后台服务器），最简单的是随机选择和轮循。更为高级的负载均衡器会考虑其它更多的相关因素，如后台服务器的负载，响应时间，运行状态，活动连接数，地理位置，处理能力，或最近分配的流量。</p></blockquote><p>1) <strong>Least Connections（最小连接）：</strong> 优先选择连接数最少的服务器，在普遍会话较长的情况下推荐使用。<br>2) <strong>Source：</strong> 根据请求源的 IP 的散列（hash）来选择要转发的服务器。这种方式可以一定程度上保证特定用户能连接到相同的服务器。</p><h4 id="最后"><a href="#最后" class="headerlink" title="最后"></a>最后</h4><p>解决负载均衡单点故障的方法：<br>（将第二个负载均衡器连接到第一个上，从而形成一个集群）<br><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A102.png" alt="解决负载均衡单点故障"></p><blockquote><p>当主负载均衡器发生了故障，就需要将用户请求转到第二个负载均衡器。因为 DNS 更改通常会较长的时间才能生效，因此需要能灵活解决 IP 地址重新映射的方法，比如浮动 IP（floating IP）。这样域名可以保持和相同的 IP 相关联，而 IP 本身则能在服务器之间移动。<br>一个使用浮动 IP 的负载均衡架构示意图：<br><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A103.gif" alt="实现解决负载均衡单点故障"></p></blockquote><hr>]]></content>
      
      
      
        <tags>
            
            <tag> 网络 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>nginx 的简单理解</title>
      <link href="/2019/11/21/nginx-%E7%9A%84%E7%AE%80%E5%8D%95%E7%90%86%E8%A7%A3/"/>
      <url>/2019/11/21/nginx-%E7%9A%84%E7%AE%80%E5%8D%95%E7%90%86%E8%A7%A3/</url>
      
        <content type="html"><![CDATA[<h3 id="Nginx-发展"><a href="#Nginx-发展" class="headerlink" title="Nginx 发展"></a>Nginx 发展</h3><blockquote><ul><li>Nginx是lgor Sysoev为俄罗斯访问量第二的rambler.ru站点设计开发的。从2004年发布至今，凭借开源的力量，已经接近成熟与完善。</li><li>Nginx功能丰富，可作为HTTP服务器，也可作为反向代理服务器，邮件服务器。支持FastCGI、SSL、Virtual Host、URL Rewrite、Gzip等功能。并且支持很多第三方的模块扩展。</li><li>Nginx的稳定性、功能集、示例配置文件和低系统资源的消耗让他后来居上，在全球活跃的网站中有12.18%的使用比率，大约为2220万个网站。</li></ul></blockquote><h3 id="Nginx-常用功能"><a href="#Nginx-常用功能" class="headerlink" title="Nginx 常用功能"></a>Nginx 常用功能</h3><h4 id="作为-Web-服务器："><a href="#作为-Web-服务器：" class="headerlink" title="作为 Web 服务器："></a>作为 Web 服务器：</h4><blockquote><p>相比 Apache，Nginx 使用更少的资源，支持更多的并发连接，体现更高的效率，这点使 Nginx 尤其受到虚拟主机提供商的欢迎。能够支持高达 50,000 个并发连接数的响应，感谢 Nginx 为我们选择了 epoll and kqueue 作为开发模型.</p></blockquote><h4 id="作为负载均衡服务器。"><a href="#作为负载均衡服务器。" class="headerlink" title="作为负载均衡服务器。"></a>作为负载均衡服务器。</h4><blockquote><p>Nginx 既可以在内部直接支持 Rails 和 PHP，也可以支持作为 HTTP代理服务器 对外进行服务。Nginx 用 C 编写, 不论是系统资源开销还是 CPU 使用效率都比 Perlbal 要好的多。</p></blockquote><p><strong>正向代理与反向代理的区别及意义:</strong></p><p>正向代理： 代理介于 client 和 service 之间， client 通过 proxy 去访问 &amp;&amp; service 返回资源。</p><p>反向代理：proxyService 代理 service, client 不知道 service 的存在， 将访问 service 完全交给了 proxyService (代理原始服务器）</p><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/%E6%AD%A3%E5%90%91%E4%BB%A3%E7%90%86%E4%B8%8E%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86.png" alt="正向代理与反向代理"></p><blockquote><p>Nginx在做反向代理时，提供性能稳定，并且能够提供配置灵活的转发功能。Nginx可以根据不同的正则匹配，采取不同的转发策略，比如图片文件结尾的走文件服务器，动态页面走web服务器，只要你正则写的没问题，又有相对应的服务器解决方案，你就可以随心所欲的玩。并且Nginx对返回结果进行错误页跳转，异常判断等。如果被分发的服务器存在异常，他可以将请求重新转发给另外一台服务器，然后自动去除异常服务器。</p></blockquote><h4 id="作为邮件代理服务器"><a href="#作为邮件代理服务器" class="headerlink" title="作为邮件代理服务器"></a>作为邮件代理服务器</h4><blockquote><p>Nginx 同时也是一个非常优秀的邮件代理服务器（最早开发这个产品的目的之一也是作为邮件代理服务器），Last.fm 描述了成功并且美妙的使用经验。</p></blockquote><h3 id="Nginx-作为-Web-服务器的流程理解"><a href="#Nginx-作为-Web-服务器的流程理解" class="headerlink" title="Nginx 作为 Web 服务器的流程理解"></a>Nginx 作为 Web 服务器的流程理解</h3><p><a href="https://www.cnblogs.com/lanSeGeDiao/p/9140592.html" target="_blank" rel="noopener">原文</a></p><p><strong>例：假设访问springBoot 启动的1个服务 Ip:192.168.255.255:10010 使用niginx代理后项目的请求流程理解：</strong></p><p>1、浏览器发起请求 如：<a href="http://www.snowysound.github.io" target="_blank" rel="noopener">www.snowysound.github.io</a> 浏览器就会进行域名解析，转换成IP+端口号进行访问，所以浏览器将找到hosts 文件中的对应关系，如果找不到就到中央服务器那找（肯定能找到照只要你的网站做了备案并通过），所以你只需要增加一个该文件的配置即可：192.168.255.255 <a href="http://www.snowysound.github.io" target="_blank" rel="noopener">www.snowysound.github.io</a></p><p>2、这样当你访问 <a href="http://www.snowysound.github.io" target="_blank" rel="noopener">www.snowysound.github.io</a> 该域名自动会被解析成192.168.255.255 该IP</p><p>3、在HTTP协议中，默认端口号是80 端口，所以你访问域名时IP：port 是192.168.255.255：80 这与我们实际想访问的服务器端口不匹配，这时候就需要用到nginx 了</p><p>4、在nginx 中修改conf 配置文件，监听80端口并配置类似路由的配置即可实现请求的转发。见以下配置：<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">     listen       80; #监听的端口号</span><br><span class="line">     server_name  www.wuyou.com; #域名</span><br><span class="line"> </span><br><span class="line">     proxy_set_header X-Forwarded-Host $host;</span><br><span class="line">     proxy_set_header X-Forwarded-Server $host;</span><br><span class="line">     proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</span><br><span class="line"></span><br><span class="line">     location &#x2F; &#123;</span><br><span class="line">         proxy_pass http:&#x2F;&#x2F;192.168.255.255:10010; #转发的地址</span><br><span class="line">         proxy_connect_timeout 600; #超时</span><br><span class="line">         proxy_read_timeout 600;</span><br><span class="line">     &#125;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><p></p><h3 id="Nginx-配置文件的常用配置"><a href="#Nginx-配置文件的常用配置" class="headerlink" title="Nginx 配置文件的常用配置"></a>Nginx 配置文件的常用配置</h3><h4 id="默认的-nginx-conf-配置内容"><a href="#默认的-nginx-conf-配置内容" class="headerlink" title="默认的 nginx.conf 配置内容"></a>默认的 nginx.conf 配置内容</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br></pre></td><td class="code"><pre><span class="line">#user  nobody;</span><br><span class="line">worker_processes  1;</span><br><span class="line"></span><br><span class="line">#error_log  logs&#x2F;error.log;</span><br><span class="line">#error_log  logs&#x2F;error.log  notice;</span><br><span class="line">#error_log  logs&#x2F;error.log  info;</span><br><span class="line"></span><br><span class="line">#pid        logs&#x2F;nginx.pid;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">events &#123;</span><br><span class="line">    worker_connections  1024;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">http &#123;</span><br><span class="line">    include       mime.types;</span><br><span class="line">    default_type  application&#x2F;octet-stream;</span><br><span class="line"></span><br><span class="line">    #log_format  main  &#39;$remote_addr - $remote_user [$time_local] &quot;$request&quot; &#39;</span><br><span class="line">    #                  &#39;$status $body_bytes_sent &quot;$http_referer&quot; &#39;</span><br><span class="line">    #                  &#39;&quot;$http_user_agent&quot; &quot;$http_x_forwarded_for&quot;&#39;;</span><br><span class="line"></span><br><span class="line">    #access_log  logs&#x2F;access.log  main;</span><br><span class="line"></span><br><span class="line">    sendfile        on;</span><br><span class="line">    #tcp_nopush     on;</span><br><span class="line"></span><br><span class="line">    #keepalive_timeout  0;</span><br><span class="line">    keepalive_timeout  65;</span><br><span class="line"></span><br><span class="line">    #gzip  on;</span><br><span class="line"></span><br><span class="line">    server &#123;</span><br><span class="line">        listen       80;</span><br><span class="line">        server_name  localhost;</span><br><span class="line"></span><br><span class="line">        #charset koi8-r;</span><br><span class="line"></span><br><span class="line">        #access_log  logs&#x2F;host.access.log  main;</span><br><span class="line"></span><br><span class="line">        location &#x2F; &#123;</span><br><span class="line">            root   html;</span><br><span class="line">            index  index.html index.htm;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        #error_page  404              &#x2F;404.html;</span><br><span class="line"></span><br><span class="line">        # redirect server error pages to the static page &#x2F;50x.html</span><br><span class="line">        #</span><br><span class="line">        error_page   500 502 503 504  &#x2F;50x.html;</span><br><span class="line">        location &#x3D; &#x2F;50x.html &#123;</span><br><span class="line">            root   html;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        # proxy the PHP scripts to Apache listening on 127.0.0.1:80</span><br><span class="line">        #</span><br><span class="line">        #location ~ \.php$ &#123;</span><br><span class="line">        #    proxy_pass   http:&#x2F;&#x2F;127.0.0.1;</span><br><span class="line">        #&#125;</span><br><span class="line"></span><br><span class="line">        # pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000</span><br><span class="line">        #</span><br><span class="line">        #location ~ \.php$ &#123;</span><br><span class="line">        #    root           html;</span><br><span class="line">        #    fastcgi_pass   127.0.0.1:9000;</span><br><span class="line">        #    fastcgi_index  index.php;</span><br><span class="line">        #    fastcgi_param  SCRIPT_FILENAME  &#x2F;scripts$fastcgi_script_name;</span><br><span class="line">        #    include        fastcgi_params;</span><br><span class="line">        #&#125;</span><br><span class="line"></span><br><span class="line">        # deny access to .htaccess files, if Apache&#39;s document root</span><br><span class="line">        # concurs with nginx&#39;s one</span><br><span class="line">        #</span><br><span class="line">        #location ~ &#x2F;\.ht &#123;</span><br><span class="line">        #    deny  all;</span><br><span class="line">        #&#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    # another virtual host using mix of IP-, name-, and port-based configuration</span><br><span class="line">    #</span><br><span class="line">    #server &#123;</span><br><span class="line">    #    listen       8000;</span><br><span class="line">    #    listen       somename:8080;</span><br><span class="line">    #    server_name  somename  alias  another.alias;</span><br><span class="line"></span><br><span class="line">    #    location &#x2F; &#123;</span><br><span class="line">    #        root   html;</span><br><span class="line">    #        index  index.html index.htm;</span><br><span class="line">    #    &#125;</span><br><span class="line">    #&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    # HTTPS server</span><br><span class="line">    #</span><br><span class="line">    #server &#123;</span><br><span class="line">    #    listen       443 ssl;</span><br><span class="line">    #    server_name  localhost;</span><br><span class="line"></span><br><span class="line">    #    ssl_certificate      cert.pem;</span><br><span class="line">    #    ssl_certificate_key  cert.key;</span><br><span class="line"></span><br><span class="line">    #    ssl_session_cache    shared:SSL:1m;</span><br><span class="line">    #    ssl_session_timeout  5m;</span><br><span class="line"></span><br><span class="line">    #    ssl_ciphers  HIGH:!aNULL:!MD5;</span><br><span class="line">    #    ssl_prefer_server_ciphers  on;</span><br><span class="line"></span><br><span class="line">    #    location &#x2F; &#123;</span><br><span class="line">    #        root   html;</span><br><span class="line">    #        index  index.html index.htm;</span><br><span class="line">    #    &#125;</span><br><span class="line">    #&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="nginx-conf-文件的结构"><a href="#nginx-conf-文件的结构" class="headerlink" title="nginx.conf 文件的结构"></a>nginx.conf 文件的结构</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">main  </span><br><span class="line">events &#123;  </span><br><span class="line">  ....</span><br><span class="line">&#125;</span><br><span class="line">http &#123;  </span><br><span class="line">  upstream myproject_svr &#123;</span><br><span class="line">    .....</span><br><span class="line">  &#125;</span><br><span class="line">  server  &#123;</span><br><span class="line">    location &#123;</span><br><span class="line">        ....</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  server  &#123;</span><br><span class="line">    location &#123;</span><br><span class="line">        ....</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  ....</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Nginx 配置文件主要分为五个区域：</strong></p><p>main(全局设置)、events (nginx 工作模式)、http (http 设置)、loacation (URL 匹配)、upstream (负载均衡服务器设置)</p><p><strong>各个区域的说明：</strong></p><table><thead><tr><th align="center">名称</th><th align="center">说明</th><th align="center">备注</th></tr></thead><tbody><tr><td align="center">全局块</td><td align="center">范围：从开始到 events 块之间的一部分内容；主要内容：设置一些影响 Nginx 服务器整体运行的配置指令；作用域是 Nginx 服务器全局。</td><td align="center">作用：配置 Ngnix 服务器的用户组、worker process 数、Nginx 进程 PID 存放路径、日志的存放路径和类型已经配置文件引入等。</td></tr><tr><td align="center">events 块</td><td align="center">events 块的指令主要影响Nginx服务器与用户的网络链接。</td><td align="center">作用：是否开启多worker process下的网络连接进行序列化，是否允许同时接收多个网络连接，选取那种事件驱动模型处连接请求，每个worker process可以同时支持的最大连接数等。</td></tr><tr><td align="center">http 块</td><td align="center">http 块是 Nginx 服务器配置中的重要部分，代理、缓存和日志定义等绝大多数的功能和第三方模块的配置都可以放在这模块中。</td><td align="center">作用包括：文件引入、MIME-Type 定义、日志自定义、是否使用 sendfile 传输文件、连接超时时间、单连接请求数上限等。</td></tr><tr><td align="center">server 块</td><td align="center">server 块，虚拟主机（虚拟服务器）。</td><td align="center">作用：使得 Nginx 服务器可以在同一台服务器上至运行一组 Nginx 进程，就可以运行多个网站。</td></tr><tr><td align="center">location 块</td><td align="center">location 块是 server 块的一个指令。</td><td align="center">作用：基于 Nginx 服务器结束到的请求字符串， 虚拟主机名称（ip, 域名），url 匹配，对的顶请求进行处理</td></tr></tbody></table><p>各区域在配置文件上的显示</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line">#### 全局块 开始 ####</span><br><span class="line">user nobody nobody;                 #配置允许运行nginx服务器的用户和用户组</span><br><span class="line">worker_processes 3;                 #配置允许nginx进程生产的worker process数</span><br><span class="line">error_log logs&#x2F;error.log;           #配置nginx服务器运行对错误日志存放路径</span><br><span class="line">pid nginx.pid;                      #配置nginx服务器运行时的pid文件存放路径和名称</span><br><span class="line">#### 全局块 结束 ####</span><br><span class="line"></span><br><span class="line">#### events块 开始 ####</span><br><span class="line">events</span><br><span class="line">&#123;</span><br><span class="line">    ues epoll;                      #配置事件驱动模型</span><br><span class="line">    worker_connections 1024;        #配置最大连接数</span><br><span class="line">&#125;</span><br><span class="line">#### events块 结束 ####</span><br><span class="line"></span><br><span class="line">#### http块 开始 ####</span><br><span class="line">http</span><br><span class="line">&#123;</span><br><span class="line">    include mime.types;             #定义MIME-Type</span><br><span class="line">    default_type application&#x2F;octet-stream;   </span><br><span class="line">    sendfile on；                   #配置允许使用sendfile方式传输</span><br><span class="line">    keepalive_timeout 65;           #配置连接超时时间</span><br><span class="line">    log_format access.log &#39;$remote_addr-[$time_local]-&quot;$request&quot;-&quot;$http_user_agent&quot;&#39;;     #配置请求处理日志的格式</span><br><span class="line"></span><br><span class="line">    #### server块 开始 ####</span><br><span class="line">    ##配置虚拟主机 myServerl</span><br><span class="line">    server</span><br><span class="line">    &#123;</span><br><span class="line">        listen  8081;              #配置监听端口和主机名称</span><br><span class="line">        server_name myServer1;</span><br><span class="line"></span><br><span class="line">        access_log  &#x2F;myweb&#x2F;server1&#x2F;logaccess.log;#配置请求处理日志存放路径</span><br><span class="line">        error_page 404  &#x2F;404.html;     #配置错误页面</span><br><span class="line"></span><br><span class="line">        location  &#x2F;server1&#x2F;location1 &#123; #配置处理／server1&#x2F;location1 请求的location</span><br><span class="line">            root  &#x2F;myweb;</span><br><span class="line">            index index.svr1-loc1.htm;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        location  &#x2F;server1&#x2F;location2 &#123; #配置处理／server1&#x2F;location2 请求的location</span><br><span class="line">            root  &#x2F;myweb;</span><br><span class="line">            index index.svr1-loc2.htm;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    server</span><br><span class="line">    &#123;</span><br><span class="line">        listen  8082;</span><br><span class="line">        server_name  192.168.1.3;</span><br><span class="line">        access_log  &#x2F;myweb&#x2F;server2&#x2F;log&#x2F;access.log;</span><br><span class="line">        error_log  404  &#x2F;404.html;    #对错误页面404.html 做了定向配置</span><br><span class="line">        location  &#x2F;server2&#x2F;location1 </span><br><span class="line">        &#123;</span><br><span class="line">            root  &#x2F;myweb;</span><br><span class="line">            index index.svr2-loc1.htm;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        location  &#x2F;svr2&#x2F;loc2 </span><br><span class="line">        &#123;</span><br><span class="line">            alias  &#x2F;myweb&#x2F;server2&#x2F;location2;       #对location的URL进行更改</span><br><span class="line">            index index.svr2-loc1.htm;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        location &#x3D; ／404.html                  #配置错误页面转向</span><br><span class="line">        &#123;</span><br><span class="line">            root  &#x2F;myweb&#x2F;;</span><br><span class="line">            index 404.html;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    #### server块 结束 ####</span><br><span class="line">&#125;</span><br><span class="line">### http块 结束 ####</span><br></pre></td></tr></table></figure><hr>]]></content>
      
      
      
        <tags>
            
            <tag> Nginx </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS 之 Promise</title>
      <link href="/2019/11/21/JS-%E4%B9%8B-Promise/"/>
      <url>/2019/11/21/JS-%E4%B9%8B-Promise/</url>
      
        <content type="html"><![CDATA[<h3 id="序言"><a href="#序言" class="headerlink" title="序言"></a>序言</h3><blockquote><p>Promise 是异步编程的一种解决方案，比传统的解决方案——回调函数和事件——更合理且更强大。它最早由社区提出并实现，ES6将其写进了语言标准，统一了用法，并原生提供了Promise对象。</p></blockquote><h3 id="JS-事件执行的过程"><a href="#JS-事件执行的过程" class="headerlink" title="JS 事件执行的过程"></a>JS 事件执行的过程</h3><ol><li><p>对象的状态不受外界影响 （3种状态）</p><ul><li>Pending状态（进行中）</li><li>Fulfilled状态（已成功）</li><li>Rejected状态（已失败）</li></ul></li><li><p>一旦状态改变就不会再变 （两种状态改变：成功或失败）</p><ul><li>Pending -&gt; Fulfilled</li><li>Pending -&gt; Rejected<h3 id="部分浏览器（IE）不识别-Promise-的解决方法"><a href="#部分浏览器（IE）不识别-Promise-的解决方法" class="headerlink" title="部分浏览器（IE）不识别 Promise 的解决方法"></a>部分浏览器（IE）不识别 Promise 的解决方法</h3></li></ul></li><li><p>安装 es6-promise</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install es6-promise -S</span><br></pre></td></tr></table></figure></li><li><p>main.js 文件中引入</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">require(&#39;es6-promise&#39;).polyfill()</span><br></pre></td></tr></table></figure><h3 id="Promise-用法"><a href="#Promise-用法" class="headerlink" title="Promise 用法"></a>Promise 用法</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">function test(resolve, reject) &#123;</span><br><span class="line">    var timeOut &#x3D; Math.random() * 2;</span><br><span class="line">    log(&#39;set timeout to: &#39; + timeOut + &#39; seconds.&#39;);</span><br><span class="line">    setTimeout(function () &#123;</span><br><span class="line">        if (timeOut &lt; 1) &#123;</span><br><span class="line">            log(&#39;call resolve()...&#39;);</span><br><span class="line">            resolve(&#39;200 OK&#39;);</span><br><span class="line">        &#125;</span><br><span class="line">        else &#123;</span><br><span class="line">            log(&#39;call reject()...&#39;);</span><br><span class="line">            reject(&#39;timeout in &#39; + timeOut + &#39; seconds.&#39;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;, timeOut * 1000);</span><br><span class="line">&#125;</span><br><span class="line">var testPromise &#x3D; new Promise(test)</span><br><span class="line">testPromise.then(function)</span><br><span class="line">testPromise.catch(function)</span><br></pre></td></tr></table></figure></li></ol><p><strong>可见Promise最大的好处是在异步执行的流程中，把执行代码和处理结果的代码清晰地分离了</strong></p><h3 id="最后-Promise-的优缺点"><a href="#最后-Promise-的优缺点" class="headerlink" title="最后 Promise 的优缺点"></a>最后 Promise 的优缺点</h3><table><thead><tr><th align="center">优点</th><th align="center">缺点</th></tr></thead><tbody><tr><td align="center">解决回调</td><td align="center">无法监测进行状态</td></tr><tr><td align="center">链式调用</td><td align="center">新建立即执行且无法取消</td></tr><tr><td align="center">减少嵌套</td><td align="center">内部错误无法抛出</td></tr></tbody></table><hr>]]></content>
      
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS 之 计时器和倒计时</title>
      <link href="/2019/11/20/JS-%E4%B9%8B-%E8%AE%A1%E6%97%B6%E5%99%A8%E5%92%8C%E5%80%92%E8%AE%A1%E6%97%B6/"/>
      <url>/2019/11/20/JS-%E4%B9%8B-%E8%AE%A1%E6%97%B6%E5%99%A8%E5%92%8C%E5%80%92%E8%AE%A1%E6%97%B6/</url>
      
        <content type="html"><![CDATA[<h4 id="计时器"><a href="#计时器" class="headerlink" title="计时器"></a>计时器</h4><p><strong>setInterval()</strong> 方法<br>setInterval() 方法在每个给定的时间间隔重复给定的函数。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">window.setInterval(function, milliseconds);</span><br><span class="line">&#x2F;* 举个栗子：*</span><br><span class="line">window.setInterval(()&#x3D;&gt;&#123;</span><br><span class="line">    ...content...</span><br><span class="line">&#125;, 1000 * 2)</span><br><span class="line">*&#x2F;</span><br></pre></td></tr></table></figure><p><strong>特别注意：</strong><br>开启计时器后，除非主动清除，否则会一直存在。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">this.time &#x3D; window.setInterval(function, milliseconds);</span><br><span class="line">&#x2F;&#x2F; 清除计时器的操作</span><br><span class="line">window.clearInterval(this.time)</span><br></pre></td></tr></table></figure><p>Tips: vue中存在一个方法（beforeRouteLeave）,可以实现当离开当前页面时进行的操作：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">beforeRouteLeave (to, form, next) &#123;</span><br><span class="line">window.clearInterval(this.time)</span><br><span class="line">next()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>上述方法，可以实现当离开当前页面时，清除自己添加的计时器，避免影响到其他页面。</p><h4 id="倒计时"><a href="#倒计时" class="headerlink" title="倒计时"></a>倒计时</h4><p>setTimeout()方法， 等待指定的毫秒数后执行函数(只执行一次)。<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"> window.setTimeout(function, milliseconds);</span><br><span class="line">&#x2F;* 举个栗子：*</span><br><span class="line">window.setTimeout(()&#x3D;&gt;&#123;</span><br><span class="line">    ...content...</span><br><span class="line">&#125;, 1000 * 2)</span><br><span class="line">*&#x2F;</span><br></pre></td></tr></table></figure><br>倒计时虽然只执行一次，但是也可以进行关闭。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">this.time &#x3D; window.setTimeout(function, milliseconds);</span><br><span class="line">&#x2F;&#x2F; 清除计时器的操作</span><br><span class="line">window.clearTimeout(this.time)</span><br></pre></td></tr></table></figure><p></p><h4 id="最后"><a href="#最后" class="headerlink" title="最后"></a>最后</h4><p>1）计时器开启后是n毫秒数后执行第一次，然后每隔n毫秒就执行一次函数<br>2）倒计时开启后是n毫秒数后执行一次，并且只执行一次<br>3）window.setInterval(function, milliseconds)与window.setTimeout(function, milliseconds)方法均可以不带window前缀来写。</p><hr>]]></content>
      
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hosts 的简单配置</title>
      <link href="/2019/11/20/hosts-%E7%9A%84%E7%AE%80%E5%8D%95%E9%85%8D%E7%BD%AE/"/>
      <url>/2019/11/20/hosts-%E7%9A%84%E7%AE%80%E5%8D%95%E9%85%8D%E7%BD%AE/</url>
      
        <content type="html"><![CDATA[<h4 id="hosts-文件位置"><a href="#hosts-文件位置" class="headerlink" title="hosts 文件位置"></a>hosts 文件位置</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">C:\Windows\System32\drivers\etc</span><br></pre></td></tr></table></figure><p><strong>C:\Windows\System32\drivers\etc</strong>里面的 hosts 文件</p><h4 id="hosts-文件使用简介"><a href="#hosts-文件使用简介" class="headerlink" title="hosts 文件使用简介"></a>hosts 文件使用简介</h4><p>1）通过记事本 打开 host 文件<br>2）host文件的作用是，保存 IP 地址和 Host name (主机名)的映射关系（所以，host 是一个映射 IP 地址和 Host name （主机名）的规定）<br>3）host文件内容编写规范： 一行只能写一个映射关系； IP 地址写在前，Host name （主机名）写在后；注释用#</p><h4 id="为什么要配置-hosts"><a href="#为什么要配置-hosts" class="headerlink" title="为什么要配置 hosts"></a>为什么要配置 hosts</h4><h5 id="预备知识：（DNS（Domain-Name-System））"><a href="#预备知识：（DNS（Domain-Name-System））" class="headerlink" title="预备知识：（DNS（Domain Name System））"></a>预备知识：（DNS（Domain Name System））</h5><p>DNS(Domain Name System) 是域名系统。它是由解析器和服务器组成的。域名服务器是指保存有该网络中所有的主机域名和对应的 IP 地址，并具有将域名转化为 IP 地址功能的服务器。<br><strong>NOW 了解一下 Hosts 在 Windows 下的工作过程</strong></p><blockquote><p>在网络上访问一个网站，首先要通过 DNS (Domain Name System) 服务器吧网络域名(<a href="http://www.XXX.com" target="_blank" rel="noopener">www.XXX.com</a>) 解析成 XXX.XXX.XXX.XXX的 IP 地址后，我们的计算机才能够访问。要是对于每一个域名请求，我们都要等待 DNS(Domain Name System)服务器 解析后返回 IP 信息，这样访问网络的效率机会降低。而 Hosts 文件存在的意义就是提高解析效率。根据 Windows 系统规定，在进行 DNS 请求之前， Windows系统会先检查自己的 Hosts 文件中是否有这个地址的映射关系， 如果有则先调用这个IP的映射关系， 如果没有，再向已知的 DNS 域名服务器提出域名解析。简言之，Hosts 的请求级别高于 DNS。<br><strong>Hosts 文件的初始内容</strong></p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"># Copyright (c) 1993-2009 Microsoft Corp.</span><br><span class="line">#</span><br><span class="line"># This is a sample HOSTS file used by Microsoft TCP&#x2F;IP for Windows.</span><br><span class="line">#</span><br><span class="line"># This file contains the mappings of IP addresses to host names. Each</span><br><span class="line"># entry should be kept on an individual line. The IP address should</span><br><span class="line"># be placed in the first column followed by the corresponding host name.</span><br><span class="line"># The IP address and the host name should be separated by at least one</span><br><span class="line"># space.</span><br><span class="line">#</span><br><span class="line"># Additionally, comments (such as these) may be inserted on individual</span><br><span class="line"># lines or following the machine name denoted by a &#39;#&#39; symbol.</span><br><span class="line">#</span><br><span class="line"># For example:</span><br><span class="line">#</span><br><span class="line"># 102.54.94.97 rhino.acme.com # source server</span><br><span class="line"># 38.25.63.10 x.acme.com # x client host</span><br><span class="line"># localhost name resolution is handled within DNS itself.</span><br><span class="line"># 127.0.0.1 localhost</span><br><span class="line"># ::1 localhost</span><br></pre></td></tr></table></figure><h4 id="Hosts-文件的具体作用"><a href="#Hosts-文件的具体作用" class="headerlink" title="Hosts 文件的具体作用"></a>Hosts 文件的具体作用</h4><p>1）加快域名解析<br>根据预备知识，我们可以知道， Hosts 文件的优先级要高于 DNS （Domaim Name System） 系统，所以，对于我们经常访问的网站，我们可以通过在 Hosts 文件中配置域名和 IP 的映射关系，使我们在输入域名时，可以很快解析出 IP 地址，而不用请求网络上的 DNS<br>（Domain Name System）服务器。<br>2）方便局域网用户<br>在很多单位的居于网中，会有服务器提供给用户使用，但由于局域网中一般很少架设 DNS （Domain Name System）服务器， 访问这些服务器要输入难记的 IP 地址，对于很多人来说比较麻烦。现在，可以通过给这些 IP 起一些容易记住的名字，然后在 Hosts 文件中建立 IP 映射，以后可以方便输入。<br>3）屏蔽网站<br>现在有一些网站不符合自己的需求，或者是网站本身存在着安全性的问题。对于这些网站，我们可以通过 Hosts 文件，把这些网站的域名映射到错误的 IP 或自己计算机的 IP, 从而达到屏蔽的作用<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># 计算机解析域名时，解析到本机 IP 或错误的 IP, 从而达到屏蔽的目的</span><br><span class="line">127.0.0.1  网站域名 #屏蔽的网站的域名</span><br><span class="line">0.0.0.1   网站域名 #屏蔽的网站的域名</span><br></pre></td></tr></table></figure><br>4）顺利连接系统<br>对于一些服务器要连接一些数据库服务器，在访问时如果直接输入 IP 地址是不能访问的，只能输入服务器名才能访问。这时，我们配置好 Hosts文件， 再输入服务器名字就可以顺利访问了<br><strong>特别注意：Hosts 文件配置的映射是静态的，如果网络上的计算机更改了，请及时更新 IP 地址，否则将不能访问</strong><p></p><hr>]]></content>
      
      
      
        <tags>
            
            <tag> 计算机 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue 中的 nextTick </title>
      <link href="/2019/11/20/Vue-%E4%B8%AD%E7%9A%84-nextTick/"/>
      <url>/2019/11/20/Vue-%E4%B8%AD%E7%9A%84-nextTick/</url>
      
        <content type="html"><![CDATA[<h3 id="nextTick-的用法？"><a href="#nextTick-的用法？" class="headerlink" title="nextTick 的用法？"></a>nextTick 的用法？</h3><blockquote><p>在下次 DOM 更新循环结束之后执行延迟回调。在修改数据之后立即使用这个方法，获取更新后的 DOM。</p></blockquote><p>也就是说，通过 nextTick 我们可以在 DOM 数据更新后进行我们的操作，避免因为异步的问题，带来的各种错误情况的产生。</p><p>在支持 Promise 的浏览器中，nextTick 可以作为一个 Promise 使用。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Vue.nextTick().then(function) &#x2F;&#x2F; 当 DOM 更新后函数起作用</span><br></pre></td></tr></table></figure><hr>]]></content>
      
      
      
        <tags>
            
            <tag> Vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CSS滚动条自动滚动到页面底部</title>
      <link href="/2019/11/19/CSS%E6%BB%9A%E5%8A%A8%E6%9D%A1%E8%87%AA%E5%8A%A8%E6%BB%9A%E5%8A%A8%E5%88%B0%E9%A1%B5%E9%9D%A2%E5%BA%95%E9%83%A8/"/>
      <url>/2019/11/19/CSS%E6%BB%9A%E5%8A%A8%E6%9D%A1%E8%87%AA%E5%8A%A8%E6%BB%9A%E5%8A%A8%E5%88%B0%E9%A1%B5%E9%9D%A2%E5%BA%95%E9%83%A8/</url>
      
        <content type="html"><![CDATA[<p><a href="https://www.imooc.com/article/17571" target="_blank" rel="noopener">原文</a></p><h4 id="预备知识："><a href="#预备知识：" class="headerlink" title="预备知识："></a>预备知识：</h4><p>1）网页可见区域高：document.body.clientHeight<br>2）网页可见区域高（包括边线的高）：document.body.offsetHeight<br>3）网页正文全文高：document.body.scrollHeight<br>4）网页被卷去的高：document.body.scrollTop<br>5）屏幕分辨率高：window.screen.height</p><h5 id="网页可见区域高-clientHeight"><a href="#网页可见区域高-clientHeight" class="headerlink" title="网页可见区域高(clientHeight)"></a>网页可见区域高(clientHeight)</h5><p>clientHeight和offsetHeight属性和元素的滚动、位置没有关系它代表元素的高度。<br>clientHeight：包括padding但不包括border、水平滚动条、margin的元素的高度。对于inline的元素这个属性一直是0，单位px，只读元素。<br><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/clientHeight.png" alt="clientHeight"></p><h5 id="网页可见区域高（包括边线的高）（offsetHeight）"><a href="#网页可见区域高（包括边线的高）（offsetHeight）" class="headerlink" title="网页可见区域高（包括边线的高）（offsetHeight）"></a>网页可见区域高（包括边线的高）（offsetHeight）</h5><p>offsetHeight: 包括padding、border、水平滚动条，但不包括margin的元素的高度。对于inline的元素这个属性一直是0，单位px，只读元素。<br><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/offsetHeight.png" alt="clientHeight"></p><h5 id="网页正文全文高（scrollHeight）"><a href="#网页正文全文高（scrollHeight）" class="headerlink" title="网页正文全文高（scrollHeight）"></a>网页正文全文高（scrollHeight）</h5><p>当本元素的子元素比本元素高且overflow=scroll时，本元素会scroll，这时：<br>scrollHeight: 因为子元素比父元素高，父元素不想被子元素撑的一样高就显示出了滚动条，在滚动的过程中本元素有部分被隐藏了，scrollHeight代表包括当前不可见部分的元素的高度。而可见部分的高度其实就是clientHeight，也就是scrollHeight&gt;=clientHeight恒成立。在有滚动条时讨论scrollHeight才有意义，在没有滚动条时scrollHeight==clientHeight恒成立。单位px，只读元素。<br><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/offsetHeight.png" alt="offsetHeight"></p><h5 id="网页别卷去的高（scrollTop）"><a href="#网页别卷去的高（scrollTop）" class="headerlink" title="网页别卷去的高（scrollTop）"></a>网页别卷去的高（scrollTop）</h5><p>scrollTop: 代表在有滚动条时，滚动条向下滚动的距离也就是元素顶部被遮住部分的高度。在没有滚动条时scrollTop==0恒成立。单位px，可读<strong>可设置</strong>。<br><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/scrollTop.png" alt="scrollTop"></p><h5 id="当前元素距离最近的父元素顶部的距离（offsetTop）"><a href="#当前元素距离最近的父元素顶部的距离（offsetTop）" class="headerlink" title="当前元素距离最近的父元素顶部的距离（offsetTop）"></a>当前元素距离最近的父元素顶部的距离（offsetTop）</h5><p>offsetTop: 当前元素顶部距离最近父元素顶部的距离,和有没有滚动条没有关系。单位px，只读元素。<br><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/offsetTop.png" alt="offsetTop"></p><h4 id="CSS滚动条自动滚动到页面底部"><a href="#CSS滚动条自动滚动到页面底部" class="headerlink" title="CSS滚动条自动滚动到页面底部"></a>CSS滚动条自动滚动到页面底部</h4><p>有了上面的预备知识，我们可以很轻易的看到，如果，我们希望滚动条出现在最底部，实现一个实时滚动的效果</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">html:</span><br><span class="line">&lt;div ref&#x3D;&quot;scroll&quot;&gt;</span><br><span class="line">...content...</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line">script:</span><br><span class="line">this.$refs.scroll.scrollTop &#x3D; this.$refs.scroll.scrollHeight</span><br><span class="line">(scrollTop + clientHeight) &lt;&#x3D; scrollHeight</span><br></pre></td></tr></table></figure><hr>]]></content>
      
      
      
        <tags>
            
            <tag> CSS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS 选中点击复制</title>
      <link href="/2019/11/03/JS-%E9%80%89%E4%B8%AD%E7%82%B9%E5%87%BB%E5%A4%8D%E5%88%B6/"/>
      <url>/2019/11/03/JS-%E9%80%89%E4%B8%AD%E7%82%B9%E5%87%BB%E5%A4%8D%E5%88%B6/</url>
      
        <content type="html"><![CDATA[<h4 id="点击复制场景：（vue）"><a href="#点击复制场景：（vue）" class="headerlink" title="点击复制场景：（vue）"></a>点击复制场景：（vue）</h4><p>点击网页文字，复制文字到剪切板。为了方便人们的复制粘贴，出现了点击即复制的需求。接下来，我将记录js实现点击复制功能的实现。</p><ul><li><p>click 事件,将要复制的内容做参数传递到方法中</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@click="copy(content)"</span><br></pre></td></tr></table></figure></li><li><p>copy方法实现将内容复制到剪切板</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">copy (content) &#123;</span><br><span class="line">  <span class="keyword">const</span> input = <span class="built_in">document</span>.createElement(<span class="string">'input'</span>)</span><br><span class="line">    <span class="built_in">document</span>.body.appendChild(input)</span><br><span class="line">    input.setAttribute(<span class="string">'value'</span>, content)</span><br><span class="line">    input.select()</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">document</span>.execCommand(<span class="string">'copy'</span>)) &#123;</span><br><span class="line">      <span class="built_in">document</span>.execCommand(<span class="string">'copy'</span>)</span><br><span class="line">      <span class="keyword">this</span>.$message.success(<span class="string">'复制成功'</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">document</span>.body.removeChild(input)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><hr>]]></content>
      
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>TCP 的三次握手和四次握手</title>
      <link href="/2019/11/02/TCP-%E7%9A%84%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B%E5%92%8C%E5%9B%9B%E6%AC%A1%E6%8F%A1%E6%89%8B/"/>
      <url>/2019/11/02/TCP-%E7%9A%84%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B%E5%92%8C%E5%9B%9B%E6%AC%A1%E6%8F%A1%E6%89%8B/</url>
      
        <content type="html"><![CDATA[<h2 id="准备知识"><a href="#准备知识" class="headerlink" title="准备知识"></a>准备知识</h2><p>（1）ACK ，TCP协议规定只有ACK=1时有效，也规定连接建立后所有发送的报文的ACK必须为1。</p><p>（2）SYN，在连接建立时用来同步序号。当SYN=1而ACK=0时，表明这是一个连接请求报文。对方若同意建立连接，则应在响应报文中使SYN=1和ACK=1，因此SYN置1就表示这是一个连接请求或连接接受报文。</p><p>（3）FIN，用来释放一个连接。当 FIN = 1 时，表明此报文段的发送方的数据已经发送完毕，并要求释放连接。</p><h4 id="三次握手和四次挥手示意图"><a href="#三次握手和四次挥手示意图" class="headerlink" title="三次握手和四次挥手示意图"></a>三次握手和四次挥手示意图</h4><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B.png" alt="三次握手"></p><h5 id="三次握手详细示意图"><a href="#三次握手详细示意图" class="headerlink" title="三次握手详细示意图"></a>三次握手详细示意图</h5><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B02.png" alt="三次握手"></p><p>（1）首先由Client发出请求连接即 SYN=1 ACK=0，TCP规定SYN=1时不能携带数据，但要消耗一个序号，因此声明自己的序号是 seq=x。</p><p>（2）然后 Server 进行回复确认，即 SYN=1 ACK=1 seq=y，ack=x+1。</p><p>（3）再然后 Client 再进行一次确认，但不用SYN 了，这时即为 ACK=1，seq=x+1， ack=y+1。</p><h5 id="三次握手中的问题"><a href="#三次握手中的问题" class="headerlink" title="三次握手中的问题"></a>三次握手中的问题</h5><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B03.png" alt="三次握手"></p><h4 id="四次握手详细示意图"><a href="#四次握手详细示意图" class="headerlink" title="四次握手详细示意图"></a>四次握手详细示意图</h4><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/%E5%9B%9B%E6%AC%A1%E6%8F%A1%E6%89%8B.png" alt="四次握手"></p><p>（1）当客户端没有东西要发送时就要释放连接的时候（注意这里首先提出中断连接端可以是Client端，也可以是Server端），客户端会发送一个FIN为1的没有数据的报文，进入FIN_WAIT状态，服务器收到后会给客户端一个确认，这时客户端那边不再发送数据信息（但仍可接收信息）。</p><p>（2）客户端收到服务器的确认后进入等待状态，等待服务器请求释放连接。 服务器数据发送完成后就向客户端请求连接释放（也是用FIN=1 表示，并且用ack = u+1(如图））， 客户端收到后回复一个确认信息，又要进入 TIME_WAIT 状态（等待2MSL 时间，最大报文生存时间）。服务器收到后关闭连接。</p><p>最后这里为什么还要等待呢？是防止最后一个ACK的丢失，服务器在超时后会重新发送FIN。如果客户端这时收到FIN就知道最后一个ACK丢失了，会重发。否则客户端等待一段时间后依然没有收到回复，则证明Server端已正常关闭，那好，我客户端也可以关闭连接了。</p><h4 id="最后是一些细节总结"><a href="#最后是一些细节总结" class="headerlink" title="最后是一些细节总结"></a>最后是一些细节总结</h4><p>（1）TIME_WAIT状态中所需要的时间是依赖于实现方法的。典型的值为30秒、1分钟和2分钟。</p><p>（2）服务器存在一个保活状态，即如果客户端突然故障死机了，那B那边的连接资源什么时候能释放呢？</p><p>就是保活时间到了后，B会发送探测信息，以决定是否释放连接。</p><p>（3）为什么连接的时候是三次握手，关闭的时候却是四次挥手？</p><p>关闭连接时，当Server端收到FIN报文时，很可能数据信息没有传完并不会立即关闭连接，所以只能先回复一个ACK报文（告诉Client端，”你发的FIN报文我收到了”）。只有等到Server端所有的报文都发送完了，我才能发送FIN报文，因此不能一起发送。故需要四步挥手。</p><hr>]]></content>
      
      
      
        <tags>
            
            <tag> 网络 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>一次完整的网络请求的过程</title>
      <link href="/2019/10/19/%E4%B8%80%E6%AC%A1%E5%AE%8C%E6%95%B4%E7%9A%84%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82%E7%9A%84%E8%BF%87%E7%A8%8B/"/>
      <url>/2019/10/19/%E4%B8%80%E6%AC%A1%E5%AE%8C%E6%95%B4%E7%9A%84%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82%E7%9A%84%E8%BF%87%E7%A8%8B/</url>
      
        <content type="html"><![CDATA[<p><a href="https://www.cnblogs.com/amingxiansen/p/9072115.html" target="_blank" rel="noopener">原文：一碗绿豆汤</a></p><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>从我们在浏览器的地址栏输入<a href="http://www.baidu.com" target="_blank" rel="noopener">http://www.baidu.com</a> 后回车，到我们看到百度的主页，这中间经历了什么呢？<br>简单来讲是通过了：域名解析、TCP的三次握手、建立TCP连接后发起HTTP请求、服务器响应HTTP请求、浏览器解析html代码，同时请求html代码中的资源（如js、css、图片等）、最后浏览器对页面进行渲染并呈现给用户。</p><h2 id="域名解析"><a href="#域名解析" class="headerlink" title="域名解析"></a>域名解析</h2><p>以Chrome浏览器为例，Chrome会解析域名对应的IP地址。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">（1）Chrome浏览器会首先搜索浏览器自身的DNS缓存（可以使用 chrome:&#x2F;&#x2F;net-internals&#x2F;#dns 来进行查看），浏览器自身的DNS缓存有效期比较短，且容纳有限，大概是1000条。如果自身的缓存中存在www.baidu.com 对应的IP地址并且没有过期，则解析成功。</span><br><span class="line"></span><br><span class="line">（2）如果（1）中未找到，那么Chrome会搜索操作系统自身的DNS缓存（可以在命令行下使用 ipconfig &#x2F;displaydns 查看）。如果找到且没有过期则成功。</span><br><span class="line"></span><br><span class="line">（3）如果（2）中未找到，那么尝试读取位于C:\Windows\System32\drivers\etc下的hosts文件，如果找到对应的IP地址则解析成功。</span><br><span class="line"></span><br><span class="line">（4）如果（3）中未找到，浏览器首先会找TCP&#x2F;IP参数中设置的本地DNS服务器，如果要查询的域名包含在本地配置的区域资源中，则完成域名解析，否则根据本地DNS服务器会请求根DNS服务器。</span><br><span class="line"></span><br><span class="line">（5）本地DNS会把请求发至13台根DNS，根DNS服务器收到请求后会返回负责这个域名(.net)的服务器的一个IP，本地DNS服务器使用该IP信息联系负责.net域的这台服务器。这台负责.net域的服务器收到请求后，如果自己无法解析，会返回.net域的下一级DNS服务器地址(blog.csdn.net)给本地DNS服务器。以此类推，直至找到。</span><br></pre></td></tr></table></figure><h2 id="TCP的三次握手"><a href="#TCP的三次握手" class="headerlink" title="TCP的三次握手"></a>TCP的三次握手</h2><p>请跳转：<a href="https://www.cnblogs.com/amingxiansen/p/9072074.html" target="_blank" rel="noopener">TCP 的三次握手和四次握手</a></p><h2 id="建立TCP连接后发起HTTP请求"><a href="#建立TCP连接后发起HTTP请求" class="headerlink" title="建立TCP连接后发起HTTP请求"></a>建立TCP连接后发起HTTP请求</h2><p>TCP三次握手建立连接成功后，客户端按照指定的格式开始向服务端发送HTTP请求，服务端接收请求后，解析HTTP请求，处理完业务逻辑，最后返回一个具有标准格式的HTTP响应给客户端。</p><h2 id="HTTP请求格式"><a href="#HTTP请求格式" class="headerlink" title="HTTP请求格式"></a>HTTP请求格式</h2><p>HTTP请求格式如下所示四部分组成，分别是请求行、请求头、空行、消息体，每部分内容占一行。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">request-line</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;<span class="name">general-headers</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;<span class="name">request-headers</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;<span class="name">entity-headers</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;<span class="name">empty-line</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;<span class="name">message-body</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>请求行：由三部分组成：分别是请求方法（GET/POST/DELETE/PUT/HEAD）、URI路径、HTTP版本号。</li><li>请求头：缓存相关信息（Cache-Control，If-Modified-Since）、客户端身份信息（User-Agent）等键值对信息。</li><li>空行。</li><li>主体：客户端发给服务端的请求数据，这部分数据并不是每个请求必须的。</li></ul><p><strong>常用的GET、POST、PUT、DELETE四种请求方式中：</strong></p><p>1) 关于GET和DELETE将要处理的资源信息直接放在了URL中。通过”?&lt;键值对&gt;&amp;&lt;键值对&gt;“的形式追加。但是URL最大长度为1024字节。</p><p>2) 关于POST和PUT的请求参数存储在报文的主体中。每一个参数都以”–boundary值“+”属性信息”+”空行“+”参数值”的数据结构存储。请求数据的最后以”–boundary值–“的格式结尾。</p><h2 id="服务器响应HTTP请求"><a href="#服务器响应HTTP请求" class="headerlink" title="服务器响应HTTP请求"></a>服务器响应HTTP请求</h2><p>服务器接收处理完请求后返回一个HTTP响应消息给客户端。HTTP响应消息的格式包括：状态行、响应头、空行、消息体。每部分内容占一行。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">status-line</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;<span class="name">general-headers</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;<span class="name">response-headers</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;<span class="name">entity-headers</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;<span class="name">empty-line</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;<span class="name">message-body</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>状态行：有HTTP协议版本号，状态码和状态说明三部分构成。</li><li>响应头：用于说明数据的一些信息，比如数据类型、内容长度等键值对。</li><li>空行。</li><li>消息体：服务端返回给客户端的HTML文本内容。或者其他格式的数据，比如：视频流、图片或者音频数据。</li></ul><h2 id="浏览器解析html代码，并请求html代码中的资源"><a href="#浏览器解析html代码，并请求html代码中的资源" class="headerlink" title="浏览器解析html代码，并请求html代码中的资源"></a>浏览器解析html代码，并请求html代码中的资源</h2><p>浏览器拿到html文件后，就开始解析其中的html代码，遇到js/css/image等静态资源时，向服务器端发起一个HTTP请求，如果服务器端返回304状态码（告诉浏览器服务器端没有修改该资源），那么浏览器会直接读取本地的该资源的缓存文件。否则开启新线程向服务器端去请求下载。（这个时候就用上keep-alive特性了，建立一次HTTP连接，可以请求多个资源。）</p><p>最后，浏览器利用自己内部的工作机制，把请求到的静态资源和html代码进行渲染，再呈现给用户。</p><hr>]]></content>
      
      
      
        <tags>
            
            <tag> Web </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS 实时通信之 WebSocket</title>
      <link href="/2019/10/11/JS-%E5%AE%9E%E6%97%B6%E9%80%9A%E4%BF%A1%E4%B9%8B-WebSocket/"/>
      <url>/2019/10/11/JS-%E5%AE%9E%E6%97%B6%E9%80%9A%E4%BF%A1%E4%B9%8B-WebSocket/</url>
      
        <content type="html"><![CDATA[<h3 id="Websocket-的-ws，wss-与-http-https"><a href="#Websocket-的-ws，wss-与-http-https" class="headerlink" title="Websocket 的 ws，wss 与 http,https"></a>Websocket 的 ws，wss 与 http,https</h3><blockquote><ul><li>ws 对应 http</li><li>wss 对应 https</li></ul></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">const protocol &#x3D; window.location.protocol &#x3D;&#x3D;&#x3D; &#39;http:&#39; ? &#39;ws:&#39; : &#39;wss:&#39;</span><br><span class="line">&#x2F;&#x2F; 获取 Websocket 的对应协议</span><br></pre></td></tr></table></figure><h3 id="Websocket-的用法"><a href="#Websocket-的用法" class="headerlink" title="Websocket 的用法"></a>Websocket 的用法</h3><h4 id="new-Websocket-url-protocols"><a href="#new-Websocket-url-protocols" class="headerlink" title="new Websocket(url, [,protocols])"></a>new Websocket(url, [,protocols])</h4><blockquote><ul><li>protocols (可选):<br>一个协议字符串或者一个包含协议字符串的数组。这些字符串用于指定子协议，这样单个服务器可以实现多个WebSocket子协议（例如，您可能希望一台服务器能够根据指定的协议（protocol）处理不同类型的交互）。如果不指定协议字符串，则假定为空字符串。</li><li>SECURITY_ERR (抛出异常)：<br>尝试连接的端口被阻止。</li></ul></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var socket &#x3D; new Websocket(url)</span><br></pre></td></tr></table></figure><h4 id="属性"><a href="#属性" class="headerlink" title="属性"></a>属性</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">this.socket.onopen &#x3D; () &#x3D;&gt; &#123;</span><br><span class="line">  ···   </span><br><span class="line">&#125;</span><br><span class="line">this.socket.onerror &#x3D; () &#x3D;&gt; &#123;</span><br><span class="line">  ···</span><br><span class="line">&#125;</span><br><span class="line">this.socket.onclose &#x3D; () &#x3D;&gt; &#123;</span><br><span class="line">  ···</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">this.socket.close()</span><br><span class="line">&#x2F;&#x2F; 关闭 Websocket 连接或 Websocket 的尝试连接</span><br></pre></td></tr></table></figure><hr>]]></content>
      
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS时间与时间戳的互相转化</title>
      <link href="/2019/10/11/JS%E6%97%B6%E9%97%B4%E4%B8%8E%E6%97%B6%E9%97%B4%E6%88%B3%E7%9A%84%E4%BA%92%E7%9B%B8%E8%BD%AC%E5%8C%96/"/>
      <url>/2019/10/11/JS%E6%97%B6%E9%97%B4%E4%B8%8E%E6%97%B6%E9%97%B4%E6%88%B3%E7%9A%84%E4%BA%92%E7%9B%B8%E8%BD%AC%E5%8C%96/</url>
      
        <content type="html"><![CDATA[<h2 id="moment"><a href="#moment" class="headerlink" title="moment"></a>moment</h2><ol><li><a href="http://momentjs.cn/" target="_blank" rel="noopener">Moment.js详解</a></li><li>moment.js 是 JavaScript 日期处理类库，其使用和下载均在上面的网站中<h4 id="时间戳转化成时间"><a href="#时间戳转化成时间" class="headerlink" title="时间戳转化成时间"></a>时间戳转化成时间</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var date &#x3D; new Date()</span><br><span class="line">date &#x3D; moment(date).formate(YYYY-MM-DD hh:mm:ss)</span><br></pre></td></tr></table></figure>需要注意的是<br>1）moment()里面的数据类型是时间<br>2）因为月份跟分钟的字母是一致的，所以需要区分大小写。<br>3）HH代表24小时制，hh代表12小时制<h4 id="时间转化成时间戳"><a href="#时间转化成时间戳" class="headerlink" title="时间转化成时间戳"></a>时间转化成时间戳</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var date &#x3D; new Date()</span><br><span class="line">date &#x3D; moment(date).valueOf()</span><br></pre></td></tr></table></figure></li></ol><p><strong>需要注意的是根据精确度不同的原因，有的精确到 ms，有的精确到 s</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">if (testTime &#x2F; Math.pow(10, 12) &gt;&#x3D; 1) &#123;</span><br><span class="line">  time &#x3D; moment(testTime).format(&#39;YYYY-MM-DD HH:mm:ss&#39;)</span><br><span class="line">&#125; else &#123;</span><br><span class="line">  time &#x3D; moment(testTime * 1000).format(&#39;YYYY-MM-DD HH:mm:ss&#39;)</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;&#x2F; Math.pow(a, b)是JS数学运算里面的幂运算a^b</span><br></pre></td></tr></table></figure><h2 id="关于格式的二三事"><a href="#关于格式的二三事" class="headerlink" title="关于格式的二三事"></a>关于格式的二三事</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 获取昨天</span></span><br><span class="line"><span class="keyword">let</span> yesterdayStart = moment(<span class="keyword">new</span> <span class="built_in">Date</span>()).substract(<span class="number">1</span>, <span class="string">'days'</span>).format(<span class="string">'YYYY-MM-DD 00:00:00'</span>);</span><br><span class="line"><span class="keyword">let</span> yesterdayEnd = moment(<span class="keyword">new</span> <span class="built_in">Date</span>()).substract(<span class="number">1</span>, <span class="string">'days'</span>).format(<span class="string">'YYYY-MM-DD 23:59:59'</span>);</span><br><span class="line"><span class="comment">// 今天</span></span><br><span class="line"><span class="keyword">let</span> todayStart = moment(<span class="keyword">new</span> <span class="built_in">Date</span>()).format(<span class="string">'YYYY-MM-DD 00:00:00'</span>);</span><br><span class="line"><span class="keyword">let</span> todayEnd = moment(<span class="keyword">new</span> <span class="built_in">Date</span>()).format(<span class="string">'YYYY-MM-DD 23：59：59'</span>);</span><br><span class="line"><span class="comment">// format 可以指定生成的时间字符串</span></span><br><span class="line">format(<span class="string">'YYY-MM-DD 00:00:00'</span>);</span><br></pre></td></tr></table></figure><hr>]]></content>
      
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue 插槽</title>
      <link href="/2019/09/28/Vue-%E6%8F%92%E6%A7%BD/"/>
      <url>/2019/09/28/Vue-%E6%8F%92%E6%A7%BD/</url>
      
        <content type="html"><![CDATA[<h4 id="vue-插槽-Slot"><a href="#vue-插槽-Slot" class="headerlink" title="vue 插槽 Slot"></a>vue 插槽 Slot</h4><h5 id="插槽的含义"><a href="#插槽的含义" class="headerlink" title="插槽的含义"></a>插槽的含义</h5><p>插槽，是组件的一块HTML模板。这块模板显不显示，怎样显示是由父组件决定的。所以插槽最重要的部分就是，怎样显示。</p><h5 id="一个重要的知识点"><a href="#一个重要的知识点" class="headerlink" title="一个重要的知识点"></a>一个重要的知识点</h5><p><strong>父级模板里的所有内容都是在父级作用域中编译的；子模板里的所有内容都是在子作用域中编译的。</strong></p><h5 id="后备内容"><a href="#后备内容" class="headerlink" title="后备内容"></a>后备内容</h5><p>1）在一些情况下，我们可能会希望在插槽中设置一些默认的值，当我们没有对插槽做操作时，就显示默认值，反之，就显示出我们操作的值。<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;button type&#x3D;&quot;button&quot;&gt;</span><br><span class="line">&lt;slot&gt;button&lt;&#x2F;slot&gt;</span><br><span class="line">&lt;&#x2F;button&gt;</span><br></pre></td></tr></table></figure><br>封装成组件<button-test></button-test><br>当使用<button-test>时，会执行<slot></slot>。<br>当使用<button-test>Submit</button-test>时就会渲染Submit<p></p><h5 id="单个插槽-具名插槽"><a href="#单个插槽-具名插槽" class="headerlink" title="单个插槽 | 具名插槽"></a>单个插槽 | 具名插槽</h5><p>1) 单个插槽，单个插槽可以放在组件的任意位置，但是因为没有可识别的ID，一个组件里面只能有一个插槽。<br>2) 具名插槽， 单个插槽没有名称属性，所以也被称为匿名插槽，当插槽加上了名称属性，就变成了具名插槽，因为它有可以识别的ID，所以它可以多次出现，然后根据ID去识别它的父组件。</p><h5 id="作用域插槽"><a href="#作用域插槽" class="headerlink" title="作用域插槽"></a>作用域插槽</h5><p>但是，有的时候你希望提供的组件带有一个可从子组件获取数据的可复用的插槽。<br>与此同时，在我们应用的某些部分，我们希望每个独立的待办项渲染出和子组件不太一样的东西。这也是作用域插槽的用武之地。<br>为了让这个特性成为可能，你需要做的全部事情就是将待办项内容包裹在一个<slot>元素上，然后将所有和其上下文相关的数据传递给这个插槽。<br>1）首先，一个栗子：<br>有一个组件<slot-test></slot-test>它的内容有：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;span&gt;</span><br><span class="line">&lt;slot&gt;&#123;&#123; user.firstname &#125;&#125;&lt;&#x2F;slot&gt;</span><br><span class="line">&lt;&#x2F;span&gt;</span><br></pre></td></tr></table></figure><br>现在，我们使用组件，想要改变显示名字换成姓：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;slot-test&gt;</span><br><span class="line">&#123;&#123; user.lastname &#125;&#125;</span><br><span class="line">&lt;&#x2F;slot-test&gt;</span><br></pre></td></tr></table></figure><br>结果，这样写并不会将名字换成姓。原因是 <strong>父级模板里的所有内容都是在父级作用域中编译的；子模板里的所有内容都是在子作用域中编译的</strong>。<br>这个是一个很重要的知识点。只有在<slot-test></slot-test>组件中才可以访问到user, 而我们的user是在父级组件中编写的。所以上述代码并不会工作。<br>为了可以让user在父级插槽中可用，我们采用插槽prop的方式：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;span v-bind:user&#x3D;&quot;user&quot;&gt;</span><br><span class="line">&lt;slot&gt;&#123;&#123; user.firstname &#125;&#125;&lt;&#x2F;slot&gt;</span><br><span class="line">&lt;&#x2F;sapn&gt;</span><br></pre></td></tr></table></figure><br>绑定在<slot>元素上的特性被称为插槽 prop。现在在父级作用域中，我们可以给 v-slot 带一个值来定义我们提供的插槽 prop 的名字：</slot></slot></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;slot-test&gt;</span><br><span class="line">&lt;template v-slot:defalut&#x3D;&quot;slotProps&quot;&gt;</span><br><span class="line">&#123;&#123; slotProps.user.fisrtname &#125;&#125;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;&#x2F;slot-test&gt;</span><br></pre></td></tr></table></figure><p>在这个栗子中，我们选择将包含所有插槽 prop 的对象命名为 slotProps。当然，这个名字是可以自己命名的。（特别注意：v-slot:插槽名字=”插槽特性名字”是不可缩写的）</p><hr>]]></content>
      
      
      
        <tags>
            
            <tag> Vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>搭建 Vue 项目之 Nginx 配置</title>
      <link href="/2019/09/28/%E6%90%AD%E5%BB%BA-Vue-%E9%A1%B9%E7%9B%AE%E4%B9%8B-Nginx-%E9%85%8D%E7%BD%AE/"/>
      <url>/2019/09/28/%E6%90%AD%E5%BB%BA-Vue-%E9%A1%B9%E7%9B%AE%E4%B9%8B-Nginx-%E9%85%8D%E7%BD%AE/</url>
      
        <content type="html"><![CDATA[<p>转自<a href="https://www.cnblogs.com/taiyonghai/" target="_blank" rel="noopener">小台的IT备忘录</a> <a href="https://www.cnblogs.com/taiyonghai/p/9402734.html" target="_blank" rel="noopener">Nginx Windows详细安装部署教程</a></p><h2 id="Nginx简介"><a href="#Nginx简介" class="headerlink" title="Nginx简介"></a>Nginx简介</h2><p>Nginx (engine x) 是一个高性能的HTTP和反向代理服务器，也是一个IMAP/POP3/SMTP服务器。Nginx是由伊戈尔·赛索耶夫为俄罗斯访问量第二的Rambler.ru 站点（俄文：Рамблер）开发的。</p><p>它也是一种轻量级的Web服务器，可以作为独立的服务器部署网站（类似Tomcat）。它高性能和低消耗内存的结构受到很多大公司青睐，如淘宝网站架设。</p><p>先下载直接去官网<a href="https://www.cnblogs.com/taiyonghai/p/nginx.org" target="_blank" rel="noopener">nginx.org</a>，别有Linux和Windows两个版本</p><h2 id="安装部署"><a href="#安装部署" class="headerlink" title="安装部署"></a>安装部署</h2><p><strong>1、下载完成后，解压缩，运行cmd，使用命令进行操作，不要直接双击nginx.exe，不要直接双击nginx.exe，不要直接双击nginx.exe</strong></p><p>一定要在dos窗口启动，不要直接双击nginx.exe，这样会导致修改配置后重启、停止nginx无效，需要手动关闭任务管理器内的所有nginx进程，再启动才可以</p><p><strong>2、使用命令到达nginx的加压缩后的目录</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd c:\nginx-1.15.2</span><br></pre></td></tr></table></figure><p><strong>3、启动nginx服务，启动时会一闪而过是正常的</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">start nginx</span><br></pre></td></tr></table></figure><p><strong>4、查看任务进程是否存在，dos或打开任务管理器都行</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tasklist &#x2F;fi &quot;imagename eq nginx.exe&quot;</span><br></pre></td></tr></table></figure><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/nginx%E9%85%8D%E7%BD%AE00.png" alt="img"></p><p>打开任务管理器在进程中看不到nginx.exe的进程（双击nginx.exe时会显示在这里），需要打开详细信息里面能看到隐藏的nginx.exe进程</p><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/nginx%E9%85%8D%E7%BD%AE01.png" alt="img"></p><p>如果都没有可能是启动报错了查看一下日志，在nginx目录中的logs文件夹下error.log是日志文件</p><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/nginx%E9%85%8D%E7%BD%AE03.png" alt="img"></p><p>常见的错误：</p><p>(1)端口号被占用</p><p>(2)nginx文件夹路径含中文</p><p>其他错误就详细看log中的描述</p><p><strong>5、修改配置文件，进入解压缩目录，直接文件夹点击进去即可，不需要从dos操作</strong></p><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/nginx%E9%85%8D%E7%BD%AE03.png" alt="img"></p><p>在conf目录下找到nginx.conf使用txt文本打开即可，找到server这个节点，修改端口号，如果有需求可以修改主页目录没有就不用修改</p><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/nginx%E9%85%8D%E7%BD%AE04.png" alt="img"></p><p>修改完成后保存，使用以下命令检查一下配置文件是否正确，后面是nginx.conf文件的路径，successful就说明正确了</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nginx -t -c &#x2F;nginx-1.15.2&#x2F;conf&#x2F;nginx.conf</span><br></pre></td></tr></table></figure><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/nginx%E9%85%8D%E7%BD%AE05.png" alt="img"></p><p>如果程序没启动就直接start nginx启动，如果已经启动了就使用以下命令重新加载配置文件并重启</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">nginx -s reload</span><br><span class="line">&#x2F;&#x2F; 之后就打开浏览器访问刚才的域名及端口 (http:&#x2F;&#x2F;localhost:8800)，出现欢迎页就说明部署成功了</span><br></pre></td></tr></table></figure><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/nginx%E9%85%8D%E7%BD%AE06.png" alt="img"></p><p><strong>6、关闭nginx服务使用以下命令，同样也是一闪而过是正常的，看一下是否进程已消失即可</strong></p><p>快速停止</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nginx -s stop</span><br></pre></td></tr></table></figure><p>完整有序的关闭</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nginx -s quit</span><br></pre></td></tr></table></figure><h2 id="优化配置"><a href="#优化配置" class="headerlink" title="优化配置"></a>优化配置</h2><p>打开nginx.conf按照自己需求进行配置，下面列出简单的一些常规调优配置</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br></pre></td><td class="code"><pre><span class="line">#user  nobody;</span><br><span class="line"></span><br><span class="line">#&#x3D;&#x3D;工作进程数，一般设置为cpu核心数</span><br><span class="line">worker_processes  1;</span><br><span class="line"></span><br><span class="line">#error_log  logs&#x2F;error.log;</span><br><span class="line">#error_log  logs&#x2F;error.log  notice;</span><br><span class="line">#error_log  logs&#x2F;error.log  info;</span><br><span class="line"></span><br><span class="line">#pid        logs&#x2F;nginx.pid;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">events &#123;</span><br><span class="line"></span><br><span class="line">    #&#x3D;&#x3D;最大连接数，一般设置为cpu*2048</span><br><span class="line">    worker_connections  1024;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">http &#123;</span><br><span class="line">    include       mime.types;</span><br><span class="line">    default_type  application&#x2F;octet-stream;</span><br><span class="line"></span><br><span class="line">    #log_format  main  &#39;$remote_addr - $remote_user [$time_local] &quot;$request&quot; &#39;</span><br><span class="line">    #                  &#39;$status $body_bytes_sent &quot;$http_referer&quot; &#39;</span><br><span class="line">    #                  &#39;&quot;$http_user_agent&quot; &quot;$http_x_forwarded_for&quot;&#39;;</span><br><span class="line"></span><br><span class="line">    #access_log  logs&#x2F;access.log  main;</span><br><span class="line"></span><br><span class="line">    sendfile        on;</span><br><span class="line">    #tcp_nopush     on;</span><br><span class="line"></span><br><span class="line">    #keepalive_timeout  0;</span><br><span class="line">    </span><br><span class="line">    #&#x3D;&#x3D;客户端链接超时时间</span><br><span class="line">    keepalive_timeout  65;</span><br><span class="line"></span><br><span class="line">    #gzip  on;</span><br><span class="line"></span><br><span class="line">    #当配置多个server节点时，默认server names的缓存区大小就不够了，需要手动设置大一点</span><br><span class="line">    server_names_hash_bucket_size 512;</span><br><span class="line"></span><br><span class="line">    #server表示虚拟主机可以理解为一个站点，可以配置多个server节点搭建多个站点</span><br><span class="line">    #每一个请求进来确定使用哪个server由server_name确定</span><br><span class="line">    server &#123;</span><br><span class="line">        #站点监听端口</span><br><span class="line">        listen       8800;</span><br><span class="line">        #站点访问域名</span><br><span class="line">        server_name  localhost;</span><br><span class="line">        </span><br><span class="line">        #编码格式，避免url参数乱码</span><br><span class="line">        charset utf-8;</span><br><span class="line"></span><br><span class="line">        #access_log  logs&#x2F;host.access.log  main;</span><br><span class="line"></span><br><span class="line">        #location用来匹配同一域名下多个URI的访问规则</span><br><span class="line">        #比如动态资源如何跳转，静态资源如何跳转等</span><br><span class="line">        #location后面跟着的&#x2F;代表匹配规则</span><br><span class="line">        location &#x2F; &#123;</span><br><span class="line">            #站点根目录，可以是相对路径，也可以使绝对路径</span><br><span class="line">            root   html;</span><br><span class="line">            #默认主页</span><br><span class="line">            index  index.html index.htm;</span><br><span class="line">            </span><br><span class="line">            #转发后端站点地址，一般用于做软负载，轮询后端服务器</span><br><span class="line">            #proxy_pass http:&#x2F;&#x2F;10.11.12.237:8080;</span><br><span class="line"></span><br><span class="line">            #拒绝请求，返回403，一般用于某些目录禁止访问</span><br><span class="line">            #deny all;</span><br><span class="line">            </span><br><span class="line">            #允许请求</span><br><span class="line">            #allow all;</span><br><span class="line">            </span><br><span class="line">            add_header &#39;Access-Control-Allow-Origin&#39; &#39;*&#39;;</span><br><span class="line">            add_header &#39;Access-Control-Allow-Credentials&#39; &#39;true&#39;;</span><br><span class="line">            add_header &#39;Access-Control-Allow-Methods&#39; &#39;GET, POST, OPTIONS&#39;;</span><br><span class="line">            add_header &#39;Access-Control-Allow-Headers&#39; &#39;DNT,X-CustomHeader,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type&#39;;</span><br><span class="line">            #重新定义或者添加发往后端服务器的请求头</span><br><span class="line">            #给请求头中添加客户请求主机名</span><br><span class="line">            proxy_set_header Host $host;</span><br><span class="line">            #给请求头中添加客户端IP</span><br><span class="line">            proxy_set_header X-Real-IP $remote_addr;</span><br><span class="line">            #将$remote_addr变量值添加在客户端“X-Forwarded-For”请求头的后面，并以逗号分隔。 如果客户端请求未携带“X-Forwarded-For”请求头，$proxy_add_x_forwarded_for变量值将与$remote_addr变量相同  </span><br><span class="line">            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</span><br><span class="line">            #给请求头中添加客户端的Cookie</span><br><span class="line">            proxy_set_header Cookie $http_cookie;</span><br><span class="line">            #将使用代理服务器的主域名和端口号来替换。如果端口是80，可以不加。</span><br><span class="line">            proxy_redirect off;</span><br><span class="line">            </span><br><span class="line">            #浏览器对 Cookie 有很多限制，如果 Cookie 的 Domain 部分与当前页面的 Domain 不匹配就无法写入。</span><br><span class="line">            #所以如果请求 A 域名，服务器 proxy_pass 到 B 域名，然后 B 服务器输出 Domian&#x3D;B 的 Cookie，</span><br><span class="line">            #前端的页面依然停留在 A 域名上，于是浏览器就无法将 Cookie 写入。</span><br><span class="line">            </span><br><span class="line">　　         #不仅是域名，浏览器对 Path 也有限制。我们经常会 proxy_pass 到目标服务器的某个 Path 下，</span><br><span class="line">            #不把这个 Path 暴露给浏览器。这时候如果目标服务器的 Cookie 写死了 Path 也会出现 Cookie 无法写入的问题。</span><br><span class="line">            </span><br><span class="line">            #设置“Set-Cookie”响应头中的domain属性的替换文本，其值可以为一个字符串、正则表达式的模式或一个引用的变量</span><br><span class="line">            #转发后端服务器如果需要Cookie则需要将cookie domain也进行转换，否则前端域名与后端域名不一致cookie就会无法存取</span><br><span class="line">　　　　　　  #配置规则：proxy_cookie_domain serverDomain(后端服务器域) nginxDomain(nginx服务器域)</span><br><span class="line">            proxy_cookie_domain localhost .testcaigou800.com;</span><br><span class="line">            </span><br><span class="line">            #取消当前配置级别的所有proxy_cookie_domain指令</span><br><span class="line">            #proxy_cookie_domain off;</span><br><span class="line">            #与后端服务器建立连接的超时时间。一般不可能大于75秒；</span><br><span class="line">            proxy_connect_timeout 30;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        #error_page  404              &#x2F;404.html;</span><br><span class="line"></span><br><span class="line">        # redirect server error pages to the static page &#x2F;50x.html</span><br><span class="line">        #</span><br><span class="line">        error_page   500 502 503 504  &#x2F;50x.html;</span><br><span class="line">        location &#x3D; &#x2F;50x.html &#123;</span><br><span class="line">            root   html;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">　　#当需要对同一端口监听多个域名时，使用如下配置，端口相同域名不同，server_name也可以使用正则进行配置</span><br><span class="line">　　#但要注意server过多需要手动扩大server_names_hash_bucket_size缓存区大小</span><br><span class="line">　　server &#123;</span><br><span class="line">　　　　listen 80;</span><br><span class="line">　　　　server_name www.abc.com;</span><br><span class="line">　　　　charset utf-8;</span><br><span class="line">　　　　location &#x2F; &#123;</span><br><span class="line">　　　　　　proxy_pass http:&#x2F;&#x2F;localhost:10001;</span><br><span class="line">　　　　&#125;</span><br><span class="line">　　&#125;</span><br><span class="line">　　server &#123;</span><br><span class="line">　　　　listen 80;</span><br><span class="line">　　　　server_name aaa.abc.com;</span><br><span class="line">　　　　charset utf-8;</span><br><span class="line">　　　　location &#x2F; &#123;</span><br><span class="line">　　　　　　proxy_pass http:&#x2F;&#x2F;localhost:20002;</span><br><span class="line">　　　　&#125;</span><br><span class="line">　　&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr>]]></content>
      
      
      
        <tags>
            
            <tag> Nginx </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>undefined 与条件判断</title>
      <link href="/2019/09/27/undefined-%E4%B8%8E%E6%9D%A1%E4%BB%B6%E5%88%A4%E6%96%AD/"/>
      <url>/2019/09/27/undefined-%E4%B8%8E%E6%9D%A1%E4%BB%B6%E5%88%A4%E6%96%AD/</url>
      
        <content type="html"><![CDATA[<h4 id="undefined-、true、false"><a href="#undefined-、true、false" class="headerlink" title="undefined 、true、false"></a>undefined 、true、false</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">console.log(undefined &#x3D;&#x3D;&#x3D; true)</span><br><span class="line">console.log(undefined &#x3D;&#x3D;&#x3D; false)</span><br><span class="line">console.log(undefined &#x3D;&#x3D; true)</span><br><span class="line">console.log(undefined &#x3D;&#x3D; false)</span><br><span class="line">&#x2F;&#x2F; 全部打印出 false</span><br></pre></td></tr></table></figure><h4 id="undefined-三目表达式"><a href="#undefined-三目表达式" class="headerlink" title="undefined 三目表达式"></a>undefined 三目表达式</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">console.log(undefined ? &#39;undefinedTrue&#39; : &#39;undefinedFalse&#39;)</span><br><span class="line">&#x2F;&#x2F; 打印出 undefinedFalse</span><br></pre></td></tr></table></figure><h4 id="undefined-条件判断"><a href="#undefined-条件判断" class="headerlink" title="undefined 条件判断"></a>undefined 条件判断</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">if(undefined) &#123;</span><br><span class="line">alert(&#39;true&#39;)</span><br><span class="line">&#125; else &#123;</span><br><span class="line">    alert(&#39;false&#39;)</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;&#x2F; 显示false</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">if(!undefined) &#123;</span><br><span class="line">alert(&#39;true&#39;)</span><br><span class="line">&#125; else &#123;</span><br><span class="line">    alert(&#39;false&#39;)</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;&#x2F; 显示true</span><br></pre></td></tr></table></figure><h4 id="undefined、-、-与Number"><a href="#undefined、-、-与Number" class="headerlink" title="undefined、[]、{} 与Number()"></a>undefined、[]、{} 与Number()</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">console.log(Number(undefined))&#x2F;&#x2F; 输出NaN</span><br><span class="line">console.log(Number([]))&#x2F;&#x2F; 输出0</span><br><span class="line">console.log(&#123;&#125;)&#x2F;&#x2F; 输出NaN</span><br></pre></td></tr></table></figure><h4 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h4><ol><li><strong>undefined *<em>与 *</em>true</strong> or <strong>false</strong> 做判断时的过程 (Number(undefined)、Number(true)、Number(false))。结果是（NaN, 1, 0）所以做判断时，皆为false</li><li><strong>undefined</strong> 做条件判断时，由于 <strong>false，0，NaN，undefined，null，’ ‘ *<em>，都是 *</em>false</strong> ，而 <strong>Object</strong> 则是 <strong>true</strong> ,所以可以用作条件判断（当存在值时为true,否则为false）。又因为 <strong>typedof(null)</strong> 是 <strong>Object</strong> 所以，对空对象进行条件判断时可以将其设为 null, 进而符合自己的需求以及逻辑。</li></ol><hr>]]></content>
      
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
            <tag> Vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>文件BOM头的坑</title>
      <link href="/2019/09/23/%E6%96%87%E4%BB%B6BOM%E5%A4%B4%E7%9A%84%E5%9D%91/"/>
      <url>/2019/09/23/%E6%96%87%E4%BB%B6BOM%E5%A4%B4%E7%9A%84%E5%9D%91/</url>
      
        <content type="html"><![CDATA[<p>原文链接：<a href="http://www.cnblogs.com/qinmengjiao123-123/p/8325646.html" target="_blank" rel="noopener">http://www.cnblogs.com/qinmengjiao123-123/p/8325646.html</a></p><p>转载：<a href="https://www.cnblogs.com/qinmengjiao123-123/p/8325646.html" target="_blank" rel="noopener">Macchiato</a></p><h4 id="什么是BOM？-BOM-Byte-Order-Mark"><a href="#什么是BOM？-BOM-Byte-Order-Mark" class="headerlink" title="什么是BOM？(BOM (Byte Order Mark))"></a>什么是BOM？(BOM (Byte Order Mark))</h4><p>BOM是用来判断文本文件是哪一种Unicode编码的标记，其本身是一个Unicode字符（”\uFEFF”），位于文本文件头部。</p><p>在不同的Unicode编码中，对应的bom的二进制字节如下：</p><p><strong>Bytes Encoding</strong></p><p>FE FF UTF16BE<br>FF FE UTF16LE<br>EF BB BF UTF8</p><p>所以我们可以根据文件头部的几个字节和上面的表格对应来判断该文件是哪种编码形式。</p><h4 id="如何查看你文件的BOM字符？"><a href="#如何查看你文件的BOM字符？" class="headerlink" title="如何查看你文件的BOM字符？"></a>如何查看你文件的BOM字符？</h4><p>BOM头在记事本中是看不到的</p><p>以UTF8为例，新建一个1.txt文件，然后打开文件 输入 hello world 然后另存为 此时更改文件的编码格式 由默认的ANSI 即GB2312(国标2312)编码改成UTF8</p><p>然后通过下面的node代码，来打印该文本文件的buffer 就可以看到我们所说的BOM头字符</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">let fs &#x3D; require(&#39;fs&#39;);</span><br><span class="line">fs.readFile(&#39;.&#x2F;1.txt&#39;,function(err,data)&#123;    </span><br><span class="line">console.log(data)</span><br><span class="line">&#125;) </span><br><span class="line">&#x2F;&#x2F; &lt;Buffer ef bb bf 68 65 6c 6c 6f 20 77 6f 72 6c 64&gt;</span><br><span class="line">&#x2F;&#x2F; 前三个字节就是对应的我们UTF8编码的文本的BOM头字符</span><br></pre></td></tr></table></figure><h4 id="存在的问题？"><a href="#存在的问题？" class="headerlink" title="存在的问题？"></a>存在的问题？</h4><p>虽然BOM字符起到了标记文件编码的作用但是他并不属于文件的内容部分，所以会产生一些问题：</p><p>1.在某些使用场景下就会有问题。例如我们把几个JS文件合并成一个文件后，如果文件中间含有BOM字符，就会导致浏览器JS语法错误。</p><p>2.PHP就不能识别bom头，PHP并不会忽略BOM，所以在读取、包含或者引用这些文件时，会把BOM作为该文件开头正文的一部分。根据嵌入式语言的特点，这串字符将被直接执行（显示）出来。由此造成即使页面的 top padding 设置为0，也无法让整个网页紧贴浏览器顶部，因为在html一开头有这3个字符呢！</p><h4 id="如何去掉UTF8编码的记事本文件的BOM头"><a href="#如何去掉UTF8编码的记事本文件的BOM头" class="headerlink" title="如何去掉UTF8编码的记事本文件的BOM头"></a>如何去掉UTF8编码的记事本文件的BOM头</h4><p>方法一：在文件另存为的时候选择无BOM头的UTF8编码(使用Notepad++打开，选择UTF-8无BOM编码)</p><p>方法二：使用node中的文件模块获取文件的buffer数据并去掉前三个字节，代码如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">function deleteUtf8BomHead(path) &#123;    </span><br><span class="line">let buf &#x3D; fs.readFileSync(path);    </span><br><span class="line">if (buf[0] &#x3D;&#x3D; 0xef &amp;&amp; buf[1] &#x3D;&#x3D; 0xbb &amp;&amp; buf[2] &#x3D;&#x3D; 0xbf) &#123;       </span><br><span class="line">    buf &#x3D; buf.slice(3)    </span><br><span class="line">    &#125;    </span><br><span class="line">    return buf</span><br><span class="line"> &#125;</span><br><span class="line"> console.log(deleteUtf8BomHead(&#39;.&#x2F;1.txt&#39;));</span><br><span class="line"> &#x2F;&#x2F; &lt;Buffer 68 65 6c 6c 6f 20 77 6f 72 6c 64&gt;</span><br></pre></td></tr></table></figure><p>// 将GBK编码的buffer转化成utf8的字符串<br>// 在这里我们要引入一个库 iconv-lite<br>let iconv = require(‘iconv-lite’);<br>fs.readFile(‘./2.txt’,function (err, data) {<br>console.log(data,’qq’);<br>let str = iconv.decode(data,’gbk’);<br>console.log(str);<br>})</p><hr>]]></content>
      
      
      
        <tags>
            
            <tag> UTF-8 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JavaScript空对象&amp;空数组</title>
      <link href="/2019/09/23/JavaScript%E7%A9%BA%E5%AF%B9%E8%B1%A1-%E7%A9%BA%E6%95%B0%E7%BB%84/"/>
      <url>/2019/09/23/JavaScript%E7%A9%BA%E5%AF%B9%E8%B1%A1-%E7%A9%BA%E6%95%B0%E7%BB%84/</url>
      
        <content type="html"><![CDATA[<h4 id="对象和空数组都是-Object-类型"><a href="#对象和空数组都是-Object-类型" class="headerlink" title="对象和空数组都是 Object 类型"></a>对象和空数组都是 Object 类型</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">console.log(typedof&#123;&#125;)&#x2F;&#x2F; 控制台输出 Object</span><br><span class="line">console.log(typedof[])&#x2F;&#x2F; 控制台输出 Object</span><br></pre></td></tr></table></figure><h4 id="空数组转化成-Number-会得到-0，空对象转化成-Number-会得到-NaN"><a href="#空数组转化成-Number-会得到-0，空对象转化成-Number-会得到-NaN" class="headerlink" title="空数组转化成 Number 会得到 0，空对象转化成 Number 会得到 NaN"></a>空数组转化成 Number 会得到 0，空对象转化成 Number 会得到 NaN</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">console.log(Number(&#123;&#125;)&#x2F;&#x2F; 控制台输出 NaN</span><br><span class="line">consoole.log(Number([])&#x2F;&#x2F; 控制台输出 0</span><br></pre></td></tr></table></figure><h4 id="More"><a href="#More" class="headerlink" title="More"></a>More</h4><p>1）空数组和空对象都是 Object 类型，因此直接用于 if 条件判断时会被转化成 true</p><p>2) 任意值与布尔值进行比较时，会将两边的值都转化成 Number</p><p>​ &lt;1&gt; 如果将空数组与布尔值 false 比较，false 转化为0，而空数组 [] 也转化为 0，因此 [] == false 的判断得到true。<br>​ &lt;2&gt; 如果将空对象与布尔值false比较，false转化为0，而空对象{}转化为NaN，由于NaN与任何数都不相等，因此 {} == false 的判断得到 false。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">if ([])&#x2F;&#x2F; 空数组是 Object 类型， if条件判断时会被转化成 true</span><br><span class="line">console.log(1);</span><br><span class="line">if (&#123;&#125;)空对象是 Object 类型， if条件判断时会被转化成 true</span><br><span class="line">console.log(2);</span><br><span class="line">if ([] &#x3D;&#x3D; false)&#x2F;&#x2F; 空数组与布尔值比较，先都转化成 Number，两者都是0， 所以相等</span><br><span class="line">console.log(3);</span><br><span class="line">if (&#123;&#125; &#x3D;&#x3D; false) &#x2F;&#x2F; 空对象与布尔值比较，先都转化成 Number， &#123;&#125; 是 NaN, false 是 0， 两者不相等</span><br><span class="line">console.log(4);</span><br><span class="line">&#x2F;&#x2F; 所以，控制台输出 1，2，3</span><br></pre></td></tr></table></figure><h4 id="综上所述"><a href="#综上所述" class="headerlink" title="综上所述"></a>综上所述</h4><ol><li>只要意在保存对象的变量还没有真正的保存对象，就应该明确的让该变量保存 null 值。这样做不仅可以体现 null 作为空指针对象的惯例，也有助于进一步区分 null 和 undefined.</li><li>但是对于空数组这种特殊的对象，我们可以设置成[], 然后通过 Array.length 为0 来进行数组是否为空的判断</li><li>需要注意的一点是，当在现实应用中如果发现，当数据为空时，后端接口返回数据是null而不是[]时，需要写（test ? test :test.length）不然会报length of null的错误(需注意)</li></ol><hr>]]></content>
      
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Markdowm常用语法</title>
      <link href="/2019/09/20/Markdowm%E5%B8%B8%E7%94%A8%E8%AF%AD%E6%B3%95/"/>
      <url>/2019/09/20/Markdowm%E5%B8%B8%E7%94%A8%E8%AF%AD%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<hr><p>（转载自简书，作者<a href="https://www.jianshu.com/u/19a0e9db3421" target="_blank" rel="noopener">Sealwk</a> <a href="https://www.jianshu.com/p/821dfadf0b24" target="_blank" rel="noopener">原文链接</a>）</p><h4 id="标题"><a href="#标题" class="headerlink" title="标题"></a>标题</h4><p>对于标题，Markdown的语法是在标题前面加<code>#</code>号,加一个 <code>#</code>就代表一级标题，两个<code>##</code>就代表二级标题，以此类推，像文中的“前言”和“标题”，我就是分别在前面加了两个<code>##</code>和四个<code>####</code>，从而形成你所看到的效果，语法如下：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 一级标题</span></span><br><span class="line"><span class="comment">## 二级标题</span></span><br><span class="line"><span class="comment">### 三级标题</span></span><br><span class="line"><span class="comment">#### 四级标题</span></span><br><span class="line"><span class="comment">##### 五级标题</span></span><br><span class="line"><span class="comment">###### 六级标题</span></span><br></pre></td></tr></table></figure><p>特别需要注意的是在 <code>#</code>和内容之间最好留有一个空格，至于为什么这样，类似于代码规范吧！</p><h4 id="列表"><a href="#列表" class="headerlink" title="列表"></a>列表</h4><p>对于列表，Markdown的语法是在内容前面加一个短的横杠<code>-</code>，语法如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">- 第一点</span><br><span class="line">- 第二点</span><br></pre></td></tr></table></figure><p>效果如下：</p><ul><li>第一点</li><li>第二点</li></ul><p>如果你想要在列表上加上序号，可以这样写：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">- 1.第一点</span><br><span class="line">- 2.第二点</span><br></pre></td></tr></table></figure><p>效果如下：</p><ul><li>1.第一点</li><li>2.第二点</li></ul><p>同样的，在<code>-</code>和内容之间最好留有一个空格。</p><h4 id="链接"><a href="#链接" class="headerlink" title="链接"></a>链接</h4><p>在Markdown中插入链接的格式为：<code>[显示文本](链接地址)</code><br>例如：<code>[Seal&#39;s Blog](https://sealwk.github.io/)</code><br>显示出来的效果就是：<br><a href="https://link.jianshu.com?t=https://sealwk.github.io/" target="_blank" rel="noopener">Seal’s Blog</a><br>当我们点击Seal’s Blog时，就会跳转到我的GitHub博客。</p><h4 id="图片"><a href="#图片" class="headerlink" title="图片"></a>图片</h4><p>插入图片的写法与插入链接非常类似，语法如下：<br><code>![](图片链接地址)</code><br>我们可以看到，相比于插入链接，只是多了一个<code>!</code>号。当<code>[]</code>内容为空时，则不显示文本；<code>()</code>中为图片链接地址。例如：<br><code>![程序猿](http://upload-images.jianshu.io/upload_images/5652645-e010cb12a8a9b42e.jpeg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)</code>，<br>效果如下：</p><p><img src="https://upload-images.jianshu.io/upload_images/5652645-e010cb12a8a9b42e.jpeg?imageMogr2/auto-orient/strip%7CimageView2/2/w/350" alt="img"></p><p>​ 程序猿</p><h4 id="引用"><a href="#引用" class="headerlink" title="引用"></a>引用</h4><p>在写作的时候，我们可能需要经常引用别人的东西，这时候只需要在引用的内容前面加一个<code>&gt;</code>就可以了。语法如下：<br><code>&gt; 引用的内容 换行</code><br>效果如下：</p><blockquote><p>引用的内容<br>换行</p></blockquote><h4 id="粗体与斜体"><a href="#粗体与斜体" class="headerlink" title="粗体与斜体"></a>粗体与斜体</h4><p>粗体与斜体的语法非常简单，用两个<code>*</code>包含一段文本就是粗体，用一个<code>*</code>包含一段文本就是斜体。<br>粗体：<code>**粗体**</code> 效果：<strong>粗体</strong><br>斜体：<code>*斜体*</code> 效果：<em>斜体</em></p><h4 id="代码的引用"><a href="#代码的引用" class="headerlink" title="代码的引用"></a>代码的引用</h4><p>如果要引用的代码不换行的话，用反引号进行包裹，像文中提到的语法格式，我都是用反引号进行包裹的。<br>那么如果要引用的代码换行的话，只需要在首行和末行分别用三个反引号包裹即可。语法如下：</p><p><img src="https://upload-images.jianshu.io/upload_images/5652645-735e74230fa9b2f6.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1078" alt="img"></p><p>效果如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">private String name;</span><br><span class="line">name &#x3D; &quot;xiaoqiang&quot;;</span><br></pre></td></tr></table></figure><h4 id="分割线"><a href="#分割线" class="headerlink" title="分割线"></a>分割线</h4><p>分割线的表示方式有很多，下面这些都可以表示分割线：<br><code>* * *</code><br><code>***</code><br><code>*****</code><br><code>- - -</code><br><code>---------------------------------------</code><br>效果都是一样的，如下：</p><hr><hr>]]></content>
      
      
      
        <tags>
            
            <tag> Markdown </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>v-bind、v-model、v-on</title>
      <link href="/2019/09/20/v-on,v-model,v-bind/"/>
      <url>/2019/09/20/v-on,v-model,v-bind/</url>
      
        <content type="html"><![CDATA[<h4 id="v-bind、v-model、v-on"><a href="#v-bind、v-model、v-on" class="headerlink" title="v-bind、v-model、v-on"></a>v-bind、v-model、v-on</h4><p>1.v-bind (缩写:)动态的绑定一个或多个特性、或一个组件prop表达式。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;img :src&#x3D;&quot;imageSrc&quot;&gt;</span><br><span class="line">&lt;img v-bind&#x3D;&quot;imageSrc&quot;&gt;</span><br><span class="line">&lt;my-component :prop&#x3D;&quot;someThing&quot;&gt;</span><br></pre></td></tr></table></figure><p>2.v-model (没有缩写)在表单控件或者组件上创建双向绑定。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;input v-model&#x3D;&quot;message&quot; placeholder&#x3D;&quot;use of v-model&quot;&#x2F;&gt;</span><br></pre></td></tr></table></figure><p>3.v-on (缩写@)监听DOM事件。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;a v-on:click&#x3D;&quot;doSomthing&quot;&gt;</span><br><span class="line">&lt;a @click&#x3D;&quot;doSomthing&quot;&gt;</span><br></pre></td></tr></table></figure><hr>]]></content>
      
      
      
        <tags>
            
            <tag> Vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue 设计理念</title>
      <link href="/2019/09/11/Vue%E7%9A%84%E8%AE%BE%E8%AE%A1%E7%90%86%E5%BF%B5/"/>
      <url>/2019/09/11/Vue%E7%9A%84%E8%AE%BE%E8%AE%A1%E7%90%86%E5%BF%B5/</url>
      
        <content type="html"><![CDATA[<h2 id="Vue的核心理念是什么？"><a href="#Vue的核心理念是什么？" class="headerlink" title="Vue的核心理念是什么？"></a>Vue的核心理念是什么？</h2><p>启发：<a href="https://www.jianshu.com/p/a4339bad5256" target="_blank" rel="noopener">简书crazy_banana</a> <a href="https://blog.csdn.net/u011392772/article/details/87431992" target="_blank" rel="noopener">CSDN意念586</a> <a href="https://www.zhihu.com/question/51907207" target="_blank" rel="noopener">知乎</a></p><p>Vue (读音 /vjuː/，类似于 <strong>view</strong>) 是一套用于构建用户界面的<strong>渐进式框架</strong>。与其它大型框架不同的是，Vue 被设计为可以自底向上逐层应用。Vue 的核心库只关注视图层，不仅易于上手，还便于与第三方库或既有项目整合。另一方面，当与<a href="https://cn.vuejs.org/v2/guide/single-file-components.html" target="_blank" rel="noopener">现代化的工具链</a>以及各种<a href="https://github.com/vuejs/awesome-vue#libraries--plugins" target="_blank" rel="noopener">支持类库</a>结合使用时，Vue 也完全能够为复杂的单页应用提供驱动。(摘自官网)</p><h4 id="Before"><a href="#Before" class="headerlink" title="Before"></a>Before</h4><p>JS 从 HTML 文件中获取 DOM 元素，然后添加事件，最后进行一系列的 JS 编程操作。（“DOM流”开发方式）</p><p>问题：需求变化－＞代码重写－＞工作量增大＆＆逻辑混乱</p><h4 id="Then"><a href="#Then" class="headerlink" title="Then"></a>Then</h4><p>开发人员重新梳理代码的组织结构，将 JS 代码划分为三个模块，数据（M），视图（V），逻辑控制（*）。</p><p>数据板块只含有数据内容，视图板块负责更改样式，逻辑控制负责联系视图板块和数据板块。</p><p>优化： 需求变化 - &gt; 修改相应板块</p><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/MV.png" alt="MV"></p><p>这种开发方式，实际上就是我们常说的 MV 模式，而MVC、MVVM、MVP[2] 等都是 MV 的衍生物。</p><p>代码组织结构的目的：<strong>数据与视图间不会发生直接联系</strong></p><p><strong>“DOM流”</strong> 缺陷原因：把 DOM 当作 Model，直接从DOM中获取数据，然后又改变 DOM 来更新视图。视图与模型实际上时混在一起了，代码组织自然很混乱，不易维护。</p><h4 id="Now"><a href="#Now" class="headerlink" title="Now"></a>Now</h4><p>而这种 MV* 的代码组织方式，渐渐的就演变成了所谓的框架。 团队开发中会选择使用框架的一个重要的原因，因为框架提前设定好的代码的组织结构让实际开发项目的代码有一个相对明确地方，这样不用担心因为团队中某个人疏忽或特有编码习惯， 造成代码整体的混乱。</p><p><strong>Vue框架思想之一</strong>：数据更新视图随之更新</p><p>​ <img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/vue.png" alt="Vue">　</p><p>在具有响应式系统的 Vue 实例中，DOM 状态只是数据状态的一个映射 即 UI=VM(State) ，当等式右边 State 改变了，页面展示部分 UI 就会发生相应改变。很多人初次上手 Vue 时，觉得很好用，原因就是这个。</p><p>不过需要注意的是，<strong>Vue 的核心定位并不是一个框架，设计上也没有完全遵循 MVVM 模式，可以看到在图中只有 State 和 View 两部分，<br>Vue 的核心功能强调的是状态到界面的映射，对于代码的结构组织并不重视，<br>所以单纯只使用其核心功能时，它并不是一个框架，而更像一个视图模板引擎，这也是为什么 Vue 开发者把其命名成读音类似于 view 的原因。</strong></p><h4 id="渐进式"><a href="#渐进式" class="headerlink" title="渐进式"></a><em>渐进式</em></h4><p>常说 Vue 是一个渐进式框架，但是却一直对“渐进式”的定义存在疑惑。什么是渐进式？？？一步步来的意思吗？？？用到哪一部分就使用那一部分不用将所有的框架部分都下载下来？？？</p><p>下图是 Vue 的部件图，在声明式渲染（视图模板引擎）的基础上，可以通过添加组件系统、客户端路由。大规模状态管理来构建一个完整的框架。<strong>更为重要的是，这些功能相互独立，你可以在核心功能的基础上选择你需要的组件，而不需要将全部的内容下载下来。</strong>也就是说，所谓“渐进式”,不过是 Vue 的使用方式，同时也体现了 Vue 的设计思想。</p><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/process.png" alt="gradual model"></p><p>在<a href="https://www.jianshu.com/p/a4339bad5256" target="_blank" rel="noopener">crazy_banana</a>的讲解下，我去翻了知乎关于渐进式框架的理解，感觉很优秀。摘抄下来，大家也可以去知乎看一下<a href="https://www.zhihu.com/question/51907207" target="_blank" rel="noopener">徐飞</a>：</p><p>渐进式代表的含义是：主张最少。</p><p>每个框架都不可避免会有自己的一些特点，从而会对使用者有一定的要求，这些要求就是主张，主张有强有弱，它的强势程度会影响在业务开发中的使用方式。</p><p>比如说，Angular，它两个版本都是强主张的，如果你用它，必须接受以下东西：</p><p>- 必须使用它的模块机制<br>- 必须使用它的依赖注入<br>- 必须使用它的特殊形式定义组件（这一点每个视图框架都有，难以避免）</p><p>所以Angular是带有比较强的排它性的，如果你的应用不是从头开始，而是要不断考虑是否跟其他东西集成，这些主张会带来一些困扰。</p><p>比如React，它也有一定程度的主张，它的主张主要是函数式编程的理念，比如说，你需要知道什么是副作用，什么是纯函数，如何隔离副作用。它的侵入性看似没有Angular那么强，主要因为它是软性侵入。</p><p>你当然可以只用React的视图层，但几乎没有人这么用，为什么呢，因为你用了它，就会觉得其他东西都很别扭，于是你要引入Flux，Redux，Mobx之中的一个，于是你除了Redux，还要看saga，于是你要纠结业务开发过程中每个东西有没有副作用，纯不纯，甚至你连这个都可能不能忍：</p><p>const getData = () =&gt; {<br>// 如果不存在，就在缓存中创建一个并返回<br>// 如果存在，就从缓存中拿<br>}</p><p>因为你要纠结它有外部依赖，同样是不加参数调用，连续两次的结果是不一样的，于是不纯。</p><p>为什么我一直不认同在中后台项目中使用React，原因就在这里，我反对的是整个业务应用的函数式倾向，很多人都是看到有很多好用的React组件，就会倾向于把它引入，然后，你知道怎么把自己的业务映射到函数式的那套理念上吗？</p><p>函数式编程，无副作用，写出来的代码没有bug，这是真理没错，但是有两个问题需要考虑：</p><p>\1. JS本身，有太多特性与纯函数式的主张不适配，这一点，题叶能说得更多<br>\2. 业务系统里面的实体关系，如何组织业务逻辑，几十年来积累了无数的基于设计模式的场景经验，有太多的东西可以模仿，但是，没有人给你总结那么多如何把你的厚重业务映射到函数式理念的经验，这个地方很考验综合水平的，真的每个人都有能力去做这种映射吗？</p><p>函数式编程无bug的根本就在于要把业务逻辑完全都依照这套理念搞好，你看看自己公司做中后台的员工，他们熟悉的是什么？是基于传统OO设计模式的这套东西，他们以为拿着你们给的组件库就得到了一切，但是可能还要被灌输函数式编程的一整套东西，而且又没人告诉他们在业务场景下，如何规划业务模型、组织代码，还要求快速开发，怎么能快起来？</p><p>所以我真是心疼这些人，他们要的只是组件库，却不得不把业务逻辑的思考方式也作转换，这个事情没有一两年时间洗脑，根本洗不到能开发业务的程度。</p><p>没有好组件库的时候，大家痛点在视图层，有了基于React的组件化，把原先没那么痛的业务逻辑部分搞得也痛起来了，原先大家按照设计模式教的东西，照猫画虎还能继续开发了，学了一套新理念之后，都不知道怎么写代码了，怎么写都怀疑自己不对，可怕。</p><p>我宁可支持Angular也不支持React的原因也就在此，Angular至少在业务逻辑这块没有软主张，能够跟OO设计模式那套东西配合得很好。我面对过很多商务场景，都是前端很厚重的东西，不仅仅是管理控制台这种，这类东西里面，业务逻辑的占比要比视图大挺多的，如何组织这些东西，目前几个主流技术栈都没有解决方案，要靠业务架构师去摆平。</p><p>如果你的场景不是这么厚重的，只是简单管理控制台，那当我没说好了。</p><p>框架是不能解决业务问题的，只能作为工具，放在合适的人手里，合适的场景下。</p><p>现在我要说说为什么我这么支持Vue了，没什么，可能有些方面是不如React，不如Angular，但它是渐进的，没有强主张，你可以在原有大系统的上面，把一两个组件改用它实现，当jQuery用；也可以整个用它全家桶开发，当Angular用；还可以用它的视图，搭配你自己设计的整个下层用。你可以在底层数据逻辑的地方用OO和设计模式的那套理念，也可以函数式，都可以，它只是个轻量视图而已，只做了自己该做的事，没有做不该做的事，仅此而已。</p><p>渐进式的含义，我的理解是：没有多做职责之外的事。</p><hr>]]></content>
      
      
      
        <tags>
            
            <tag> Vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo指令</title>
      <link href="/2019/09/11/Hexo%E6%8C%87%E4%BB%A4/"/>
      <url>/2019/09/11/Hexo%E6%8C%87%E4%BB%A4/</url>
      
        <content type="html"><![CDATA[<h2 id="init"><a href="#init" class="headerlink" title="init"></a>init</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo init [folder]</span><br></pre></td></tr></table></figure><p>​ 新建一个网站。如果没有设置 <code>folder</code> ，Hexo 默认在目前的文件夹建立网站。</p><h2 id="new"><a href="#new" class="headerlink" title="new"></a>new</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new [layout] &lt;title&gt;</span><br></pre></td></tr></table></figure><p>​ 新建一篇文章。如果没有设置 <code>layout</code> 的话，默认使用 <a href="https://hexo.io/zh-cn/docs/configuration" target="_blank" rel="noopener">_config.yml</a> 中的 <code>default_layout</code> 参数代替。如果标题包含空格的话，请使用引号括起来。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new &quot;post title with whitespace&quot;</span><br></pre></td></tr></table></figure><table><thead><tr><th>参数</th><th>描述</th></tr></thead><tbody><tr><td><code>-p</code>, <code>--path</code></td><td>自定义新文章的路径</td></tr><tr><td><code>-r</code>, <code>--replace</code></td><td>如果存在同名文章，将其替换</td></tr><tr><td><code>-s</code>, <code>--slug</code></td><td>文章的 Slug，作为新文章的文件名和发布后的 URL</td></tr></tbody></table><pre><code>默认情况下，Hexo  会使用文章的标题来决定文章文件的路径。对于独立页面来说，Hexo  会创建一个以标题为名字的目录，并在目录中放置一个 `index.md` 文件。你可以使用 `--path` 参数来覆盖上述行为、自行决定文件的目录：</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new page --path about&#x2F;me &quot;About me&quot;</span><br></pre></td></tr></table></figure><p>​ 以上命令会创建一个 <code>source/about/me.md</code> 文件，同时 Front Matter 中的 title 为 <code>&quot;About me&quot;</code></p><p>​ 注意！title 是必须指定的！如果你这么做并不能达到你的目的：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new page --path about&#x2F;me</span><br></pre></td></tr></table></figure><p>​ 此时 Hexo 会创建 <code>source/_posts/about/me.md</code>，同时 <code>me.md</code> 的 Front Matter 中的 title 为 <code>&quot;page&quot;</code>。这是因为在上述命令中，hexo-cli 将 <code>page</code> 视为指定文章的标题、并采用默认的 <code>layout</code>。</p><h2 id="generate"><a href="#generate" class="headerlink" title="generate"></a>generate</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>​ 生成静态文件。</p><table><thead><tr><th>选项</th><th>描述</th></tr></thead><tbody><tr><td><code>-d</code>, <code>--deploy</code></td><td>文件生成后立即部署网站</td></tr><tr><td><code>-w</code>, <code>--watch</code></td><td>监视文件变动</td></tr><tr><td><code>-b</code>, <code>--bail</code></td><td>生成过程中如果发生任何未处理的异常则抛出异常</td></tr><tr><td><code>-f</code>, <code>--force</code></td><td>强制重新生成文件 Hexo 引入了差分机制，如果 <code>public</code> 目录存在，那么 <code>hexo g</code> 只会重新生成改动的文件。 使用该参数的效果接近 <code>hexo clean &amp;&amp; hexo generate</code></td></tr></tbody></table><p>​ 该命令可以简写为</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo g</span><br></pre></td></tr></table></figure><h2 id="deploy"><a href="#deploy" class="headerlink" title="deploy"></a>deploy</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>​ 部署网站。</p><table><thead><tr><th>参数</th><th>描述</th></tr></thead><tbody><tr><td><code>-g</code>, <code>--generate</code></td><td>部署之前预先生成静态文件</td></tr></tbody></table><p>该命令可以简写为：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo d</span><br></pre></td></tr></table></figure><h2 id="clean"><a href="#clean" class="headerlink" title="clean"></a>clean</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo clean</span><br></pre></td></tr></table></figure><p>​ 清除缓存文件 (<code>db.json</code>) 和已生成的静态文件 (<code>public</code>)。</p><p>​ 在某些情况（尤其是更换主题后），如果发现您对站点的更改无论如何也不生效，您可能需要运行该命令。</p><h2 id="publish"><a href="#publish" class="headerlink" title="publish"></a>publish</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo publish [layout] &lt;filename&gt;</span><br></pre></td></tr></table></figure><p>​ 发表草稿。</p><h2 id="server"><a href="#server" class="headerlink" title="server"></a>server</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>​ 启动服务器。默认情况下，访问网址为： <code>http://localhost:4000/</code>。</p><table><thead><tr><th>选项</th><th>描述</th></tr></thead><tbody><tr><td><code>-p</code>, <code>--port</code></td><td>重设端口</td></tr><tr><td><code>-s</code>, <code>--static</code></td><td>只使用静态文件</td></tr><tr><td><code>-l</code>, <code>--log</code></td><td>启动日记记录，使用覆盖记录格式</td></tr></tbody></table><h2 id="render"><a href="#render" class="headerlink" title="render"></a>render</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo render &lt;file1&gt; [file2] ...</span><br></pre></td></tr></table></figure><p>​ 渲染文件。</p><table><thead><tr><th>参数</th><th>描述</th></tr></thead><tbody><tr><td><code>-o</code>, <code>--output</code></td><td>设置输出路径</td></tr></tbody></table><h2 id="migrate"><a href="#migrate" class="headerlink" title="migrate"></a>migrate</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo migrate &lt;type&gt;</span><br></pre></td></tr></table></figure><p>​ 从其他博客系统 <a href="https://hexo.io/zh-cn/docs/migration" target="_blank" rel="noopener">迁移内容</a>。</p><h2 id="list"><a href="#list" class="headerlink" title="list"></a>list</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo list &lt;type&gt;</span><br></pre></td></tr></table></figure><p>​ 列出网站资料。</p><h2 id="version"><a href="#version" class="headerlink" title="version"></a>version</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo version</span><br></pre></td></tr></table></figure><p>​ 显示 Hexo 版本。</p><h2 id="选项"><a href="#选项" class="headerlink" title="选项"></a>选项</h2><h3 id="安全模式"><a href="#安全模式" class="headerlink" title="安全模式"></a>安全模式</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo --safe</span><br></pre></td></tr></table></figure><p>​ 在安全模式下，不会载入插件和脚本。当您在安装新插件遭遇问题时，可以尝试以安全模式重新执行。</p><h3 id="调试模式"><a href="#调试模式" class="headerlink" title="调试模式"></a>调试模式</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo --debug</span><br></pre></td></tr></table></figure><p>​ 在终端中显示调试信息并记录到 <code>debug.log</code>。当您碰到问题时，可以尝试用调试模式重新执行一次，并提交调试信息到 GitHub 。</p><h3 id="简洁模式"><a href="#简洁模式" class="headerlink" title="简洁模式"></a>简洁模式</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo --silent</span><br></pre></td></tr></table></figure><p>​ 隐藏终端信息。</p><h3 id="自定义配置文件的路径"><a href="#自定义配置文件的路径" class="headerlink" title="自定义配置文件的路径"></a>自定义配置文件的路径</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># 使用 custom.yml 代替默认的 _config.yml$ hexo server --config custom.yml# 使用 custom.yml 和 custom2.json，其中 custom2.json 优先级更高$ hexo generate --config custom.yml,custom2.json,custom3.yml</span><br></pre></td></tr></table></figure><p>​ 自定义配置文件的路径，指定这个参数后将不再使用默认的 <code>_config.yml</code>。<br>​ 你可以使用一个 YAML 或 JSON 文件的路径，也可以使用逗号分隔（无空格）的多个 YAML 或 JSON 文件的路径。</p><p>例如：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># 使用 custom.yml 代替默认的 _config.yml$ hexo server --config custom.yml# 使用 custom.yml, custom2.json 和 custom3.yml，其中 custom3.yml 优先级最高，其次是 custom2.json$ hexo generate --config custom.yml,custom2.json,custom3.yml</span><br></pre></td></tr></table></figure><p>​ 当你指定了多个配置文件以后，Hexo 会按顺序将这部分配置文件合并成一个 <code>_multiconfig.yml</code>。如果遇到重复的配置，排在后面的文件的配置会覆盖排在前面的文件的配置。这个原则适用于任意数量、任意深度的 YAML 和 JSON 文件。</p><h3 id="显示草稿"><a href="#显示草稿" class="headerlink" title="显示草稿"></a>显示草稿</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo --draft</span><br></pre></td></tr></table></figure><p>​ 显示 <code>source/_drafts</code> 文件夹中的草稿文章。</p><h3 id="自定义-CWD"><a href="#自定义-CWD" class="headerlink" title="自定义 CWD"></a>自定义 CWD</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo --cwd &#x2F;path&#x2F;to&#x2F;cwd</span><br></pre></td></tr></table></figure><p>​ 自定义当前工作目录（Current working directory）的路径。</p><hr>]]></content>
      
      
      
        <tags>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo 和 Github 搭建博客</title>
      <link href="/2019/09/11/gitHub%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/"/>
      <url>/2019/09/11/gitHub%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/</url>
      
        <content type="html"><![CDATA[<h4 id="前言："><a href="#前言：" class="headerlink" title="前言："></a>前言：</h4><p>使用 GitHub 搭建博客有很多优点：</p><ol><li>静态页面渲染，访问速度快</li><li>Git 版本库存储，可以恢复之前文件，数据安全</li><li>可以采用自己的域名搭建博客，充分实现个性化</li></ol><h4 id="前期配置："><a href="#前期配置：" class="headerlink" title="前期配置："></a>前期配置：</h4><h5 id="1、官网安装-node-js。"><a href="#1、官网安装-node-js。" class="headerlink" title="1、官网安装 node.js。"></a>1、官网安装 <a href="https://nodejs.org/en/" target="_blank" rel="noopener">node.js</a>。</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 查看Node.js安装是否成功</span><br><span class="line">node -v</span><br><span class="line">npm -v</span><br></pre></td></tr></table></figure><h5 id="2、安装Git和配置好Git环境"><a href="#2、安装Git和配置好Git环境" class="headerlink" title="2、安装Git和配置好Git环境"></a>2、安装Git和配置好Git环境</h5><p>安装成功的象征就是</p><ul><li>在电脑上任何位置<strong>鼠标右键</strong>能够出现两个选择(Git GUI here &amp;&amp; Git Bash here)</li><li><pre><code class="cmd">git --version// 显示安装的 git 版本</code></pre></li></ul><h5 id="3、注册Github账户，Github地址"><a href="#3、注册Github账户，Github地址" class="headerlink" title="3、注册Github账户，Github地址"></a>3、注册Github账户，<a href="https://github.com/" target="_blank" rel="noopener">Github地址</a></h5><h5 id="4、安装Hexo"><a href="#4、安装Hexo" class="headerlink" title="4、安装Hexo"></a>4、安装Hexo</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 首先创建一个文件夹，我是在D盘建了一个blog文件夹</span><br><span class="line">&#x2F;&#x2F; 进入创建的文件夹</span><br><span class="line">cd blog</span><br><span class="line">&#x2F;&#x2F; 输入npm install hexo -g，开始安装 Hexo</span><br><span class="line">npm install hexo -g</span><br><span class="line">&#x2F;&#x2F; 查看 Hexo 是否安装成功</span><br><span class="line">hexo -v</span><br></pre></td></tr></table></figure><h5 id="5、安装依赖"><a href="#5、安装依赖" class="headerlink" title="5、安装依赖"></a>5、安装依赖</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 输入hexo init，初始化该文件夹（有点漫长的等待。。。）</span><br><span class="line">hexo init</span><br><span class="line">&#x2F;&#x2F; 输入npm install，安装所需要的组件</span><br><span class="line">npm install</span><br><span class="line">&#x2F;&#x2F; 输入hexo g，首次体验Hexo</span><br><span class="line">hexo g</span><br><span class="line">&#x2F;&#x2F; 输入hexo s，开启服务器，访问该网址，正式体验Hexo</span><br><span class="line">hexo s</span><br></pre></td></tr></table></figure><p>浏览器打开显示的本地地址，如果出现如下图片:</p><p><img src="https://my-blogimage.oss-cn-qingdao.aliyuncs.com/img/hexo%E5%88%9D%E5%A7%8B%E5%8C%96.png" alt="初始地址"></p><p>说明安装成功。</p><p>如果显示端口号被占用。则可如下所示，排除问题：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 停止服务器</span><br><span class="line">ctrl+c</span><br><span class="line">&#x2F;&#x2F; 改变端口号</span><br><span class="line">hexo server -p</span><br></pre></td></tr></table></figure><h5 id="6、配置Deployment，在其文件夹中，找到-config-yml文件，修改repo值（在末尾）"><a href="#6、配置Deployment，在其文件夹中，找到-config-yml文件，修改repo值（在末尾）" class="headerlink" title="6、配置Deployment，在其文件夹中，找到_config.yml文件，修改repo值（在末尾）"></a>6、配置Deployment，在其文件夹中，找到_config.yml文件，修改repo值（在末尾）</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># Deployment</span><br><span class="line">## Docs: https:&#x2F;&#x2F;hexo.io&#x2F;docs&#x2F;deployment.html</span><br><span class="line">deploy:</span><br><span class="line">  type: git</span><br><span class="line">  repository: git@github.com:yourGit</span><br><span class="line">  branch: master</span><br></pre></td></tr></table></figure><h5 id="7、下载主题，在-config-yml文件中修改主题路径，实现个性化配置"><a href="#7、下载主题，在-config-yml文件中修改主题路径，实现个性化配置" class="headerlink" title="7、下载主题，在_config.yml文件中修改主题路径，实现个性化配置"></a>7、下载主题，在_config.yml文件中修改主题路径，实现个性化配置</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># Extensions</span><br><span class="line">## Plugins: https:&#x2F;&#x2F;hexo.io&#x2F;plugins&#x2F;</span><br><span class="line">## Themes: https:&#x2F;&#x2F;hexo.io&#x2F;themes&#x2F;</span><br><span class="line">#theme: landscape</span><br><span class="line">theme: yourtheme</span><br></pre></td></tr></table></figure><h5 id="8、至此博客搭建完成，创作请看Hexo指令"><a href="#8、至此博客搭建完成，创作请看Hexo指令" class="headerlink" title="8、至此博客搭建完成，创作请看Hexo指令"></a>8、至此博客搭建完成，创作请看<a href="https://www.snowysound.github.io/blog/2019/09/11/Hexo指令/" target="_blank" rel="noopener">Hexo指令</a></h5><h4 id="参考："><a href="#参考：" class="headerlink" title="参考："></a>参考：</h4><ul><li><a href="https://www.cnblogs.com/xuwujing/p/7629965.html" target="_blank" rel="noopener">hexo + github + 自己域名搭建博客</a></li><li><a href="https://huiraoo.github.io/blog/2019/04/29/new-blog/" target="_blank" rel="noopener">超详细的搭建博客教程</a></li></ul><hr>]]></content>
      
      
      
        <tags>
            
            <tag> Blog </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
